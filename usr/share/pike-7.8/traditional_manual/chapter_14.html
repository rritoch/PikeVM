<html><head><title>Reference Manual for Pike v7.8 release 116</title></head>
<body bgcolor='white' text='black'>
<dl><dt><table width='100%' cellpadding='3' cellspacing='0' border='0'><tr><td bgcolor='#EEEEEE'><font size='+3'>&nbsp; 14. Database Access</font></td></tr></table><br />
</dt><dd><dl><dt><table width='100%' cellpadding='3' cellspacing='0' border='0'><tr><td bgcolor='#EEEEEE'><font size='+3'>&nbsp; Module <b>Sql</b></font></td></tr></table><br />
</dt><dd><dl>
<dt><font face='Helvetica'>Description</font><dt>
<dd><font face='Helvetica'><p>The SQL module is a unified interface between pike and all
 its supported databases. The parts of this module that is
 usuable for all normal uses is the <font face='courier'>Sql</font>  class and the
 <font face='courier'>sql_result</font>  class.</p>
</font></dd>
<dt><font face='Helvetica'>Example</font><dt>
<dd><pre><p>string people_in_group(string group) {
    Sql.Sql db = Sql.Sql("mysql://localhost/testdb");
    return db-&gt;query("SELECT name FROM users WHERE "
                     "group=%s", group)-&gt;name * ",";
 }</p>
</pre></dd></dl><dl><dt><table width='100%' cellpadding='3' cellspacing='0' border='0'><tr><td bgcolor='#EEEEEE'><font size='+3'>&nbsp; CLASS <b><font color='#005080'>Sql.postgres_result</font></b></font></td></tr></table><br />
</dt><dd><dl>
<dt><font face='Helvetica'>Description</font><dt>
<dd><font face='Helvetica'><p>Sql.postgres_result contains the result of a Postgres-query.
 See <font face='courier'>Sql.postgres</font>  for a description of this program's functions.</p>
</font></dd></dl>

<hr clear='all' size='1' noshadow='noshadow' />
<dl>
<dt><font face='Helvetica'><font face='Helvetica'>Inherit</font>
<font size='+1'><b>postgres_result</b></font>
</font><dt>
<dd><p><font face='courier'>inherit Postgres.postgres_result</font><font face='courier'> : <font color='#F000F0'>postgres_result</font></font></p></dd>
</dl>
</dd></dl><dl><dt><table width='100%' cellpadding='3' cellspacing='0' border='0'><tr><td bgcolor='#EEEEEE'><font size='+3'>&nbsp; CLASS <b><font color='#005080'>Sql.msql</font></b></font></td></tr></table><br />
</dt><dd><dl>
<dt><font face='Helvetica'>Description</font><dt>
<dd><font face='Helvetica'><p>Implements the glue needed to access the Msql-module from the generic
 SQL module.</p>
</font></dd></dl>

<hr clear='all' size='1' noshadow='noshadow' />
<dl>
<dt><font face='Helvetica'><font face='Helvetica'>Inherit</font>
<font size='+1'><b>msql</b></font>
</font><dt>
<dd><p><font face='courier'>inherit Msql.msql</font><font face='courier'> : <font color='#F000F0'>msql</font></font></p></dd>
</dl>
</dd></dl><dl><dt><table width='100%' cellpadding='3' cellspacing='0' border='0'><tr><td bgcolor='#EEEEEE'><font size='+3'>&nbsp; CLASS <b><font color='#005080'>Sql.mysqls</font></b></font></td></tr></table><br />
</dt><dd><dl>
<dt><font face='Helvetica'>Description</font><dt>
<dd><font face='Helvetica'><p>Implements SQL-urls for
   <tt>mysqls://[user[:password]@][hostname][:port][/database]</tt></p>
<p> Sets the connection to SSL-mode, and sets the default configuration
 file to <font face='courier'><code>"/etc/my.cnf"</code></font>.</p>
</font></dd><dt><font face='Helvetica' color='red'>FIXME</font></dt>
<dd><font face='Heletica' color='red'><p>Ought to load a suitable default configuration file for Win32 too.</p>
</font></dd>
<dt><font face='Helvetica'>Note</font><dt>
<dd><font face='Helvetica'><p>This connection method only exists if the Mysql-module has been
   compiled with SSL-support.</p>
</font></dd></dl>

<hr clear='all' size='1' noshadow='noshadow' />
<dl>
<dt><font face='Helvetica'><font face='Helvetica'>Inherit</font>
<font size='+1'><b>mysql</b></font>
</font><dt>
<dd><p><font face='courier'>inherit Sql.mysql</font><font face='courier'> : <font color='#F000F0'>mysql</font></font></p></dd>
</dl>
</dd></dl><dl><dt><table width='100%' cellpadding='3' cellspacing='0' border='0'><tr><td bgcolor='#EEEEEE'><font size='+3'>&nbsp; CLASS <b><font color='#005080'>Sql.pgsqls</font></b></font></td></tr></table><br />
</dt><dd><dl>
<dt><font face='Helvetica'>Description</font><dt>
<dd><font face='Helvetica'><p>Implements SQL-urls for
   <tt>pgsqls://[user[:password]@][hostname][:port][/database]</tt></p>
<p> Sets the connection to SSL-mode.</p>
</font></dd>
<dt><font face='Helvetica'>See also</font><dt>
<dd><font face='Helvetica'><p><font face='courier'>Sql.pgsql</font> , <font face='courier'>Sql.Sql</font> </p>
</font></dd></dl>

<hr clear='all' size='1' noshadow='noshadow' />
<dl>
<dt><font face='Helvetica'><font face='Helvetica'>Inherit</font>
<font size='+1'><b>pgsql</b></font>
</font><dt>
<dd><p><font face='courier'>inherit Sql.pgsql</font><font face='courier'> : <font color='#F000F0'>pgsql</font></font></p></dd>
</dl>
</dd></dl><dl><dt><table width='100%' cellpadding='3' cellspacing='0' border='0'><tr><td bgcolor='#EEEEEE'><font size='+3'>&nbsp; CLASS <b><font color='#005080'>Sql.tds</font></b></font></td></tr></table><br />
</dt><dd><dl>
<dt><font face='Helvetica'>Description</font><dt>
<dd><font face='Helvetica'><p>The TDS SQL-protocol.</p>
<p> This protocol is used by Sybase and Microsoft's SQL-servers.</p>
</font></dd>
<dt><font face='Helvetica'>Example</font><dt>
<dd><pre><p><tt>Sql.Sql con = Sql.Sql("tds://user:pass@host/database");</tt></p>
</pre></dd>
<dt><font face='Helvetica'>See also</font><dt>
<dd><font face='Helvetica'><p><font face='courier'>Sql.Sql()</font> </p>
</font></dd></dl>

<hr clear='all' size='1' noshadow='noshadow' />
<dl>
<dt><font face='Helvetica'><font face='Helvetica'>Method</font>
<font size='+1'><b>tds_error</b></font>
</font><dt>
<dd><p><tt><font color='#202020'>void</font> <b><font color='#000066'>tds_error</font>(</b><font color='#202020'>string</font> <font color='#005080'>msg</font>, <font color='#202020'>mixed</font> ...  <font color='#005080'>args</font><b>)</b></tt></p></dd>

<dt><font face='Helvetica'>Description</font><dt>
<dd><font face='Helvetica'><p>Format and report an error.</p>
</font></dd></dl>


<hr clear='all' size='1' noshadow='noshadow' />
<dl>
<dt><font face='Helvetica'><font face='Helvetica'>Method</font>
<font size='+1'><b>insert_id</b></font>
</font><dt>
<dd><p><tt><font color='#202020'>int</font> <b><font color='#000066'>insert_id</font>(</b><b>)</b></tt></p></dd>

<dt><font face='Helvetica'>Description</font><dt>
<dd><font face='Helvetica'><p>Fetch the identity of the last insert (if available).</p>
<p> This performs the query <font face='courier'><code>"SELECT&nbsp;@@identity&nbsp;AS&nbsp;insert_id"</code></font>.</p>
</font></dd>
<dt><font face='Helvetica'>Returns</font><dt>
<dd><font face='Helvetica'><p>Returns the identity of the last insert as an integer if available.
   Otherwise returns <font face='courier'><code>0</code></font> (zero).</p>
</font></dd></dl>


<hr clear='all' size='1' noshadow='noshadow' />
<dl>
<dt><font face='Helvetica'><font face='Helvetica'>Method</font>
<font size='+1'><b>server_info</b></font>
</font><dt>
<dd><p><tt><font color='#202020'>string</font> <b><font color='#000066'>server_info</font>(</b><b>)</b></tt></p></dd>

<dt><font face='Helvetica'>Description</font><dt>
<dd><font face='Helvetica'><p>Return a string describing the server.</p>
</font></dd></dl>


<hr clear='all' size='1' noshadow='noshadow' />
<dl>
<dt><font face='Helvetica'><font face='Helvetica'>Method</font>
<font size='+1'><b>error</b></font>
</font><dt>
<dd><p><tt><font color='#202020'>string</font> <b><font color='#000066'>error</font>(</b><b>)</b></tt></p></dd>

<dt><font face='Helvetica'>Description</font><dt>
<dd><font face='Helvetica'><p>Return the last error (or possibly the last warning or
 informational message).</p>
</font></dd></dl>


<hr clear='all' size='1' noshadow='noshadow' />
<dl>
<dt><font face='Helvetica'><font face='Helvetica'>Method</font>
<font size='+1'><b>create</b></font>
</font><dt>
<dd><p><tt><font color='#202020'>void</font> Sql.tds<b>(</b><font color='#202020'>string</font>|<font color='#202020'>void</font> <font color='#005080'>server</font>, <font color='#202020'>string</font>|<font color='#202020'>void</font> <font color='#005080'>database</font>, <font color='#202020'>string</font>|<font color='#202020'>void</font> <font color='#005080'>user</font>, <font color='#202020'>string</font>|<font color='#202020'>void</font> <font color='#005080'>password</font><b>)</b></tt></p></dd>

<dt><font face='Helvetica'>Description</font><dt>
<dd><font face='Helvetica'><p>Connect to a remote SQL server via the TDS protocol.</p>
</font></dd>
<dt><font face='Helvetica'>Parameter <tt><font color='#8000F0'>server</font></tt></font><dt>
<dd></dd><dd><font face='Helvetica'><p>Server to connect to.</p>
</font></dd>
<dt><font face='Helvetica'>Parameter <tt><font color='#8000F0'>database</font></tt></font><dt>
<dd></dd><dd><font face='Helvetica'><p>Database to connect to.</p>
</font></dd>
<dt><font face='Helvetica'>Parameter <tt><font color='#8000F0'>user</font></tt></font><dt>
<dd></dd><dd><font face='Helvetica'><p>User to access as.</p>
<p>   An explicit domain may be specified by preceeding the user name
   with the domain name and a <font face='courier'><code>'\\'</code></font>.</p>
</font></dd>
<dt><font face='Helvetica'>Parameter <tt><font color='#8000F0'>password</font></tt></font><dt>
<dd></dd><dd><font face='Helvetica'><p>Password to access with.</p>
<p> Usually accessed via <font face='courier'>Sql.Sql()</font> .</p>
</font></dd>
<dt><font face='Helvetica'>See also</font><dt>
<dd><font face='Helvetica'><p><font face='courier'>Sql.Sql()</font> </p>
</font></dd></dl>
<dl><dt><table width='100%' cellpadding='3' cellspacing='0' border='0'><tr><td bgcolor='#EEEEEE'><font size='+3'>&nbsp; ENUM <b><font color='#005080'>Sql.tds.Token</font></b></font></td></tr></table><br />
</dt><dd><dl>
<dt><font face='Helvetica'>Description</font><dt>
<dd><font face='Helvetica'><p>Tokens that may occur in the answers from the server.</p>
</font></dd></dl></dd></dl><dl><dt><table width='100%' cellpadding='3' cellspacing='0' border='0'><tr><td bgcolor='#EEEEEE'><font size='+3'>&nbsp; ENUM <b><font color='#005080'>Sql.tds.EnvType</font></b></font></td></tr></table><br />
</dt><dd><dl>
<dt><font face='Helvetica'>Description</font><dt>
<dd><font face='Helvetica'><p>Environment types.</p>
<p> Used by <font face='courier'>TDS_ENV_CHANGE_TOKEN</font> </p>
</font></dd></dl></dd></dl><dl><dt><table width='100%' cellpadding='3' cellspacing='0' border='0'><tr><td bgcolor='#EEEEEE'><font size='+3'>&nbsp; ENUM <b><font color='#005080'>Sql.tds.FieldType</font></b></font></td></tr></table><br />
</dt><dd><dl>
<dt><font face='Helvetica'>Description</font><dt>
<dd><font face='Helvetica'><p>Field types.</p>
</font></dd></dl></dd></dl><dl><dt><table width='100%' cellpadding='3' cellspacing='0' border='0'><tr><td bgcolor='#EEEEEE'><font size='+3'>&nbsp; CLASS <b><font color='#005080'>Sql.tds.Connection</font></b></font></td></tr></table><br />
</dt><dd><dl>
<dt><font face='Helvetica'>Description</font><dt>
<dd><font face='Helvetica'><p>A connection to a TDS server.</p>
</font></dd></dl>

<hr clear='all' size='1' noshadow='noshadow' />
<dl>
<dt><font face='Helvetica'><font face='Helvetica'>Variable</font>
<font size='+1'><b>socket</b></font>
</font><dt>
<dd><p><tt><font color='#005080'>Stdio.File</font> Sql.tds.Connection.<b><font color='#F000F0'>socket</font></b></tt></p></dd>

<dt><font face='Helvetica'>Description</font><dt>
<dd><font face='Helvetica'><p>The actual TCP connection.</p>
</font></dd></dl>


<hr clear='all' size='1' noshadow='noshadow' />
<dl>
<dt><font face='Helvetica'><font face='Helvetica'>Method</font>
<font size='+1'><b>send_packet</b></font>
</font><dt>
<dd><p><tt><font color='#005080'>InPacket</font> <b><font color='#000066'>send_packet</font>(</b><font color='#005080'>Packet</font> <font color='#005080'>p</font>, <font color='#202020'>int</font> <font color='#005080'>flag</font>, <font color='#202020'>int</font>|<font color='#202020'>void</font> <font color='#005080'>last</font><b>)</b></tt></p></dd>

<dt><font face='Helvetica'>Description</font><dt>
<dd><font face='Helvetica'><p>Send a packet to the TDS server.</p>
</font></dd>
<dt><font face='Helvetica'>Note</font><dt>
<dd><font face='Helvetica'><p>May only be called when the connection is idle.</p>
</font></dd>
<dt><font face='Helvetica'>Returns</font><dt>
<dd><font face='Helvetica'><p>If <font face='courier'>last</font>  is true an <font face='courier'>InPacket</font>  with the result
   will be returned.</p>
</font></dd></dl>
<dl><dt><table width='100%' cellpadding='3' cellspacing='0' border='0'><tr><td bgcolor='#EEEEEE'><font size='+3'>&nbsp; CLASS <b><font color='#005080'>Sql.tds.Connection.InPacket</font></b></font></td></tr></table><br />
</dt><dd><dl>
<dt><font face='Helvetica'>Description</font><dt>
<dd><font face='Helvetica'><p>An incoming packet from the TDS server.</p>
</font></dd></dl></dd></dl><dl><dt><table width='100%' cellpadding='3' cellspacing='0' border='0'><tr><td bgcolor='#EEEEEE'><font size='+3'>&nbsp; CLASS <b><font color='#005080'>Sql.tds.Connection.Packet</font></b></font></td></tr></table><br />
</dt><dd><dl>
<dt><font face='Helvetica'>Description</font><dt>
<dd><font face='Helvetica'><p>An outgoing packet to the TDS server.</p>
</font></dd></dl></dd></dl></dd></dl><dl><dt><table width='100%' cellpadding='3' cellspacing='0' border='0'><tr><td bgcolor='#EEEEEE'><font size='+3'>&nbsp; CLASS <b><font color='#005080'>Sql.tds.compile_query</font></b></font></td></tr></table><br />
</dt><dd><dl>
<dt><font face='Helvetica'>Description</font><dt>
<dd><font face='Helvetica'><p>A compiled query.</p>
</font></dd></dl>

<hr clear='all' size='1' noshadow='noshadow' />
<dl>
<dt><font face='Helvetica'><font face='Helvetica'>Method</font>
<font size='+1'><b>create</b></font>
</font><dt>
<dd><p><tt><font color='#202020'>void</font> Sql.tds.compile_query<b>(</b><font color='#202020'>string</font> <font color='#005080'>query</font><b>)</b></tt></p></dd>

<dt><font face='Helvetica'>Description</font><dt>
<dd><font face='Helvetica'><p>Compile a query.</p>
</font></dd>
<dt><font face='Helvetica'>See also</font><dt>
<dd><font face='Helvetica'><p><font face='courier'>big_query()</font> </p>
</font></dd></dl>
</dd></dl><dl><dt><table width='100%' cellpadding='3' cellspacing='0' border='0'><tr><td bgcolor='#EEEEEE'><font size='+3'>&nbsp; CLASS <b><font color='#005080'>Sql.tds.big_query</font></b></font></td></tr></table><br />
</dt><dd><dl>
<dt><font face='Helvetica'>Description</font><dt>
<dd><font face='Helvetica'><p>A query result set.</p>
</font></dd></dl>

<hr clear='all' size='1' noshadow='noshadow' />
<dl>
<dt><font face='Helvetica'><font face='Helvetica'>Method</font>
<font size='+1'><b>fetch_row</b></font>
</font><dt>
<dd><p><tt><font color='#202020'>int</font>|<font color='#202020'>array</font>(<font color='#202020'>string</font>|<font color='#202020'>int</font>) <b><font color='#000066'>fetch_row</font>(</b><b>)</b></tt></p></dd>

<dt><font face='Helvetica'>Description</font><dt>
<dd><font face='Helvetica'><p>Fetch the next row from the result set.</p>
</font></dd>
<dt><font face='Helvetica'>Returns</font><dt>
<dd><font face='Helvetica'><p>Returns <font face='courier'><code>0</code></font> (zero) if all rows have been returned.</p>
<p>   Otherwise returns an <font face='courier'><code>array(string|int)</code></font> with one
   entry for each field. If the field is <tt>NULL</tt> the
   entry will be <font face='courier'><code>0</code></font> (zero), otherwise the entry
   will contain a string representing the value.</p>
</font></dd></dl>


<hr clear='all' size='1' noshadow='noshadow' />
<dl>
<dt><font face='Helvetica'><font face='Helvetica'>Method</font>
<font size='+1'><b>fetch_fields</b></font>
</font><dt>
<dd><p><tt><font color='#202020'>array</font>(<font color='#202020'>mapping</font>(<font color='#202020'>string</font>:<font color='#202020'>mixed</font>)) <b><font color='#000066'>fetch_fields</font>(</b><b>)</b></tt></p></dd>

<dt><font face='Helvetica'>Description</font><dt>
<dd><font face='Helvetica'><p>Fetch a description of the fields in the result.</p>
</font></dd>
<dt><font face='Helvetica'>Returns</font><dt>
<dd><font face='Helvetica'><p>Returns an array with a mapping for each of the fields in
   the result.</p>
<p>   The mappings contain the following information:</p>
<ul>
<li><p>Standard fields:</p>
<table bgcolor='black' border='0' cellspacing='0' cellpadding='0'><tr><td>
<table cellspacing='1' cellpadding='3' border='0' bgcolor='black'>
<tr valign='top'><td bgcolor='white'><tt><font color='green'>"name"</font> : <font color='#202020'>string</font></tt></td><td bgcolor='white'><p>The name of the field.</p>
</td></tr>
<tr valign='top'><td bgcolor='white'><tt><font color='green'>"table"</font> : <font color='#202020'>string</font>|<font color='#202020'>void</font></tt></td><td bgcolor='white'><p>The name of the table (if available).</p>
</td></tr>
</table></td></tr></table><br />
</li><li><p>TDS-specific fields:</p>
<table bgcolor='black' border='0' cellspacing='0' cellpadding='0'><tr><td>
<table cellspacing='1' cellpadding='3' border='0' bgcolor='black'>
<tr valign='top'><td bgcolor='white'><tt><font color='green'>"nullable"</font> : <font color='#202020'>int</font>(0..1)</tt></td><td bgcolor='white'><p><font face='courier'><code>1</code></font> if the field may contain <tt>NULL</tt>.</p>
</td></tr>
<tr valign='top'><td bgcolor='white'><tt><font color='green'>"writeable"</font> : <font color='#202020'>int</font>(0..1)</tt></td><td bgcolor='white'><p><font face='courier'><code>1</code></font> if the field may be changed.</p>
</td></tr>
<tr valign='top'><td bgcolor='white'><tt><font color='green'>"identity"</font> : <font color='#202020'>int</font>(0..1)</tt></td><td bgcolor='white'><p><font face='courier'><code>1</code></font> if the field is the identity for the row.</p>
</td></tr>
<tr valign='top'><td bgcolor='white'><tt><font color='green'>"column_size"</font> : <font color='#202020'>int</font></tt></td><td bgcolor='white'><p>Width of the field.</p>
</td></tr>
<tr valign='top'><td bgcolor='white'><tt><font color='green'>"timestamp"</font> : <font color='#202020'>int</font>(0..1)</tt></td><td bgcolor='white'><p>Time stamp information for last change is available.</p>
</td></tr>
<tr valign='top'><td bgcolor='white'><tt><font color='green'>"column_prec"</font> : <font color='#202020'>int</font>|<font color='#202020'>void</font></tt></td><td bgcolor='white'><p>Precision of the field.</p>
</td></tr>
<tr valign='top'><td bgcolor='white'><tt><font color='green'>"column_scale"</font> : <font color='#202020'>int</font>|<font color='#202020'>void</font></tt></td><td bgcolor='white'><p>Scale exponent of the field.</p>
</td></tr>
<tr valign='top'><td bgcolor='white'><tt><font color='green'>"usertype"</font> : <font color='#202020'>int</font></tt></td><td bgcolor='white' rowspan='5'><p>Internal use only.</p>
</td></tr>
<tr valign='top'><td bgcolor='white'><tt><font color='green'>"flags"</font> : <font color='#202020'>int</font></tt></td></tr>
<tr valign='top'><td bgcolor='white'><tt><font color='green'>"column_type"</font> : <font color='#202020'>int</font></tt></td></tr>
<tr valign='top'><td bgcolor='white'><tt><font color='green'>"cardinal_type"</font> : <font color='#202020'>int</font></tt></td></tr>
<tr valign='top'><td bgcolor='white'><tt><font color='green'>"varint_size"</font> : <font color='#202020'>int</font></tt></td></tr>
</table></td></tr></table><br />
</li></ul>
</font></dd></dl>


<hr clear='all' size='1' noshadow='noshadow' />
<dl>
<dt><font face='Helvetica'><font face='Helvetica'>Method</font>
<font size='+1'><b>create</b></font>
</font><dt>
<dd><p><tt><font color='#202020'>void</font> Sql.tds.big_query<b>(</b><font color='#202020'>string</font>|<font color='#005080'>compile_query</font> <font color='#005080'>query</font><b>)</b></tt></p></dd>

<dt><font face='Helvetica'>Description</font><dt>
<dd><font face='Helvetica'><p>Execute a query against the database.</p>
</font></dd>
<dt><font face='Helvetica'>Parameter <tt><font color='#8000F0'>query</font></tt></font><dt>
<dd></dd><dd><font face='Helvetica'><p>The query to execute. This can either be a string, or
   a compiled query.</p>
</font></dd>
<dt><font face='Helvetica'>See also</font><dt>
<dd><font face='Helvetica'><p><font face='courier'>compile_query()</font> </p>
</font></dd></dl>
</dd></dl></dd></dl><dl><dt><table width='100%' cellpadding='3' cellspacing='0' border='0'><tr><td bgcolor='#EEEEEE'><font size='+3'>&nbsp; CLASS <b><font color='#005080'>Sql.pgsql</font></b></font></td></tr></table><br />
</dt><dd><dl>
<dt><font face='Helvetica'>Description</font><dt>
<dd><font face='Helvetica'><p>This is an interface to the PostgreSQL database
 server. This module is independent of external libraries.
 Note that you <b>do not</b> need to have a
 PostgreSQL server running on your host to use this module: you can
 connect to the database over a TCP/IP socket.</p>
<p> This module replaces the functionality of the older <font face='courier'>Sql.postgres</font> 
 and <font face='courier'>Postgres.postgres</font>  modules.</p>
<p> This module supports the following features:</p>
<p> - PostgreSQL network protocol version 3, authentication methods
   currently supported are: cleartext and MD5 (recommended).</p>
<p> - Streaming queries which do not buffer the whole resulset in memory.</p>
<p> - Automatic binary transfers to and from the database for most common
   datatypes (amongst others: integer, text and bytea types).</p>
<p> - SQL-injection protection by allowing just one statement per query
   and ignoring anything after the first (unquoted) semicolon in the query.</p>
<p> - COPY support for streaming up- and download.</p>
<p> - Accurate error messages.</p>
<p> - Automatic precompilation of complex queries (session cache).</p>
<p> - Multiple simultaneous queries on the same database connection.</p>
<p> - Cancelling of long running queries by force or by timeout.</p>
<p> - Event driven NOTIFY.</p>
<p> - SSL encrypted connections (optional or forced).</p>
<p> Refer to the PostgreSQL documentation for further details.</p>
</font></dd>
<dt><font face='Helvetica'>Note</font><dt>
<dd><font face='Helvetica'><p>Multiple simultaneous queries on the same database connection is a
   feature that none of the other database drivers for Pike support.
   So, although it's efficient, its use will make switching database drivers
   difficult.</p>
</font></dd>
<dt><font face='Helvetica'>See also</font><dt>
<dd><font face='Helvetica'><p><font face='courier'>Sql.Sql</font> , <font face='courier'>Sql.postgres</font> </p>
</font></dd></dl>

<hr clear='all' size='1' noshadow='noshadow' />
<dl>
<dt><font face='Helvetica'><font face='Helvetica'>Method</font>
<font size='+1'><b>create</b></font>
</font><dt>
<dd><p><tt><font color='#202020'>void</font> Sql.pgsql<b>(</b><b>)</b></tt><br />
<tt><font color='#202020'>void</font> Sql.pgsql<b>(</b><font color='#202020'>string</font> <font color='#005080'>host</font>, <font color='#202020'>void</font>|<font color='#202020'>string</font> <font color='#005080'>database</font>, <font color='#202020'>void</font>|<font color='#202020'>string</font> <font color='#005080'>user</font>, <font color='#202020'>void</font>|<font color='#202020'>string</font> <font color='#005080'>password</font>, <font color='#202020'>void</font>|<font color='#202020'>mapping</font>(<font color='#202020'>string</font>:<font color='#202020'>mixed</font>) <font color='#005080'>options</font><b>)</b></tt></p></dd>

<dt><font face='Helvetica'>Description</font><dt>
<dd><font face='Helvetica'><p>With no arguments, this function initializes (reinitializes if a
 connection had been previously set up) a connection to the
 PostgreSQL backend. Since PostgreSQL requires a database to be
 selected, it will try to connect to the default database. The
 connection may fail however for a variety of reasons, in this case
 the most likely of all is because you don't have enough authority
 to connect to that database. So use of this particular syntax is
 discouraged.</p>
<p> The host argument can have the syntax <font face='courier'><code>"hostname"</code></font> or
 <font face='courier'><code>"hostname:portname"</code></font>. This allows to specify the TCP/IP
 port to connect to. If it is <font face='courier'><code>0</code></font> or <font face='courier'><code>""</code></font>, it will try
 to connect to localhost, default port.</p>
<p> The database argument specifies the database to connect to. If
 <font face='courier'><code>0</code></font> or <font face='courier'><code>""</code></font>, it will try to connect to the specified
 database.</p>
<p> The options argument currently supports at least the following:</p>
<table bgcolor='black' border='0' cellspacing='0' cellpadding='0'><tr><td>
<table cellspacing='1' cellpadding='3' border='0' bgcolor='black'>
<tr valign='top'><td bgcolor='white'><tt><font color='green'>"use_ssl"</font></tt></td><td bgcolor='white'><p>If the database supports and allows SSL connections, the session
     will be SSL encrypted, if not, the connection will fallback
     to plain unencrypted</p>
</td></tr>
<tr valign='top'><td bgcolor='white'><tt><font color='green'>"force_ssl"</font></tt></td><td bgcolor='white'><p>If the database supports and allows SSL connections, the session
     will be SSL encrypted, if not, the connection will abort</p>
</td></tr>
<tr valign='top'><td bgcolor='white'><tt><font color='green'>"cache_autoprepared_statements"</font></tt></td><td bgcolor='white'><p>If set to zero, it disables the automatic statement prepare and
     cache logic; caching prepared statements can be problematic
     when stored procedures and tables are redefined which leave stale
     references in the already cached prepared statements</p>
</td></tr>
<tr valign='top'><td bgcolor='white'><tt><font color='green'>"client_encoding"</font></tt></td><td bgcolor='white'><p>Character encoding for the client side, it defaults to use
     database encoding, e.g.: "SQL_ASCII"</p>
</td></tr>
<tr valign='top'><td bgcolor='white'><tt><font color='green'>"standard_conforming_strings"</font></tt></td><td bgcolor='white'><p>When on, backslashes in strings must not be escaped any longer,
     <font face='courier'>quote</font>  automatically adjusts quoting strategy accordingly</p>
</td></tr>
<tr valign='top'><td bgcolor='white'><tt><font color='green'>"escape_string_warning"</font></tt></td><td bgcolor='white'><p>When on, a warning is issued if a backslash (\) appears in an
     ordinary string literal and <font face='courier'>standard_conforming_strings</font>  is off,
     defaults to on</p>
</td></tr>
</table></td></tr></table><br />
<p>For the numerous other options please check the PostgreSQL manual.</p>
</font></dd>
<dt><font face='Helvetica'>Note</font><dt>
<dd><font face='Helvetica'><p>You need to have a database selected before using the sql-object,
 otherwise you'll get exceptions when you try to query it. Also
 notice that this function <b>can</b> raise exceptions if the db
 server doesn't respond, if the database doesn't exist or is not
 accessible by you.</p>
</font></dd>
<dt><font face='Helvetica'>See also</font><dt>
<dd><font face='Helvetica'><p><font face='courier'>Postgres.postgres</font> , <font face='courier'>Sql.Sql</font> , <font face='courier'>postgres-&gt;select_db</font> </p>
</font></dd></dl>


<hr clear='all' size='1' noshadow='noshadow' />
<dl>
<dt><font face='Helvetica'><font face='Helvetica'>Method</font>
<font size='+1'><b>error</b></font>
</font><dt>
<dd><p><tt><font color='#202020'>string</font> <b><font color='#000066'>error</font>(</b><b>)</b></tt></p></dd>

<dt><font face='Helvetica'>Description</font><dt>
<dd><font face='Helvetica'><p>This function returns the textual description of the last
 server-related error. Returns <font face='courier'><code>0</code></font> if no error has occurred
 yet. It is not cleared upon reading (can be invoked multiple
 times, will return the same result until a new error occurs).</p>
<p> During the execution of a statement, this function accumulates all
 non-error messages (notices, warnings, etc.).  If a statement does not
 generate any errors, this function will return all collected messages
 from the last statement.</p>
<p> To clear the error, pass 1 as argument.</p>
</font></dd>
<dt><font face='Helvetica'>See also</font><dt>
<dd><font face='Helvetica'><p>big_query</p>
</font></dd></dl>


<hr clear='all' size='1' noshadow='noshadow' />
<dl>
<dt><font face='Helvetica'><font face='Helvetica'>Method</font>
<font size='+1'><b>host_info</b></font>
</font><dt>
<dd><p><tt><font color='#202020'>string</font> <b><font color='#000066'>host_info</font>(</b><b>)</b></tt></p></dd>

<dt><font face='Helvetica'>Description</font><dt>
<dd><font face='Helvetica'><p>This function returns a string describing what host are we talking to,
 and how (TCP/IP or UNIX sockets).</p>
</font></dd>
<dt><font face='Helvetica'>See also</font><dt>
<dd><font face='Helvetica'><p>server_info</p>
</font></dd></dl>


<hr clear='all' size='1' noshadow='noshadow' />
<dl>
<dt><font face='Helvetica'><font face='Helvetica'>Method</font>
<font size='+1'><b>cancelquery</b></font>
</font><dt>
<dd><p><tt><font color='#202020'>void</font> <b><font color='#000066'>cancelquery</font>(</b><b>)</b></tt></p></dd>

<dt><font face='Helvetica'>Description</font><dt>
<dd><font face='Helvetica'><p>Cancels the currently running query.</p>
<p> This function is PostgreSQL-specific, and thus it is not available
 through the generic SQL-interface.</p>
</font></dd>
<dt><font face='Helvetica'>See also</font><dt>
<dd><font face='Helvetica'><p>reload</p>
</font></dd></dl>


<hr clear='all' size='1' noshadow='noshadow' />
<dl>
<dt><font face='Helvetica'><font face='Helvetica'>Method</font>
<font size='+1'><b>set_charset</b></font>
</font><dt>
<dd><p><tt><font color='#202020'>void</font> <b><font color='#000066'>set_charset</font>(</b><font color='#202020'>string</font> <font color='#005080'>charset</font><b>)</b></tt></p></dd>

<dt><font face='Helvetica'>Description</font><dt>
<dd><font face='Helvetica'><p>Changes the connection charset.</p>
<p><font face='courier'>charset</font>  is a PostgreSQL charset name.</p>
</font></dd>
<dt><font face='Helvetica'>See also</font><dt>
<dd><font face='Helvetica'><p><font face='courier'>get_charset</font> , <font face='courier'>create</font> </p>
</font></dd></dl>


<hr clear='all' size='1' noshadow='noshadow' />
<dl>
<dt><font face='Helvetica'><font face='Helvetica'>Method</font>
<font size='+1'><b>get_charset</b></font>
</font><dt>
<dd><p><tt><font color='#202020'>string</font> <b><font color='#000066'>get_charset</font>(</b><b>)</b></tt></p></dd>

<dt><font face='Helvetica'>Description</font><dt>
<dd><font face='Helvetica'><p>Returns the PostgreSQL name for the current connection charset.</p>
</font></dd>
<dt><font face='Helvetica'>See also</font><dt>
<dd><font face='Helvetica'><p><font face='courier'>set_charset</font> , <font face='courier'>getruntimeparameters</font> </p>
</font></dd></dl>


<hr clear='all' size='1' noshadow='noshadow' />
<dl>
<dt><font face='Helvetica'><font face='Helvetica'>Method</font>
<font size='+1'><b>getruntimeparameters</b></font>
</font><dt>
<dd><p><tt><font color='#202020'>mapping</font>(<font color='#202020'>string</font>:<font color='#202020'>string</font>) <b><font color='#000066'>getruntimeparameters</font>(</b><b>)</b></tt></p></dd>

<dt><font face='Helvetica'>Description</font><dt>
<dd><font face='Helvetica'><p>Returns the set of currently active runtimeparameters for
 the open session; these are initialised by the options parameter
 during session creation, and then processed and returned by the server.</p>
<p> Common values are:</p>
<table bgcolor='black' border='0' cellspacing='0' cellpadding='0'><tr><td>
<table cellspacing='1' cellpadding='3' border='0' bgcolor='black'>
<tr valign='top'><td bgcolor='white'><tt><font color='green'>"client_encoding"</font></tt></td><td bgcolor='white'><p>Character encoding for the client side, e.g.: "SQL_ASCII"</p>
</td></tr>
<tr valign='top'><td bgcolor='white'><tt><font color='green'>"server_encoding"</font></tt></td><td bgcolor='white'><p>Character encoding for the server side as determined when the
     database was created, e.g.: "SQL_ASCII"</p>
</td></tr>
<tr valign='top'><td bgcolor='white'><tt><font color='green'>"DateStyle"</font></tt></td><td bgcolor='white'><p>Date parsing/display, e.g.: "ISO, DMY"</p>
</td></tr>
<tr valign='top'><td bgcolor='white'><tt><font color='green'>"TimeZone"</font></tt></td><td bgcolor='white'><p>Default timezone used by the database, e.g.: "localtime"</p>
</td></tr>
<tr valign='top'><td bgcolor='white'><tt><font color='green'>"standard_conforming_strings"</font></tt></td><td bgcolor='white'><p>When on, backslashes in strings must not be escaped any longer</p>
</td></tr>
<tr valign='top'><td bgcolor='white'><tt><font color='green'>"session_authorization"</font></tt></td><td bgcolor='white'><p>Displays the authorisationrole which the current session runs under</p>
</td></tr>
<tr valign='top'><td bgcolor='white'><tt><font color='green'>"is_superuser"</font></tt></td><td bgcolor='white'><p>Indicates if the current authorisationrole has database-superuser
     privileges</p>
</td></tr>
<tr valign='top'><td bgcolor='white'><tt><font color='green'>"integer_datetimes"</font></tt></td><td bgcolor='white'><p>Reports wether the database supports 64-bit-integer dates and times</p>
</td></tr>
<tr valign='top'><td bgcolor='white'><tt><font color='green'>"server_version"</font></tt></td><td bgcolor='white'><p>Shows the server version, e.g.: "8.3.3"</p>
</td></tr>
</table></td></tr></table><br />
<p>The values can be changed during a session using SET commands to the
 database.
 For other runtimeparameters check the PostgreSQL documentation.</p>
<p> This function is PostgreSQL-specific, and thus it is not available
 through the generic SQL-interface.</p>
</font></dd></dl>


<hr clear='all' size='1' noshadow='noshadow' />
<dl>
<dt><font face='Helvetica'><font face='Helvetica'>Method</font>
<font size='+1'><b>getstatistics</b></font>
</font><dt>
<dd><p><tt><font color='#202020'>mapping</font>(<font color='#202020'>string</font>:<font color='#202020'>mixed</font>) <b><font color='#000066'>getstatistics</font>(</b><b>)</b></tt></p></dd>

<dt><font face='Helvetica'>Description</font><dt>
<dd><font face='Helvetica'><p>Returns a mapping with a set of statistics for the current session.</p>
</font></dd>
<dt><font face='Helvetica'>Parameter <tt><font color='#8000F0'>warnings_dropped</font></tt></font><dt>
<dd></dd><dd><font face='Helvetica'><p>Number of warnings/notices generated by the database but not
    collected by the application by using <font face='courier'>error</font>  after the statements
    that generated them.</p>
</font></dd>
<dt><font face='Helvetica'>Parameter <tt><font color='#8000F0'>skipped_describe_count</font></tt></font><dt>
<dd></dd><dd><font face='Helvetica'><p>Number of times the driver skipped asking the database to
    describe the statement parameters because it was already cached.</p>
</font></dd>
<dt><font face='Helvetica'>Parameter <tt><font color='#8000F0'>used_prepared_statements</font></tt></font><dt>
<dd></dd><dd><font face='Helvetica'><p>Numer of times prepared statements were used from cache instead of
    reparsing in the current session.</p>
</font></dd>
<dt><font face='Helvetica'>Parameter <tt><font color='#8000F0'>current_prepared_statements</font></tt></font><dt>
<dd></dd><dd><font face='Helvetica'><p>Cache size of currently prepared statements.</p>
</font></dd>
<dt><font face='Helvetica'>Parameter <tt><font color='#8000F0'>current_prepared_statement_hits</font></tt></font><dt>
<dd></dd><dd><font face='Helvetica'><p>Sum of the number hits on statements in the current statement cache.</p>
</font></dd>
<dt><font face='Helvetica'>Parameter <tt><font color='#8000F0'>prepared_portal_count</font></tt></font><dt>
<dd></dd><dd><font face='Helvetica'><p>Total number of prepared portals generated.</p>
</font></dd>
<dt><font face='Helvetica'>Parameter <tt><font color='#8000F0'>prepared_statement_count</font></tt></font><dt>
<dd></dd><dd><font face='Helvetica'><p>Total number of prepared statements generated.</p>
</font></dd>
<dt><font face='Helvetica'>Parameter <tt><font color='#8000F0'>portals_opened_count</font></tt></font><dt>
<dd></dd><dd><font face='Helvetica'><p>Total number of portals opened, i.e. number of statements issued
    to the database.</p>
</font></dd>
<dt><font face='Helvetica'>Parameter <tt><font color='#8000F0'>blocked_count</font></tt></font><dt>
<dd></dd><dd><font face='Helvetica'><p>Number of times the driver had to (briefly) wait for the database to
    send additional data.</p>
</font></dd>
<dt><font face='Helvetica'>Parameter <tt><font color='#8000F0'>bytes_received</font></tt></font><dt>
<dd></dd><dd><font face='Helvetica'><p>Total number of bytes received from the database so far.</p>
</font></dd>
<dt><font face='Helvetica'>Parameter <tt><font color='#8000F0'>messages_received</font></tt></font><dt>
<dd></dd><dd><font face='Helvetica'><p>Total number of messages received from the database (one SQL-statement
    requires multiple messages to be exchanged).</p>
</font></dd>
<dt><font face='Helvetica'>Parameter <tt><font color='#8000F0'>bytes_sent</font></tt></font><dt>
<dd></dd><dd><font face='Helvetica'><p>Total number of bytes sent to the database so far.</p>
</font></dd>
<dt><font face='Helvetica'>Parameter <tt><font color='#8000F0'>packets_sent</font></tt></font><dt>
<dd></dd><dd><font face='Helvetica'><p>Total number of packets sent to the database (one packet usually
    contains multiple messages).</p>
</font></dd>
<dt><font face='Helvetica'>Parameter <tt><font color='#8000F0'>reconnect_count</font></tt></font><dt>
<dd></dd><dd><font face='Helvetica'><p>Number of times the connection to the database has been lost.</p>
</font></dd>
<dt><font face='Helvetica'>Parameter <tt><font color='#8000F0'>portals_in_flight</font></tt></font><dt>
<dd></dd><dd><font face='Helvetica'><p>Currently still open portals, i.e. running statements.</p>
<p> This function is PostgreSQL-specific, and thus it is not available
 through the generic SQL-interface.</p>
</font></dd></dl>


<hr clear='all' size='1' noshadow='noshadow' />
<dl>
<dt><font face='Helvetica'><font face='Helvetica'>Method</font>
<font size='+1'><b>setcachedepth</b></font>
</font><dt>
<dd><p><tt><font color='#202020'>int</font> <b><font color='#000066'>setcachedepth</font>(</b><font color='#202020'>void</font>|<font color='#202020'>int</font> <font color='#005080'>newdepth</font><b>)</b></tt></p></dd>

<dt><font face='Helvetica'>Description</font><dt>
<dd><font face='Helvetica'><p>Returns the old cachedepth, sets the new cachedepth for prepared
 statements automatic caching.</p>
<p> This function is PostgreSQL-specific, and thus it is not available
 through the generic SQL-interface.</p>
</font></dd></dl>


<hr clear='all' size='1' noshadow='noshadow' />
<dl>
<dt><font face='Helvetica'><font face='Helvetica'>Method</font>
<font size='+1'><b>settimeout</b></font>
</font><dt>
<dd><p><tt><font color='#202020'>int</font> <b><font color='#000066'>settimeout</font>(</b><font color='#202020'>void</font>|<font color='#202020'>int</font> <font color='#005080'>newtimeout</font><b>)</b></tt></p></dd>

<dt><font face='Helvetica'>Description</font><dt>
<dd><font face='Helvetica'><p>Returns the old timeout, sets the new timeout for long running
 queries.</p>
<p> This function is PostgreSQL-specific, and thus it is not available
 through the generic SQL-interface.</p>
</font></dd></dl>


<hr clear='all' size='1' noshadow='noshadow' />
<dl>
<dt><font face='Helvetica'><font face='Helvetica'>Method</font>
<font size='+1'><b>setportalbuffersize</b></font>
</font><dt>
<dd><p><tt><font color='#202020'>int</font> <b><font color='#000066'>setportalbuffersize</font>(</b><font color='#202020'>void</font>|<font color='#202020'>int</font> <font color='#005080'>newportalbuffersize</font><b>)</b></tt></p></dd>

<dt><font face='Helvetica'>Description</font><dt>
<dd><font face='Helvetica'><p>Returns the old portalbuffersize, sets the new portalbuffersize
 for buffering partially concurrent queries.</p>
<p> This function is PostgreSQL-specific, and thus it is not available
 through the generic SQL-interface.</p>
</font></dd></dl>


<hr clear='all' size='1' noshadow='noshadow' />
<dl>
<dt><font face='Helvetica'><font face='Helvetica'>Method</font>
<font size='+1'><b>setfetchlimit</b></font>
</font><dt>
<dd><p><tt><font color='#202020'>int</font> <b><font color='#000066'>setfetchlimit</font>(</b><font color='#202020'>void</font>|<font color='#202020'>int</font> <font color='#005080'>newfetchlimit</font><b>)</b></tt></p></dd>

<dt><font face='Helvetica'>Description</font><dt>
<dd><font face='Helvetica'><p>Returns the old fetchlimit, sets the new fetchlimit to interleave
 queries.</p>
<p> This function is PostgreSQL-specific, and thus it is not available
 through the generic SQL-interface.</p>
</font></dd></dl>


<hr clear='all' size='1' noshadow='noshadow' />
<dl>
<dt><font face='Helvetica'><font face='Helvetica'>Method</font>
<font size='+1'><b>close</b></font>
</font><dt>
<dd><p><tt><font color='#202020'>void</font> <b><font color='#000066'>close</font>(</b><b>)</b></tt></p></dd>

<dt><font face='Helvetica'>Description</font><dt>
<dd><font face='Helvetica'><p>Closes the connection to the database, any running queries are
 terminated instantly.</p>
<p> This function is PostgreSQL-specific, and thus it is not available
 through the generic SQL-interface.</p>
</font></dd></dl>


<hr clear='all' size='1' noshadow='noshadow' />
<dl>
<dt><font face='Helvetica'><font face='Helvetica'>Method</font>
<font size='+1'><b>reload</b></font>
</font><dt>
<dd><p><tt><font color='#202020'>void</font> <b><font color='#000066'>reload</font>(</b><b>)</b></tt></p></dd>

<dt><font face='Helvetica'>Description</font><dt>
<dd><font face='Helvetica'><p>Resets the connection to the database. Can be used for
 a variety of reasons, for example to detect the status of a connection.</p>
</font></dd>
<dt><font face='Helvetica'>See also</font><dt>
<dd><font face='Helvetica'><p>cancelquery</p>
</font></dd></dl>


<hr clear='all' size='1' noshadow='noshadow' />
<dl>
<dt><font face='Helvetica'><font face='Helvetica'>Method</font>
<font size='+1'><b>select_db</b></font>
</font><dt>
<dd><p><tt><font color='#202020'>void</font> <b><font color='#000066'>select_db</font>(</b><font color='#202020'>string</font> <font color='#005080'>dbname</font><b>)</b></tt></p></dd>

<dt><font face='Helvetica'>Description</font><dt>
<dd><font face='Helvetica'><p>This function allows you to connect to a database. Due to
 restrictions of the Postgres frontend-backend protocol, you always
 have to be connected to a database, so in fact this function just
 allows you to connect to a different database on the same server.</p>
</font></dd>
<dt><font face='Helvetica'>Note</font><dt>
<dd><font face='Helvetica'><p>This function <b>can</b> raise exceptions if something goes wrong
 (backend process not running, not enough permissions..)</p>
</font></dd>
<dt><font face='Helvetica'>See also</font><dt>
<dd><font face='Helvetica'><p>create</p>
</font></dd></dl>


<hr clear='all' size='1' noshadow='noshadow' />
<dl>
<dt><font face='Helvetica'><font face='Helvetica'>Method</font>
<font size='+1'><b>set_notify_callback</b></font>
</font><dt>
<dd><p><tt><font color='#202020'>void</font> <b><font color='#000066'>set_notify_callback</font>(</b><font color='#202020'>string</font> <font color='#005080'>condition</font>, <font color='#202020'>void</font>|<font color='#202020'>function</font>(<font color='#202020'>int</font>:<font color='#202020'>void</font>) <font color='#005080'>notify_cb</font>, <font color='#202020'>void</font>|<font color='#202020'>int</font> <font color='#005080'>selfnotify</font>, <font color='#202020'>mixed</font> ...  <font color='#005080'>args</font><b>)</b></tt></p></dd>

<dt><font face='Helvetica'>Description</font><dt>
<dd><font face='Helvetica'><p>With PostgreSQL you can LISTEN to NOTIFY events.
 This function allows you to detect and handle such events.</p>
</font></dd>
<dt><font face='Helvetica'>Parameter <tt><font color='#8000F0'>condition</font></tt></font><dt>
<dd></dd><dd><font face='Helvetica'><p>Name of the notification event we're listening
    to.  A special case is the empty string, which matches all events,
    and can be used as fallback function which is called only when the
    specific condition is not handled.  Another special case is
    <font face='courier'>_reconnect</font>  which gets called whenever the connection unexpectedly
    drops and reconnects to the database.</p>
</font></dd>
<dt><font face='Helvetica'>Parameter <tt><font color='#8000F0'>notify_cb</font></tt></font><dt>
<dd></dd><dd><font face='Helvetica'><p>Function to be called on receiving a notification-event of
    condition <font face='courier'>condition</font> .
    The callback function is invoked with
     <font face='courier'><code>void&nbsp;notify_cb(pid,condition,extrainfo,&nbsp;..&nbsp;args);</code></font>
<font face='courier'>pid</font>  is the process id of the database session that originated
    the event.  <font face='courier'>condition</font>  contains the current condition.
    <font face='courier'>extrainfo</font>  contains optional extra information specified by
    the database.
    The rest of the arguments to <font face='courier'>notify_cb</font>  are passed
    verbatim from <font face='courier'>args</font> .
    The callback function must return no value.</p>
</font></dd>
<dt><font face='Helvetica'>Parameter <tt><font color='#8000F0'>selfnotify</font></tt></font><dt>
<dd></dd><dd><font face='Helvetica'><p>Normally notify events generated by your own session are ignored.
    If you want to receive those as well, set <font face='courier'>selfnotify</font>  to one.</p>
</font></dd>
<dt><font face='Helvetica'>Parameter <tt><font color='#8000F0'>args</font></tt></font><dt>
<dd></dd><dd><font face='Helvetica'><p>Extra arguments to pass to <font face='courier'>notify_cb</font> .</p>
<p> This function is PostgreSQL-specific, and thus it is not available
 through the generic SQL-interface.</p>
</font></dd></dl>


<hr clear='all' size='1' noshadow='noshadow' />
<dl>
<dt><font face='Helvetica'><font face='Helvetica'>Method</font>
<font size='+1'><b>quote</b></font>
</font><dt>
<dd><p><tt><font color='#202020'>string</font> <b><font color='#000066'>quote</font>(</b><font color='#202020'>string</font> <font color='#005080'>s</font><b>)</b></tt></p></dd>

<dt><font face='Helvetica'>Description</font><dt>
<dd><font face='Helvetica'><p>This function quotes magic characters inside strings embedded in a
 textual query.  Quoting must not be done for parameters passed in
 bindings.</p>
</font></dd>
<dt><font face='Helvetica'>See also</font><dt>
<dd><font face='Helvetica'><p>big_query, quotebinary, create</p>
</font></dd></dl>


<hr clear='all' size='1' noshadow='noshadow' />
<dl>
<dt><font face='Helvetica'><font face='Helvetica'>Method</font>
<font size='+1'><b>quotebinary</b></font>
</font><dt>
<dd><p><tt><font color='#202020'>string</font> <b><font color='#000066'>quotebinary</font>(</b><font color='#202020'>string</font> <font color='#005080'>s</font><b>)</b></tt></p></dd>

<dt><font face='Helvetica'>Description</font><dt>
<dd><font face='Helvetica'><p>This function quotes magic characters inside binaries (bytea) embedded in a
 textual query.  Quoting must not be done for parameters passed in
 bindings.</p>
</font></dd>
<dt><font face='Helvetica'>See also</font><dt>
<dd><font face='Helvetica'><p>big_query, quote</p>
<p> This function is PostgreSQL-specific, and thus it is not available
 through the generic SQL-interface.</p>
</font></dd></dl>


<hr clear='all' size='1' noshadow='noshadow' />
<dl>
<dt><font face='Helvetica'><font face='Helvetica'>Method</font>
<font size='+1'><b>create_db</b></font>
</font><dt>
<dd><p><tt><font color='#202020'>void</font> <b><font color='#000066'>create_db</font>(</b><font color='#202020'>string</font> <font color='#005080'>db</font><b>)</b></tt></p></dd>

<dt><font face='Helvetica'>Description</font><dt>
<dd><font face='Helvetica'><p>This function creates a new database with the given name (assuming we
 have enough permissions to do this).</p>
</font></dd>
<dt><font face='Helvetica'>See also</font><dt>
<dd><font face='Helvetica'><p>drop_db</p>
</font></dd></dl>


<hr clear='all' size='1' noshadow='noshadow' />
<dl>
<dt><font face='Helvetica'><font face='Helvetica'>Method</font>
<font size='+1'><b>drop_db</b></font>
</font><dt>
<dd><p><tt><font color='#202020'>void</font> <b><font color='#000066'>drop_db</font>(</b><font color='#202020'>string</font> <font color='#005080'>db</font><b>)</b></tt></p></dd>

<dt><font face='Helvetica'>Description</font><dt>
<dd><font face='Helvetica'><p>This function destroys a database and all the data it contains (assuming
 we have enough permissions to do so).  It is not possible to delete
 the database you're currently connected to.  You can connect to database
 <font face='courier'>template1</font>  to avoid connecting to any live database.</p>
</font></dd>
<dt><font face='Helvetica'>See also</font><dt>
<dd><font face='Helvetica'><p>create_db</p>
</font></dd></dl>


<hr clear='all' size='1' noshadow='noshadow' />
<dl>
<dt><font face='Helvetica'><font face='Helvetica'>Method</font>
<font size='+1'><b>server_info</b></font>
</font><dt>
<dd><p><tt><font color='#202020'>string</font> <b><font color='#000066'>server_info</font>(</b><b>)</b></tt></p></dd>

<dt><font face='Helvetica'>Description</font><dt>
<dd><font face='Helvetica'><p>This function returns a string describing the server we are
 talking to. It has the form <font face='courier'><code>"servername/serverversion"</code></font>
 (like the HTTP protocol description) and is most useful in
 conjunction with the generic SQL-server module.</p>
</font></dd>
<dt><font face='Helvetica'>See also</font><dt>
<dd><font face='Helvetica'><p>host_info</p>
</font></dd></dl>


<hr clear='all' size='1' noshadow='noshadow' />
<dl>
<dt><font face='Helvetica'><font face='Helvetica'>Method</font>
<font size='+1'><b>list_dbs</b></font>
</font><dt>
<dd><p><tt><font color='#202020'>array</font>(<font color='#202020'>string</font>) <b><font color='#000066'>list_dbs</font>(</b><font color='#202020'>void</font>|<font color='#202020'>string</font> <font color='#005080'>glob</font><b>)</b></tt></p></dd>

<dt><font face='Helvetica'>Description</font><dt>
<dd><font face='Helvetica'><p>Lists all the databases available on the server.
 If glob is specified, lists only those databases matching it.</p>
</font></dd></dl>


<hr clear='all' size='1' noshadow='noshadow' />
<dl>
<dt><font face='Helvetica'><font face='Helvetica'>Method</font>
<font size='+1'><b>list_tables</b></font>
</font><dt>
<dd><p><tt><font color='#202020'>array</font>(<font color='#202020'>string</font>) <b><font color='#000066'>list_tables</font>(</b><font color='#202020'>void</font>|<font color='#202020'>string</font> <font color='#005080'>glob</font><b>)</b></tt></p></dd>

<dt><font face='Helvetica'>Description</font><dt>
<dd><font face='Helvetica'><p>Returns an array containing the names of all the tables and views in the
 path in the currently selected database.
 If a glob is specified, it will return only those tables with matching
 names.</p>
</font></dd></dl>


<hr clear='all' size='1' noshadow='noshadow' />
<dl>
<dt><font face='Helvetica'><font face='Helvetica'>Method</font>
<font size='+1'><b>list_fields</b></font>
</font><dt>
<dd><p><tt><font color='#202020'>array</font>(<font color='#202020'>mapping</font>(<font color='#202020'>string</font>:<font color='#202020'>mixed</font>)) <b><font color='#000066'>list_fields</font>(</b><font color='#202020'>void</font>|<font color='#202020'>string</font> <font color='#005080'>table</font>, <font color='#202020'>void</font>|<font color='#202020'>string</font> <font color='#005080'>wild</font><b>)</b></tt></p></dd>

<dt><font face='Helvetica'>Description</font><dt>
<dd><font face='Helvetica'><p>Returns a mapping, indexed on the column name, of mappings describing
 the attributes of a table of the current database.
 If a glob is specified, will return descriptions only of the columns
 matching it.</p>
<p> The currently defined fields are:</p>
<table bgcolor='black' border='0' cellspacing='0' cellpadding='0'><tr><td>
<table cellspacing='1' cellpadding='3' border='0' bgcolor='black'>
<tr valign='top'><td bgcolor='white'><tt><font color='green'>"is_shared"</font> : <font color='#202020'>int</font></tt></td><td bgcolor='white'>&nbsp;</td></tr>
<tr valign='top'><td bgcolor='white'><tt><font color='green'>"owner"</font> : <font color='#202020'>string</font></tt></td><td bgcolor='white'><p>Tableowner</p>
</td></tr>
<tr valign='top'><td bgcolor='white'><tt><font color='green'>"length"</font> : <font color='#202020'>string</font></tt></td><td bgcolor='white'><p>Size of the columndatatype</p>
</td></tr>
<tr valign='top'><td bgcolor='white'><tt><font color='green'>"text"</font> : <font color='#202020'>string</font></tt></td><td bgcolor='white'><p>A textual description of the internal (to the server) type-name</p>
</td></tr>
<tr valign='top'><td bgcolor='white'><tt><font color='green'>"default"</font> : <font color='#202020'>mixed</font></tt></td><td bgcolor='white'><p>Default value for the column</p>
</td></tr>
<tr valign='top'><td bgcolor='white'><tt><font color='green'>"schema"</font> : <font color='#202020'>mixed</font></tt></td><td bgcolor='white'><p>Schema the table belongs to</p>
</td></tr>
<tr valign='top'><td bgcolor='white'><tt><font color='green'>"table"</font> : <font color='#202020'>mixed</font></tt></td><td bgcolor='white'><p>Name of the table</p>
</td></tr>
<tr valign='top'><td bgcolor='white'><tt><font color='green'>"kind"</font> : <font color='#202020'>mixed</font></tt></td><td bgcolor='white'><p>Type of table</p>
</td></tr>
<tr valign='top'><td bgcolor='white'><tt><font color='green'>"has_index"</font> : <font color='#202020'>mixed</font></tt></td><td bgcolor='white'><p>If the table has any indices</p>
</td></tr>
<tr valign='top'><td bgcolor='white'><tt><font color='green'>"has_primarykey"</font> : <font color='#202020'>mixed</font></tt></td><td bgcolor='white'><p>If the table has a primary key</p>
</td></tr>
<tr valign='top'><td bgcolor='white'><tt><font color='green'>"rowcount"</font> : <font color='#202020'>mixed</font></tt></td><td bgcolor='white'><p>Estimated rowcount of the table</p>
</td></tr>
<tr valign='top'><td bgcolor='white'><tt><font color='green'>"pagecount"</font> : <font color='#202020'>mixed</font></tt></td><td bgcolor='white'><p>Estimated pagecount of the table</p>
</td></tr>
</table></td></tr></table><br />
<p>Setting wild to * will include system columns in the list.</p>
</font></dd></dl>


<hr clear='all' size='1' noshadow='noshadow' />
<dl>
<dt><font face='Helvetica'><font face='Helvetica'>Method</font>
<font size='+1'><b>status_commit</b></font>
</font><dt>
<dd><p><tt><font color='#202020'>string</font> <b><font color='#000066'>status_commit</font>(</b><b>)</b></tt></p></dd>

<dt><font face='Helvetica'>Description</font><dt>
<dd><font face='Helvetica'><p>Returns the current commitstatus of the connection.  Returns either one of:
  idle
  intransaction
  infailedtransaction</p>
<p> This function is PostgreSQL-specific, and thus it is not available
 through the generic SQL-interface.</p>
</font></dd></dl>


<hr clear='all' size='1' noshadow='noshadow' />
<dl>
<dt><font face='Helvetica'><font face='Helvetica'>Method</font>
<font size='+1'><b>big_query</b></font>
</font><dt>
<dd><p><tt><font color='#202020'>object</font> <b><font color='#000066'>big_query</font>(</b><font color='#202020'>string</font> <font color='#005080'>q</font>, <font color='#202020'>void</font>|<font color='#202020'>mapping</font>(<font color='#202020'>string</font>|<font color='#202020'>int</font>:<font color='#202020'>mixed</font>) <font color='#005080'>bindings</font>, <font color='#202020'>void</font>|<font color='#202020'>int</font> <font color='#005080'>_alltyped</font><b>)</b></tt></p></dd>

<dt><font face='Helvetica'>Description</font><dt>
<dd><font face='Helvetica'><p>This is the only provided interface which allows you to query the
 database. If you wish to use the simpler "query" function, you need to
 use the <font face='courier'>Sql.Sql</font>  generic SQL-object.</p>
<p> It returns a pgsql_result object (which conforms to the
 <font face='courier'>Sql.sql_result</font>  standard interface for accessing data). I
 recommend using <font face='courier'>query()</font>  for simpler queries (because it is
 easier to handle, but stores all the result in memory), and
 <font face='courier'>big_query()</font>  for queries you expect to return huge amounts of
 data (it's harder to handle, but fetches results on demand).</p>
<p> Bindings are supported natively straight through the network.
 Special bindings supported are: ":_cache", to force caching or
 not caching for the query at hand depending on the mappingvalue.</p>
</font></dd>
<dt><font face='Helvetica'>Note</font><dt>
<dd><font face='Helvetica'><p>This function <b>can</b> raise exceptions.</p>
</font></dd>
<dt><font face='Helvetica'>Note</font><dt>
<dd><font face='Helvetica'><p>This function does not support multiple queries in one querystring.
 I.e. it allows for but does not require a trailing semicolon, but it
 simply ignores any commands after the first semicolon.  This can be
 viewed as a limited protection against SQL-injection attacks.</p>
</font></dd>
<dt><font face='Helvetica'>See also</font><dt>
<dd><font face='Helvetica'><p><font face='courier'>Sql.Sql</font> , <font face='courier'>Sql.sql_result</font> , <font face='courier'>Sql.pgsql_util.pgsql_result</font> </p>
</font></dd></dl>


<hr clear='all' size='1' noshadow='noshadow' />
<dl>
<dt><font face='Helvetica'><font face='Helvetica'>Method</font>
<font size='+1'><b>streaming_query</b></font>
</font><dt>
<dd><p><tt><font color='#202020'>object</font> <b><font color='#000066'>streaming_query</font>(</b><font color='#202020'>string</font> <font color='#005080'>q</font>, <font color='#202020'>void</font>|<font color='#202020'>mapping</font>(<font color='#202020'>string</font>|<font color='#202020'>int</font>:<font color='#202020'>mixed</font>) <font color='#005080'>bindings</font><b>)</b></tt></p></dd>

<dt><font face='Helvetica'>Description</font><dt>
<dd><font face='Helvetica'><p>This is an alias for <font face='courier'>big_query()</font> , since <font face='courier'>big_query()</font>  already supports
 streaming of multiple simultaneous queries through the same connection.</p>
</font></dd>
<dt><font face='Helvetica'>See also</font><dt>
<dd><font face='Helvetica'><p><font face='courier'>big_query</font> , <font face='courier'>Sql.Sql</font> , <font face='courier'>Sql.sql_result</font> </p>
</font></dd></dl>


<hr clear='all' size='1' noshadow='noshadow' />
<dl>
<dt><font face='Helvetica'><font face='Helvetica'>Method</font>
<font size='+1'><b>big_typed_query</b></font>
</font><dt>
<dd><p><tt><font color='#202020'>object</font> <b><font color='#000066'>big_typed_query</font>(</b><font color='#202020'>string</font> <font color='#005080'>q</font>, <font color='#202020'>void</font>|<font color='#202020'>mapping</font>(<font color='#202020'>string</font>|<font color='#202020'>int</font>:<font color='#202020'>mixed</font>) <font color='#005080'>bindings</font><b>)</b></tt></p></dd>

<dt><font face='Helvetica'>Description</font><dt>
<dd><font face='Helvetica'><p>This function returns an object that allows streaming and typed
 results.</p>
</font></dd>
<dt><font face='Helvetica'>See also</font><dt>
<dd><font face='Helvetica'><p><font face='courier'>big_query</font> , <font face='courier'>Sql.Sql</font> , <font face='courier'>Sql.sql_result</font> </p>
</font></dd></dl>
</dd></dl><dl><dt><table width='100%' cellpadding='3' cellspacing='0' border='0'><tr><td bgcolor='#EEEEEE'><font size='+3'>&nbsp; CLASS <b><font color='#005080'>Sql.Sql</font></b></font></td></tr></table><br />
</dt><dd><dl>
<dt><font face='Helvetica'>Description</font><dt>
<dd><font face='Helvetica'><p>Implements those functions that need not be present in all SQL-modules.</p>
</font></dd></dl>

<hr clear='all' size='1' noshadow='noshadow' />
<dl>
<dt><font face='Helvetica'><font face='Helvetica'>Variable</font>
<font size='+1'><b>master_sql</b></font>
</font><dt>
<dd><p><tt><font color='#202020'>object</font> Sql.Sql.<b><font color='#F000F0'>master_sql</font></b></tt></p></dd>

<dt><font face='Helvetica'>Description</font><dt>
<dd><font face='Helvetica'><p>Object to use for the actual SQL-queries.</p>
</font></dd></dl>


<hr clear='all' size='1' noshadow='noshadow' />
<dl>
<dt><font face='Helvetica'><font face='Helvetica'>Variable</font>
<font size='+1'><b>case_convert</b></font>
</font><dt>
<dd><p><tt><font color='#202020'>int</font>(0..1) Sql.Sql.<b><font color='#F000F0'>case_convert</font></b></tt></p></dd>

<dt><font face='Helvetica'>Description</font><dt>
<dd><font face='Helvetica'><p>Convert all field names in mappings to lower_case.
 Only relevant to databases which only implement big_query(),
 and use upper/mixed-case fieldnames (eg Oracle).</p>
<table bgcolor='black' border='0' cellspacing='0' cellpadding='0'><tr><td>
<table cellspacing='1' cellpadding='3' border='0' bgcolor='black'>
<tr valign='top'><td bgcolor='white'><tt><font color='green'>0</font></tt></td><td bgcolor='white'><p>No (default)</p>
</td></tr>
<tr valign='top'><td bgcolor='white'><tt><font color='green'>1</font></tt></td><td bgcolor='white'><p>Yes</p>
</td></tr>
</table></td></tr></table><br />

</font></dd></dl>


<hr clear='all' size='1' noshadow='noshadow' />
<dl>
<dt><font face='Helvetica'><font face='Helvetica'>Method</font>
<font size='+1'><b>quote</b></font>
</font><dt>
<dd><p><tt><font color='#202020'>string</font> <b><font color='#000066'>quote</font>(</b><font color='#202020'>string</font> <font color='#005080'>s</font><b>)</b></tt></p></dd>

<dt><font face='Helvetica'>Description</font><dt>
<dd><font face='Helvetica'><p>Quote a string <font face='courier'>s</font>  so that it can safely be put in a query.</p>
<p> All input that is used in SQL-querys should be quoted to prevent
 SQL injections.</p>
<p> Consider this harmfull code:</p>
<font face='courier'><pre><code><dd><p>string my_input = "rob' OR name!='rob";
   string my_query = "DELETE FROM tblUsers WHERE name='"+my_input+"'";
   my_db-&gt;query(my_query);</p>
</dd>
</code></pre></font><p>This type of problems can be avoided by quoting <tt>my_input</tt>.
 <tt>my_input</tt> would then probably read something like 
 <i>rob\' OR name!=\'rob</i></p>
<p> Usually this is done - not by calling quote explicitly - but through
 using a <font face='courier'>sprintf</font>  like syntax</p>
<font face='courier'><pre><code><dd><p>string my_input = "rob' OR name!='rob";
   my_db-&gt;query("DELETE FROM tblUsers WHERE name=%s",my_input);</p>
</dd>
</code></pre></font>
</font></dd></dl>


<hr clear='all' size='1' noshadow='noshadow' />
<dl>
<dt><font face='Helvetica'><font face='Helvetica'>Method</font>
<font size='+1'><b>encode_time</b></font>
</font><dt>
<dd><p><tt><font color='#202020'>string</font> <b><font color='#000066'>encode_time</font>(</b><font color='#202020'>int</font> <font color='#005080'>t</font>, <font color='#202020'>int</font>|<font color='#202020'>void</font> <font color='#005080'>is_utc</font><b>)</b></tt></p></dd>

<dt><font face='Helvetica'>Description</font><dt>
<dd><font face='Helvetica'><p>Converts a system time value to an appropriately formatted time
 spec for the database.</p>
</font></dd>
<dt><font face='Helvetica'>Parameter <tt><font color='#8000F0'>t</font></tt></font><dt>
<dd></dd><dd><font face='Helvetica'><p>Time to encode.</p>
</font></dd>
<dt><font face='Helvetica'>Parameter <tt><font color='#8000F0'>is_utc</font></tt></font><dt>
<dd></dd><dd><font face='Helvetica'><p>If nonzero then time is taken as a "full" unix time spec
   (where the date part is ignored), otherwise it's converted as a
   seconds-since-midnight value.</p>
</font></dd></dl>


<hr clear='all' size='1' noshadow='noshadow' />
<dl>
<dt><font face='Helvetica'><font face='Helvetica'>Method</font>
<font size='+1'><b>decode_time</b></font>
</font><dt>
<dd><p><tt><font color='#202020'>int</font> <b><font color='#000066'>decode_time</font>(</b><font color='#202020'>string</font> <font color='#005080'>t</font>, <font color='#202020'>int</font>|<font color='#202020'>void</font> <font color='#005080'>want_utc</font><b>)</b></tt></p></dd>

<dt><font face='Helvetica'>Description</font><dt>
<dd><font face='Helvetica'><p>Converts a database time spec to a system time value.</p>
</font></dd>
<dt><font face='Helvetica'>Parameter <tt><font color='#8000F0'>t</font></tt></font><dt>
<dd></dd><dd><font face='Helvetica'><p>Time spec to decode.</p>
</font></dd>
<dt><font face='Helvetica'>Parameter <tt><font color='#8000F0'>want_utc</font></tt></font><dt>
<dd></dd><dd><font face='Helvetica'><p>Take the date part from this system time value. If zero, a
   seconds-since-midnight value is returned.</p>
</font></dd></dl>


<hr clear='all' size='1' noshadow='noshadow' />
<dl>
<dt><font face='Helvetica'><font face='Helvetica'>Method</font>
<font size='+1'><b>encode_date</b></font>
</font><dt>
<dd><p><tt><font color='#202020'>string</font> <b><font color='#000066'>encode_date</font>(</b><font color='#202020'>int</font> <font color='#005080'>t</font><b>)</b></tt></p></dd>

<dt><font face='Helvetica'>Description</font><dt>
<dd><font face='Helvetica'><p>Converts a system time value to an appropriately formatted
 date-only spec for the database.</p>
</font></dd>
<dt><font face='Helvetica'>Parameter <tt><font color='#8000F0'>t</font></tt></font><dt>
<dd></dd><dd><font face='Helvetica'><p>Time to encode.</p>
</font></dd></dl>


<hr clear='all' size='1' noshadow='noshadow' />
<dl>
<dt><font face='Helvetica'><font face='Helvetica'>Method</font>
<font size='+1'><b>decode_date</b></font>
</font><dt>
<dd><p><tt><font color='#202020'>int</font> <b><font color='#000066'>decode_date</font>(</b><font color='#202020'>string</font> <font color='#005080'>d</font><b>)</b></tt></p></dd>

<dt><font face='Helvetica'>Description</font><dt>
<dd><font face='Helvetica'><p>Converts a database date-only spec to a system time value.</p>
</font></dd>
<dt><font face='Helvetica'>Parameter <tt><font color='#8000F0'>d</font></tt></font><dt>
<dd></dd><dd><font face='Helvetica'><p>Date spec to decode.</p>
</font></dd></dl>


<hr clear='all' size='1' noshadow='noshadow' />
<dl>
<dt><font face='Helvetica'><font face='Helvetica'>Method</font>
<font size='+1'><b>encode_datetime</b></font>
</font><dt>
<dd><p><tt><font color='#202020'>string</font> <b><font color='#000066'>encode_datetime</font>(</b><font color='#202020'>int</font> <font color='#005080'>t</font><b>)</b></tt></p></dd>

<dt><font face='Helvetica'>Description</font><dt>
<dd><font face='Helvetica'><p>Converts a system time value to an appropriately formatted
 date and time spec for the database.</p>
</font></dd>
<dt><font face='Helvetica'>Parameter <tt><font color='#8000F0'>t</font></tt></font><dt>
<dd></dd><dd><font face='Helvetica'><p>Time to encode.</p>
</font></dd></dl>


<hr clear='all' size='1' noshadow='noshadow' />
<dl>
<dt><font face='Helvetica'><font face='Helvetica'>Method</font>
<font size='+1'><b>decode_datetime</b></font>
</font><dt>
<dd><p><tt><font color='#202020'>int</font> <b><font color='#000066'>decode_datetime</font>(</b><font color='#202020'>string</font> <font color='#005080'>datetime</font><b>)</b></tt></p></dd>

<dt><font face='Helvetica'>Description</font><dt>
<dd><font face='Helvetica'><p>Converts a database date and time spec to a system time value.</p>
</font></dd>
<dt><font face='Helvetica'>Parameter <tt><font color='#8000F0'>datetime</font></tt></font><dt>
<dd></dd><dd><font face='Helvetica'><p>Date and time spec to decode.</p>
</font></dd></dl>


<hr clear='all' size='1' noshadow='noshadow' />
<dl>
<dt><font face='Helvetica'><font face='Helvetica'>Method</font>
<font size='+1'><b>create</b></font>
</font><dt>
<dd><p><tt><font color='#202020'>void</font> Sql.Sql<b>(</b><font color='#202020'>string</font> <font color='#005080'>host</font><b>)</b></tt><br />
<tt><font color='#202020'>void</font> Sql.Sql<b>(</b><font color='#202020'>string</font> <font color='#005080'>host</font>, <font color='#202020'>string</font> <font color='#005080'>db</font><b>)</b></tt><br />
<tt><font color='#202020'>void</font> Sql.Sql<b>(</b><font color='#202020'>string</font> <font color='#005080'>host</font>, <font color='#202020'>mapping</font>(<font color='#202020'>string</font>:<font color='#202020'>int</font>|<font color='#202020'>string</font>) <font color='#005080'>options</font><b>)</b></tt><br />
<tt><font color='#202020'>void</font> Sql.Sql<b>(</b><font color='#202020'>string</font> <font color='#005080'>host</font>, <font color='#202020'>string</font> <font color='#005080'>db</font>, <font color='#202020'>string</font> <font color='#005080'>user</font><b>)</b></tt><br />
<tt><font color='#202020'>void</font> Sql.Sql<b>(</b><font color='#202020'>string</font> <font color='#005080'>host</font>, <font color='#202020'>string</font> <font color='#005080'>db</font>, <font color='#202020'>string</font> <font color='#005080'>user</font>, <font color='#202020'>string</font> <font color='#005080'>password</font><b>)</b></tt><br />
<tt><font color='#202020'>void</font> Sql.Sql<b>(</b><font color='#202020'>string</font> <font color='#005080'>host</font>, <font color='#202020'>string</font> <font color='#005080'>db</font>, <font color='#202020'>string</font> <font color='#005080'>user</font>, <font color='#202020'>string</font> <font color='#005080'>password</font>, <font color='#202020'>mapping</font>(<font color='#202020'>string</font>:<font color='#202020'>int</font>|<font color='#202020'>string</font>) <font color='#005080'>options</font><b>)</b></tt><br />
<tt><font color='#202020'>void</font> Sql.Sql<b>(</b><font color='#202020'>object</font> <font color='#005080'>host</font><b>)</b></tt><br />
<tt><font color='#202020'>void</font> Sql.Sql<b>(</b><font color='#202020'>object</font> <font color='#005080'>host</font>, <font color='#202020'>string</font> <font color='#005080'>db</font><b>)</b></tt></p></dd>

<dt><font face='Helvetica'>Description</font><dt>
<dd><font face='Helvetica'><p>Create a new generic SQL object.</p>
</font></dd>
<dt><font face='Helvetica'>Parameter <tt><font color='#8000F0'>host</font></tt></font><dt>
<dd></dd><dd><font face='Helvetica'><table bgcolor='black' border='0' cellspacing='0' cellpadding='0'><tr><td>
<table cellspacing='1' cellpadding='3' border='0' bgcolor='black'>
<tr valign='top'><td bgcolor='white'><tt><font color='#202020'>object</font></tt></td><td bgcolor='white'><p>Use this object to access the SQL-database.</p>
</td></tr>
<tr valign='top'><td bgcolor='white'><tt><font color='#202020'>string</font></tt></td><td bgcolor='white'><p>Connect to the server specified. The string should be on the
       format:
       <tt>dbtype://[user[:password]@]hostname[:port][/database]</tt>
       Use the <i>dbtype</i> protocol to connect to the database
       server on the specified host. If the hostname is <font face='courier'><code>""</code></font>
       then the port can be a file name to access through a
       UNIX-domain socket or similar, e g
       <font face='courier'><code>"mysql://root@:/tmp/mysql.sock/"</code></font>.</p>
<p>       There is a special dbtype <font face='courier'><code>"mysqls"</code></font> which works like
       <font face='courier'><code>"mysql"</code></font> but sets the <tt>CLIENT_SSL</tt> option and
       loads the <tt>/etc/my.cnf</tt> config file to find the SSL
       parameters. The same function can be achieved using the
       <font face='courier'><code>"mysql"</code></font> dbtype.</p>
</td></tr>
<tr valign='top'><td bgcolor='white'><tt><font color='#202020'>int</font>(0..0)</tt></td><td bgcolor='white'><p>Access through a UNIX-domain socket or similar.</p>
</td></tr>
</table></td></tr></table><br />

</font></dd>
<dt><font face='Helvetica'>Parameter <tt><font color='#8000F0'>db</font></tt></font><dt>
<dd></dd><dd><font face='Helvetica'><p>Select this database.</p>
</font></dd>
<dt><font face='Helvetica'>Parameter <tt><font color='#8000F0'>user</font></tt></font><dt>
<dd></dd><dd><font face='Helvetica'><p>User name to access the database as.</p>
</font></dd>
<dt><font face='Helvetica'>Parameter <tt><font color='#8000F0'>password</font></tt></font><dt>
<dd></dd><dd><font face='Helvetica'><p>Password to access the database.</p>
</font></dd>
<dt><font face='Helvetica'>Parameter <tt><font color='#8000F0'>options</font></tt></font><dt>
<dd></dd><dd><font face='Helvetica'><p>Optional mapping of options.
   See the SQL-database documentation for the supported options.
   (eg <font face='courier'>Mysql.mysql()-&gt;create()</font> ).</p>
</font></dd>
<dt><font face='Helvetica'>Note</font><dt>
<dd><font face='Helvetica'><p>In versions of Pike prior to 7.2 it was possible to leave out the
   dbtype, but that has been deprecated, since it never worked well.</p>
</font></dd>
<dt><font face='Helvetica'>Note</font><dt>
<dd><font face='Helvetica'><p>Support for <font face='courier'>options</font>  was added in Pike 7.3.</p>
</font></dd></dl>


<hr clear='all' size='1' noshadow='noshadow' />
<dl>
<dt><font face='Helvetica'><font face='Helvetica'>Method</font>
<font size='+1'><b>set_charset</b></font>
</font><dt>
<dd><p><tt><font color='#202020'>void</font> <b><font color='#000066'>set_charset</font>(</b><font color='#202020'>string</font> <font color='#005080'>charset</font><b>)</b></tt></p></dd>

<dt><font face='Helvetica'>Description</font><dt>
<dd><font face='Helvetica'><p>Changes the charset that the connection uses for queries and
 returned text strings.</p>
</font></dd>
<dt><font face='Helvetica'>Parameter <tt><font color='#8000F0'>charset</font></tt></font><dt>
<dd></dd><dd><font face='Helvetica'><p>The charset to use. The valid values and their meanings depends
   on the database brand. However, the special value
   <font face='courier'><code>"unicode"</code></font> (if supported) selects a mode where the query
   and result strings are unencoded (and possibly wide) unicode
   strings.</p>
</font></dd>
<dt><font face='Helvetica'>Throws</font><dt>
<dd><font face='Helvetica'><p>An error is thrown if the connection doesn't support the
   specified charset, or doesn't support charsets being set this
   way at all.</p>
</font></dd>
<dt><font face='Helvetica'>Note</font><dt>
<dd><font face='Helvetica'><p>See the <font face='courier'><code>set_charset</code></font> functions for each database
   connection type for further details about the effects on the
   connection.</p>
</font></dd>
<dt><font face='Helvetica'>See also</font><dt>
<dd><font face='Helvetica'><p><font face='courier'>get_charset</font> , <font face='courier'>Sql.mysql.set_charset</font> </p>
</font></dd></dl>


<hr clear='all' size='1' noshadow='noshadow' />
<dl>
<dt><font face='Helvetica'><font face='Helvetica'>Method</font>
<font size='+1'><b>get_charset</b></font>
</font><dt>
<dd><p><tt><font color='#202020'>string</font> <b><font color='#000066'>get_charset</font>(</b><b>)</b></tt></p></dd>

<dt><font face='Helvetica'>Description</font><dt>
<dd><font face='Helvetica'><p>Returns the (database dependent) name of the charset used for (at
 least) query strings. Returns zero if the connection doesn't
 support charsets this way (typically means that a call to
 <font face='courier'>set_charset</font>  will throw an error).</p>
</font></dd>
<dt><font face='Helvetica'>See also</font><dt>
<dd><font face='Helvetica'><p><font face='courier'>set_charset</font> , <font face='courier'>Sql.mysql.get_charset</font> </p>
</font></dd></dl>


<hr clear='all' size='1' noshadow='noshadow' />
<dl>
<dt><font face='Helvetica'><font face='Helvetica'>Method</font>
<font size='+1'><b>error</b></font>
</font><dt>
<dd><p><tt><font color='#202020'>int</font>|<font color='#202020'>string</font> <b><font color='#000066'>error</font>(</b><b>)</b></tt></p></dd>

<dt><font face='Helvetica'>Description</font><dt>
<dd><font face='Helvetica'><p>Return last error message.</p>
</font></dd></dl>


<hr clear='all' size='1' noshadow='noshadow' />
<dl>
<dt><font face='Helvetica'><font face='Helvetica'>Method</font>
<font size='+1'><b>select_db</b></font>
</font><dt>
<dd><p><tt><font color='#202020'>void</font> <b><font color='#000066'>select_db</font>(</b><font color='#202020'>string</font> <font color='#005080'>db</font><b>)</b></tt></p></dd>

<dt><font face='Helvetica'>Description</font><dt>
<dd><font face='Helvetica'><p>Select database to access.</p>
</font></dd></dl>


<hr clear='all' size='1' noshadow='noshadow' />
<dl>
<dt><font face='Helvetica'><font face='Helvetica'>Method</font>
<font size='+1'><b>compile_query</b></font>
</font><dt>
<dd><p><tt><font color='#202020'>string</font>|<font color='#202020'>object</font> <b><font color='#000066'>compile_query</font>(</b><font color='#202020'>string</font> <font color='#005080'>q</font><b>)</b></tt></p></dd>

<dt><font face='Helvetica'>Description</font><dt>
<dd><font face='Helvetica'><p>Compiles the query (if possible). Otherwise returns it as is.
 The resulting object can be used multiple times in query() and
 big_query().</p>
</font></dd>
<dt><font face='Helvetica'>Parameter <tt><font color='#8000F0'>q</font></tt></font><dt>
<dd></dd><dd><font face='Helvetica'><p>SQL-query to compile.</p>
</font></dd></dl>


<hr clear='all' size='1' noshadow='noshadow' />
<dl>
<dt><font face='Helvetica'><font face='Helvetica'>Method</font>
<font size='+1'><b>handle_extraargs</b></font>
</font><dt>
<dd><p><tt><font color='#202020'>array</font>(<font color='#202020'>string</font>|<font color='#202020'>mapping</font>(<font color='#202020'>string</font>|<font color='#202020'>int</font>:<font color='#202020'>mixed</font>)) <b><font color='#000066'>handle_extraargs</font>(</b><font color='#202020'>string</font> <font color='#005080'>query</font>, <font color='#202020'>array</font>(<font color='#202020'>mixed</font>) <font color='#005080'>extraargs</font><b>)</b></tt></p></dd>

<dt><font face='Helvetica'>Description</font><dt>
<dd><font face='Helvetica'><p>Handle sprintf-based quoted arguments</p>
</font></dd></dl>


<hr clear='all' size='1' noshadow='noshadow' />
<dl>
<dt><font face='Helvetica'><font face='Helvetica'>Method</font>
<font size='+1'><b>query</b></font>
</font><dt>
<dd><p><tt><font color='#202020'>array</font>(<font color='#202020'>mapping</font>(<font color='#202020'>string</font>:<font color='#202020'>string</font>)) <b><font color='#000066'>query</font>(</b><font color='#202020'>object</font>|<font color='#202020'>string</font> <font color='#005080'>q</font>, <font color='#202020'>mixed</font> ...  <font color='#005080'>extraargs</font><b>)</b></tt></p></dd>

<dt><font face='Helvetica'>Description</font><dt>
<dd><font face='Helvetica'><p>Send an SQL query to the underlying SQL-server.</p>
</font></dd>
<dt><font face='Helvetica'>Parameter <tt><font color='#8000F0'>q</font></tt></font><dt>
<dd></dd><dd><font face='Helvetica'><p>Query to send to the SQL-server. This can either be a string with the
   query, or a previously compiled query (see compile_query()).</p>
</font></dd>
<dt><font face='Helvetica'>Parameter <tt><font color='#8000F0'>extraargs</font></tt></font><dt>
<dd></dd><dd><font face='Helvetica'><p>This parameter, if specified, can be in two forms:</p>
<ol>
<li><p>A mapping containing bindings of variables used in the query.
     A variable is identified by a colon (:) followed by a name or number.
     Each index in the mapping corresponds to one such variable, and the
     value for that index is substituted (quoted) into the query wherever
     the variable is used.</p>
<font face='courier'><pre><code><dd><p>res = query("SELECT foo FROM bar WHERE gazonk=:baz",
             ([":baz":"value"]));</p>
</dd>
</code></pre></font><p>Binary values (BLOBs) may need to be placed in multisets.</p>
</li><li><p>Arguments as you would use in sprintf. They are automatically
     quoted.</p>
<font face='courier'><pre><code><dd><p>res = query("select foo from bar where gazonk=%s","value");</p>
</dd>
</code></pre></font></li></ol>
</font></dd>
<dt><font face='Helvetica'>Returns</font><dt>
<dd><font face='Helvetica'><p>Returns one of the following on success:</p>
<table bgcolor='black' border='0' cellspacing='0' cellpadding='0'><tr><td>
<table cellspacing='1' cellpadding='3' border='0' bgcolor='black'>
<tr valign='top'><td bgcolor='white'><tt><font color='#202020'>array</font>(<font color='#202020'>mapping</font>(<font color='#202020'>string</font>:<font color='#202020'>string</font>))</tt></td><td bgcolor='white'><p>The result as an array of mappings indexed on the name
       of the columns</p>
</td></tr>
<tr valign='top'><td bgcolor='white'><tt><font color='#202020'>zero</font></tt></td><td bgcolor='white'><p>The value <font face='courier'><code>0</code></font> (zero) if the query didn't return any
       result (eg <tt>INSERT</tt> or similar).</p>
</td></tr>
</table></td></tr></table><br />

</font></dd>
<dt><font face='Helvetica'>Throws</font><dt>
<dd><font face='Helvetica'><p>Throws an exception if the query fails.</p>
</font></dd>
<dt><font face='Helvetica'>See also</font><dt>
<dd><font face='Helvetica'><p><font face='courier'>big_query</font> </p>
</font></dd></dl>


<hr clear='all' size='1' noshadow='noshadow' />
<dl>
<dt><font face='Helvetica'><font face='Helvetica'>Method</font>
<font size='+1'><b>big_query</b></font>
</font><dt>
<dd><p><tt><font color='#202020'>int</font>|<font color='#202020'>object</font> <b><font color='#000066'>big_query</font>(</b><font color='#202020'>object</font>|<font color='#202020'>string</font> <font color='#005080'>q</font>, <font color='#202020'>mixed</font> ...  <font color='#005080'>extraargs</font><b>)</b></tt></p></dd>

<dt><font face='Helvetica'>Description</font><dt>
<dd><font face='Helvetica'><p>Send an SQL query to the underlying SQL-server. The result is
 returned as an Sql.sql_result object. This allows for having some
 more info about the result as well as processing the result in a
 streaming fashion, although the result itself wasn't obtained
 streamingly from the server. Returns <font face='courier'><code>0</code></font> if the query didn't
 return any result (e.g. INSERT or similar). For the other
 arguments, they are the same as for the <font face='courier'>query()</font>  function.</p>
</font></dd>
<dt><font face='Helvetica'>See also</font><dt>
<dd><font face='Helvetica'><p><font face='courier'>query</font> , <font face='courier'>streaming_query</font> </p>
</font></dd></dl>


<hr clear='all' size='1' noshadow='noshadow' />
<dl>
<dt><font face='Helvetica'><font face='Helvetica'>Method</font>
<font size='+1'><b>streaming_query</b></font>
</font><dt>
<dd><p><tt><font color='#202020'>int</font>|<font color='#202020'>object</font> <b><font color='#000066'>streaming_query</font>(</b><font color='#202020'>object</font>|<font color='#202020'>string</font> <font color='#005080'>q</font>, <font color='#202020'>mixed</font> ...  <font color='#005080'>extraargs</font><b>)</b></tt></p></dd>

<dt><font face='Helvetica'>Description</font><dt>
<dd><font face='Helvetica'><p>Send an SQL query to the underlying SQL-server. The result is
 returned as a streaming Sql.sql_result object. This allows for
 having results larger than the available memory, and returning
 some more info about the result. Returns <font face='courier'><code>0</code></font> if the query
 didn't return any result (e.g. INSERT or similar). For the other
 arguments, they are the same as for the <font face='courier'>query()</font>  function.</p>
</font></dd>
<dt><font face='Helvetica'>See also</font><dt>
<dd><font face='Helvetica'><p><font face='courier'>big_query</font> </p>
</font></dd></dl>


<hr clear='all' size='1' noshadow='noshadow' />
<dl>
<dt><font face='Helvetica'><font face='Helvetica'>Method</font>
<font size='+1'><b>create_db</b></font>
</font><dt>
<dd><p><tt><font color='#202020'>void</font> <b><font color='#000066'>create_db</font>(</b><font color='#202020'>string</font> <font color='#005080'>db</font><b>)</b></tt></p></dd>

<dt><font face='Helvetica'>Description</font><dt>
<dd><font face='Helvetica'><p>Create a new database.</p>
</font></dd>
<dt><font face='Helvetica'>Parameter <tt><font color='#8000F0'>db</font></tt></font><dt>
<dd></dd><dd><font face='Helvetica'><p>Name of database to create.</p>
</font></dd></dl>


<hr clear='all' size='1' noshadow='noshadow' />
<dl>
<dt><font face='Helvetica'><font face='Helvetica'>Method</font>
<font size='+1'><b>drop_db</b></font>
</font><dt>
<dd><p><tt><font color='#202020'>void</font> <b><font color='#000066'>drop_db</font>(</b><font color='#202020'>string</font> <font color='#005080'>db</font><b>)</b></tt></p></dd>

<dt><font face='Helvetica'>Description</font><dt>
<dd><font face='Helvetica'><p>Drop database</p>
</font></dd>
<dt><font face='Helvetica'>Parameter <tt><font color='#8000F0'>db</font></tt></font><dt>
<dd></dd><dd><font face='Helvetica'><p>Name of database to drop.</p>
</font></dd></dl>


<hr clear='all' size='1' noshadow='noshadow' />
<dl>
<dt><font face='Helvetica'><font face='Helvetica'>Method</font>
<font size='+1'><b>shutdown</b></font>
</font><dt>
<dd><p><tt><font color='#202020'>void</font> <b><font color='#000066'>shutdown</font>(</b><b>)</b></tt></p></dd>

<dt><font face='Helvetica'>Description</font><dt>
<dd><font face='Helvetica'><p>Shutdown a database server.</p>
</font></dd></dl>


<hr clear='all' size='1' noshadow='noshadow' />
<dl>
<dt><font face='Helvetica'><font face='Helvetica'>Method</font>
<font size='+1'><b>reload</b></font>
</font><dt>
<dd><p><tt><font color='#202020'>void</font> <b><font color='#000066'>reload</font>(</b><b>)</b></tt></p></dd>

<dt><font face='Helvetica'>Description</font><dt>
<dd><font face='Helvetica'><p>Reload the tables.</p>
</font></dd></dl>


<hr clear='all' size='1' noshadow='noshadow' />
<dl>
<dt><font face='Helvetica'><font face='Helvetica'>Method</font>
<font size='+1'><b>server_info</b></font>
</font><dt>
<dd><p><tt><font color='#202020'>string</font> <b><font color='#000066'>server_info</font>(</b><b>)</b></tt></p></dd>

<dt><font face='Helvetica'>Description</font><dt>
<dd><font face='Helvetica'><p>Return info about the current SQL-server.</p>
</font></dd></dl>


<hr clear='all' size='1' noshadow='noshadow' />
<dl>
<dt><font face='Helvetica'><font face='Helvetica'>Method</font>
<font size='+1'><b>host_info</b></font>
</font><dt>
<dd><p><tt><font color='#202020'>string</font> <b><font color='#000066'>host_info</font>(</b><b>)</b></tt></p></dd>

<dt><font face='Helvetica'>Description</font><dt>
<dd><font face='Helvetica'><p>Return info about the connection to the SQL-server.</p>
</font></dd></dl>


<hr clear='all' size='1' noshadow='noshadow' />
<dl>
<dt><font face='Helvetica'><font face='Helvetica'>Method</font>
<font size='+1'><b>list_dbs</b></font>
</font><dt>
<dd><p><tt><font color='#202020'>array</font>(<font color='#202020'>string</font>) <b><font color='#000066'>list_dbs</font>(</b><font color='#202020'>string</font>|<font color='#202020'>void</font> <font color='#005080'>wild</font><b>)</b></tt></p></dd>

<dt><font face='Helvetica'>Description</font><dt>
<dd><font face='Helvetica'><p>List available databases on this SQL-server.</p>
</font></dd>
<dt><font face='Helvetica'>Parameter <tt><font color='#8000F0'>wild</font></tt></font><dt>
<dd></dd><dd><font face='Helvetica'><p>Optional wildcard to match against.</p>
</font></dd></dl>


<hr clear='all' size='1' noshadow='noshadow' />
<dl>
<dt><font face='Helvetica'><font face='Helvetica'>Method</font>
<font size='+1'><b>list_tables</b></font>
</font><dt>
<dd><p><tt><font color='#202020'>array</font>(<font color='#202020'>string</font>) <b><font color='#000066'>list_tables</font>(</b><font color='#202020'>string</font>|<font color='#202020'>void</font> <font color='#005080'>wild</font><b>)</b></tt></p></dd>

<dt><font face='Helvetica'>Description</font><dt>
<dd><font face='Helvetica'><p>List tables available in the current database.</p>
</font></dd>
<dt><font face='Helvetica'>Parameter <tt><font color='#8000F0'>wild</font></tt></font><dt>
<dd></dd><dd><font face='Helvetica'><p>Optional wildcard to match against.</p>
</font></dd></dl>


<hr clear='all' size='1' noshadow='noshadow' />
<dl>
<dt><font face='Helvetica'><font face='Helvetica'>Method</font>
<font size='+1'><b>list_fields</b></font>
</font><dt>
<dd><p><tt><font color='#202020'>array</font>(<font color='#202020'>mapping</font>(<font color='#202020'>string</font>:<font color='#202020'>mixed</font>)) <b><font color='#000066'>list_fields</font>(</b><font color='#202020'>string</font> <font color='#005080'>table</font>, <font color='#202020'>string</font>|<font color='#202020'>void</font> <font color='#005080'>wild</font><b>)</b></tt></p></dd>

<dt><font face='Helvetica'>Description</font><dt>
<dd><font face='Helvetica'><p>List fields available in the specified table</p>
</font></dd>
<dt><font face='Helvetica'>Parameter <tt><font color='#8000F0'>table</font></tt></font><dt>
<dd></dd><dd><font face='Helvetica'><p>Table to list the fields of.</p>
</font></dd>
<dt><font face='Helvetica'>Parameter <tt><font color='#8000F0'>wild</font></tt></font><dt>
<dd></dd><dd><font face='Helvetica'><p>Optional wildcard to match against.</p>
</font></dd></dl>
</dd></dl><dl><dt><table width='100%' cellpadding='3' cellspacing='0' border='0'><tr><td bgcolor='#EEEEEE'><font size='+3'>&nbsp; CLASS <b><font color='#005080'>Sql.sql_result</font></b></font></td></tr></table><br />
</dt><dd><dl>
<dt><font face='Helvetica'>Description</font><dt>
<dd><font face='Helvetica'><p>Implements the generic result of the SQL-interface.
 Used for return results from SQL.sql-&gt;big_query().</p>
</font></dd></dl>

<hr clear='all' size='1' noshadow='noshadow' />
<dl>
<dt><font face='Helvetica'><font face='Helvetica'>Variable</font>
<font size='+1'><b>master_res</b></font>
</font><dt>
<dd><p><tt><font color='#202020'>mixed</font> Sql.sql_result.<b><font color='#F000F0'>master_res</font></b></tt></p></dd>

<dt><font face='Helvetica'>Description</font><dt>
<dd><font face='Helvetica'><p>The actual result.</p>
</font></dd></dl>


<hr clear='all' size='1' noshadow='noshadow' />
<dl>
<dt><font face='Helvetica'><font face='Helvetica'>Variable</font>
<font size='+1'><b>index</b></font>
</font><dt>
<dd><p><tt><font color='#202020'>int</font> Sql.sql_result.<b><font color='#F000F0'>index</font></b></tt></p></dd>

<dt><font face='Helvetica'>Description</font><dt>
<dd><font face='Helvetica'><p>This is the number of the current row. The actual semantics
 differs between different databases.</p>
</font></dd></dl>


<hr clear='all' size='1' noshadow='noshadow' />
<dl>
<dt><font face='Helvetica'><font face='Helvetica'>Method</font>
<font size='+1'><b>create</b></font>
</font><dt>
<dd><p><tt><font color='#202020'>void</font> Sql.sql_result<b>(</b><font color='#202020'>mixed</font> <font color='#005080'>res</font><b>)</b></tt></p></dd>

<dt><font face='Helvetica'>Description</font><dt>
<dd><font face='Helvetica'><p>Create a new Sql.sql_result object</p>
</font></dd>
<dt><font face='Helvetica'>Parameter <tt><font color='#8000F0'>res</font></tt></font><dt>
<dd></dd><dd><font face='Helvetica'><p>Result to use as base.</p>
</font></dd></dl>


<hr clear='all' size='1' noshadow='noshadow' />
<dl>
<dt><font face='Helvetica'><font face='Helvetica'>Method</font>
<font size='+1'><b>num_rows</b></font>
</font><dt>
<dd><p><tt><font color='#202020'>int</font> <b><font color='#000066'>num_rows</font>(</b><b>)</b></tt></p></dd>

<dt><font face='Helvetica'>Description</font><dt>
<dd><font face='Helvetica'><p>Returns the number of rows in the result.</p>
</font></dd></dl>


<hr clear='all' size='1' noshadow='noshadow' />
<dl>
<dt><font face='Helvetica'><font face='Helvetica'>Method</font>
<font size='+1'><b>num_fields</b></font>
</font><dt>
<dd><p><tt><font color='#202020'>int</font> <b><font color='#000066'>num_fields</font>(</b><b>)</b></tt></p></dd>

<dt><font face='Helvetica'>Description</font><dt>
<dd><font face='Helvetica'><p>Returns the number of fields in the result.</p>
</font></dd></dl>


<hr clear='all' size='1' noshadow='noshadow' />
<dl>
<dt><font face='Helvetica'><font face='Helvetica'>Method</font>
<font size='+1'><b>eof</b></font>
</font><dt>
<dd><p><tt><font color='#202020'>int</font> <b><font color='#000066'>eof</font>(</b><b>)</b></tt></p></dd>

<dt><font face='Helvetica'>Description</font><dt>
<dd><font face='Helvetica'><p>Returns non-zero if there are no more rows.</p>
</font></dd></dl>


<hr clear='all' size='1' noshadow='noshadow' />
<dl>
<dt><font face='Helvetica'><font face='Helvetica'>Method</font>
<font size='+1'><b>fetch_fields</b></font>
</font><dt>
<dd><p><tt><font color='#202020'>array</font>(<font color='#202020'>mapping</font>(<font color='#202020'>string</font>:<font color='#202020'>mixed</font>)) <b><font color='#000066'>fetch_fields</font>(</b><b>)</b></tt></p></dd>

<dt><font face='Helvetica'>Description</font><dt>
<dd><font face='Helvetica'><p>Return information about the available fields.</p>
</font></dd></dl>


<hr clear='all' size='1' noshadow='noshadow' />
<dl>
<dt><font face='Helvetica'><font face='Helvetica'>Method</font>
<font size='+1'><b>seek</b></font>
</font><dt>
<dd><p><tt><font color='#202020'>void</font> <b><font color='#000066'>seek</font>(</b><font color='#202020'>int</font> <font color='#005080'>skip</font><b>)</b></tt></p></dd>

<dt><font face='Helvetica'>Description</font><dt>
<dd><font face='Helvetica'><p>Skip past a number of rows.</p>
</font></dd>
<dt><font face='Helvetica'>Parameter <tt><font color='#8000F0'>skip</font></tt></font><dt>
<dd></dd><dd><font face='Helvetica'><p>Number of rows to skip.</p>
</font></dd></dl>


<hr clear='all' size='1' noshadow='noshadow' />
<dl>
<dt><font face='Helvetica'><font face='Helvetica'>Method</font>
<font size='+1'><b>fetch_row</b></font>
</font><dt>
<dd><p><tt><font color='#202020'>int</font>|<font color='#202020'>array</font>(<font color='#202020'>string</font>|<font color='#202020'>int</font>) <b><font color='#000066'>fetch_row</font>(</b><b>)</b></tt></p></dd>

<dt><font face='Helvetica'>Description</font><dt>
<dd><font face='Helvetica'><p>Fetch the next row from the result.</p>
</font></dd></dl>
</dd></dl><dl><dt><table width='100%' cellpadding='3' cellspacing='0' border='0'><tr><td bgcolor='#EEEEEE'><font size='+3'>&nbsp; CLASS <b><font color='#005080'>Sql.postgres</font></b></font></td></tr></table><br />
</dt><dd><dl>
<dt><font face='Helvetica'>Description</font><dt>
<dd><font face='Helvetica'><p>This is an interface to the Postgres (Postgres95, pgsql) database
 server. This module may or may not be available on your Pike,
 depending whether the appropriate include and library files could
 be found at compile-time. Note that you <b>do not</b> need to have a
 Postgres server running on your host to use this module: you can
 connect to the database over a TCP/IP socket.</p>
</font></dd>
<dt><font face='Helvetica'>Note</font><dt>
<dd><font face='Helvetica'><p>Please note that there is a more advanced driver to access PostgreSQL
 databases: <font face='courier'>Sql.pgsql</font> .</p>
</font></dd>
<dt><font face='Helvetica'>Note</font><dt>
<dd><font face='Helvetica'><p>Also note that <b>this module uses blocking I/O</b> to connect
 to the server. It is thread-safe, and so it can be used in a
 multithread environment.</p>
<p> The behavior of the Postgres C API also depends on certain
 environment variables defined in the environment of the Pike
 interpreter; some notice and warning notifications might are dumped
 on stderr.</p>
<table bgcolor='black' border='0' cellspacing='0' cellpadding='0'><tr><td>
<table cellspacing='1' cellpadding='3' border='0' bgcolor='black'>
<tr valign='top'><td bgcolor='white'><tt><font color='green'>"PGHOST"</font></tt></td><td bgcolor='white'><p>Sets the name of the default host to connect to. It defaults
 	to <font face='courier'><code>"localhost"</code></font>.</p>
</td></tr>
<tr valign='top'><td bgcolor='white'><tt><font color='green'>"PGOPTIONS"</font></tt></td><td bgcolor='white'><p>Sets some extra flags for the frontend-backend connection.
     <b>do not set</b> unless you're sure of what you're doing.</p>
</td></tr>
<tr valign='top'><td bgcolor='white'><tt><font color='green'>"PGPORT"</font></tt></td><td bgcolor='white'><p>Sets the default port to connect to, otherwise it will use
     compile-time defaults (that is: the time you compiled the postgres
 	library, not the Pike driver).</p>
</td></tr>
<tr valign='top'><td bgcolor='white'><tt><font color='green'>"PGTTY"</font></tt></td><td bgcolor='white'><p>Sets the file to be used for Postgres frontend debugging.
     Do not use, unless you're sure of what you're doing.</p>
</td></tr>
<tr valign='top'><td bgcolor='white'><tt><font color='green'>"PGDATABASE"</font></tt></td><td bgcolor='white'><p>Sets the default database to connect to.</p>
</td></tr>
<tr valign='top'><td bgcolor='white'><tt><font color='green'>"PGREALM"</font></tt></td><td bgcolor='white'><p>Sets the default realm for Kerberos authentication. I never used
   	this, so I can't help you.</p>
</td></tr>
</table></td></tr></table><br />
<p>Refer to the Postgres documentation for further details.</p>
</font></dd>
<dt><font face='Helvetica'>See also</font><dt>
<dd><font face='Helvetica'><p><font face='courier'>Sql.pgsql</font> , <font face='courier'>Sql.Sql</font> , <font face='courier'>Postgres.postgres</font> , <font face='courier'>Sql.postgres_result</font> </p>
</font></dd></dl>

<hr clear='all' size='1' noshadow='noshadow' />
<dl>
<dt><font face='Helvetica'><font face='Helvetica'>Inherit</font>
<font size='+1'><b>mo</b></font>
</font><dt>
<dd><p><font face='courier'>inherit Postgres.postgres</font><font face='courier'> : <font color='#F000F0'>mo</font></font></p></dd>
</dl>


<hr clear='all' size='1' noshadow='noshadow' />
<dl>
<dt><font face='Helvetica'><font face='Helvetica'>Method</font>
<font size='+1'><b>select_db</b></font>
</font><dt>
<dd><p><tt><font color='#202020'>void</font> <b><font color='#000066'>select_db</font>(</b><font color='#202020'>string</font> <font color='#005080'>dbname</font><b>)</b></tt></p></dd>

<dt><font face='Helvetica'>Description</font><dt>
<dd><font face='Helvetica'><p>This function allows you to connect to a database. Due to
 restrictions of the Postgres frontend-backend protocol, you always
 have to be connected to a database, so in fact this function just
 allows you to connect to a different database on the same server.</p>
</font></dd>
<dt><font face='Helvetica'>Note</font><dt>
<dd><font face='Helvetica'><p>This function <b>can</b> raise exceptions if something goes wrong
 (backend process not running, not enough permissions..)</p>
</font></dd>
<dt><font face='Helvetica'>See also</font><dt>
<dd><font face='Helvetica'><p>create</p>
</font></dd></dl>


<hr clear='all' size='1' noshadow='noshadow' />
<dl>
<dt><font face='Helvetica'><font face='Helvetica'>Method</font>
<font size='+1'><b>error</b></font>
</font><dt>
<dd><p><tt><font color='#202020'>string</font> <b><font color='#000066'>error</font>(</b><b>)</b></tt></p></dd>

<dt><font face='Helvetica'>Description</font><dt>
<dd><font face='Helvetica'><p>This function returns the textual description of the last
 server-related error. Returns <font face='courier'><code>0</code></font> if no error has occurred
 yet. It is not cleared upon reading (can be invoked multiple
 times, will return the same result until a new error occurs).</p>
</font></dd>
<dt><font face='Helvetica'>See also</font><dt>
<dd><font face='Helvetica'><p>big_query</p>
</font></dd></dl>


<hr clear='all' size='1' noshadow='noshadow' />
<dl>
<dt><font face='Helvetica'><font face='Helvetica'>Method</font>
<font size='+1'><b>host_info</b></font>
</font><dt>
<dd><p><tt><font color='#202020'>string</font> <b><font color='#000066'>host_info</font>(</b><b>)</b></tt></p></dd>

<dt><font face='Helvetica'>Description</font><dt>
<dd><font face='Helvetica'><p>This function returns a string describing what host are we talking to,
 and how (TCP/IP or UNIX sockets).</p>
</font></dd></dl>


<hr clear='all' size='1' noshadow='noshadow' />
<dl>
<dt><font face='Helvetica'><font face='Helvetica'>Method</font>
<font size='+1'><b>reset</b></font>
</font><dt>
<dd><p><tt><font color='#202020'>void</font> <b><font color='#000066'>reset</font>(</b><b>)</b></tt></p></dd>

<dt><font face='Helvetica'>Description</font><dt>
<dd><font face='Helvetica'><p>This function resets the connection to the backend. Can be used for
 a variety of reasons, for example to detect the status of a connection.</p>
</font></dd>
<dt><font face='Helvetica'>Note</font><dt>
<dd><font face='Helvetica'><p>This function is Postgres-specific, and thus it is not available
 through the generic SQL-interface.</p>
</font></dd></dl>


<hr clear='all' size='1' noshadow='noshadow' />
<dl>
<dt><font face='Helvetica'><font face='Helvetica'>Variable</font>
<font size='+1'><b>version</b></font>
</font><dt>
<dd><p><tt><font color='#202020'>string</font> Sql.postgres.<b><font color='#F000F0'>version</font></b></tt></p></dd>

<dt><font face='Helvetica'>Description</font><dt>
<dd><font face='Helvetica'><p>Should you need to report a bug to the author, please submit along with
 the report the driver version number, as returned by this call.</p>
</font></dd></dl>


<hr clear='all' size='1' noshadow='noshadow' />
<dl>
<dt><font face='Helvetica'><font face='Helvetica'>Method</font>
<font size='+1'><b>create</b></font>
</font><dt>
<dd><p><tt><font color='#202020'>void</font> Sql.postgres<b>(</b><b>)</b></tt><br />
<tt><font color='#202020'>void</font> Sql.postgres<b>(</b><font color='#202020'>string</font> <font color='#005080'>host</font>, <font color='#202020'>void</font>|<font color='#202020'>string</font> <font color='#005080'>database</font>, <font color='#202020'>void</font>|<font color='#202020'>string</font> <font color='#005080'>user</font>, <font color='#202020'>void</font>|<font color='#202020'>string</font> <font color='#005080'>password</font><b>)</b></tt></p></dd>

<dt><font face='Helvetica'>Description</font><dt>
<dd><font face='Helvetica'><p>With no arguments, this function initializes (reinitializes if a
 connection had been previously set up) a connection to the
 Postgres backend. Since Postgres requires a database to be
 selected, it will try to connect to the default database. The
 connection may fail however for a variety of reasons, in this case
 the most likely of all is because you don't have enough authority
 to connect to that database. So use of this particular syntax is
 discouraged.</p>
<p> The host argument can have the syntax <font face='courier'><code>"hostname"</code></font> or
 <font face='courier'><code>"hostname:portname"</code></font>. This allows to specify the TCP/IP
 port to connect to. If it is <font face='courier'><code>0</code></font> or <font face='courier'><code>""</code></font>, it will try
 to connect to localhost, default port.</p>
<p> The database argument specifies the database to connect to. If
 <font face='courier'><code>0</code></font> or <font face='courier'><code>""</code></font>, it will try to connect to the specified
 database.</p>
<p> The username and password arguments are silently ignored, since
 the Postgres C API doesn't allow to connect to the server as any
 user different than the user running the interface.</p>
</font></dd>
<dt><font face='Helvetica'>Note</font><dt>
<dd><font face='Helvetica'><p>You need to have a database selected before using the sql-object,
 otherwise you'll get exceptions when you try to query it. Also
 notice that this function <b>can</b> raise exceptions if the db
 server doesn't respond, if the database doesn't exist or is not
 accessible by you.</p>
<p> You don't need bothering about syncronizing the connection to the database:
 it is automatically closed (and the database is sync-ed) when the
 object is destroyed.</p>
</font></dd>
<dt><font face='Helvetica'>See also</font><dt>
<dd><font face='Helvetica'><p><font face='courier'>Sql.pgsql</font> , <font face='courier'>Postgres.postgres</font> , <font face='courier'>Sql.Sql</font> , <font face='courier'>postgres-&gt;select_db</font> </p>
</font></dd></dl>


<hr clear='all' size='1' noshadow='noshadow' />
<dl>
<dt><font face='Helvetica'><font face='Helvetica'>Method</font>
<font size='+1'><b>set_notify_callback</b></font>
</font><dt>
<dd><p><tt><font color='#202020'>void</font> <b><font color='#000066'>set_notify_callback</font>(</b><b>)</b></tt><br />
<tt><font color='#202020'>void</font> <b><font color='#000066'>set_notify_callback</font>(</b><font color='#202020'>function</font> <font color='#005080'>f</font><b>)</b></tt><br />
<tt><font color='#202020'>void</font> <b><font color='#000066'>set_notify_callback</font>(</b><font color='#202020'>function</font> <font color='#005080'>f</font>, <font color='#202020'>int</font>|<font color='#202020'>float</font> <font color='#005080'>poll_delay</font><b>)</b></tt></p></dd>

<dt><font face='Helvetica'>Description</font><dt>
<dd><font face='Helvetica'><p>With Postgres you can associate events and notifications to tables.
 This function allows you to detect and handle such events.</p>
<p> With no arguments, resets and removes any callback you might have
 put previously, and any polling cycle.</p>
<p> With one argument, sets the notification callback (there can be only
 one for each sqlobject). </p>
<p> With two arguments, sets a notification callback and sets a polling
 cycle.</p>
<p> The polling cycle is necessary because of the way notifications are
 delivered, that is piggyback with a query result. This means that
 if you don't do any query, you'll receive no notification. The polling
 cycle starts a call_out cycle which will do an empty query when
 the specified interval expires, so that pending notifications 
 may be delivered.</p>
<p> The callback function must return no value, and takes a string argument,
 which will be the name of the table on which the notification event
 has occured. In future versions, support for user-specified arguments
 will be added.</p>
</font></dd>
<dt><font face='Helvetica'>Note</font><dt>
<dd><font face='Helvetica'><p>The polling cycle can be run only if your process is in "event-driven mode"
 (that is, if 'main' has returned a negative number).</p>
<p> This function is Postgres-specific, and thus it is not available
 through the generic SQL-interface.</p>
</font></dd><dt><font face='Helvetica' color='red'>FIXME</font></dt>
<dd><font face='Heletica' color='red'><p>An integer can be passed as first argument, but it's effect is
 not documented.</p>
</font></dd></dl>


<hr clear='all' size='1' noshadow='noshadow' />
<dl>
<dt><font face='Helvetica'><font face='Helvetica'>Method</font>
<font size='+1'><b>create_db</b></font>
</font><dt>
<dd><p><tt><font color='#202020'>void</font> <b><font color='#000066'>create_db</font>(</b><font color='#202020'>string</font> <font color='#005080'>db</font><b>)</b></tt></p></dd>

<dt><font face='Helvetica'>Description</font><dt>
<dd><font face='Helvetica'><p>This function creates a new database with the given name (assuming we
 have enough permissions to do this).</p>
</font></dd>
<dt><font face='Helvetica'>See also</font><dt>
<dd><font face='Helvetica'><p>drop_db</p>
</font></dd></dl>


<hr clear='all' size='1' noshadow='noshadow' />
<dl>
<dt><font face='Helvetica'><font face='Helvetica'>Method</font>
<font size='+1'><b>drop_db</b></font>
</font><dt>
<dd><p><tt><font color='#202020'>void</font> <b><font color='#000066'>drop_db</font>(</b><font color='#202020'>string</font> <font color='#005080'>db</font><b>)</b></tt></p></dd>

<dt><font face='Helvetica'>Description</font><dt>
<dd><font face='Helvetica'><p>This function destroys a database and all the data it contains (assuming
 we have enough permissions to do so).</p>
</font></dd>
<dt><font face='Helvetica'>See also</font><dt>
<dd><font face='Helvetica'><p>create_db</p>
</font></dd></dl>


<hr clear='all' size='1' noshadow='noshadow' />
<dl>
<dt><font face='Helvetica'><font face='Helvetica'>Method</font>
<font size='+1'><b>server_info</b></font>
</font><dt>
<dd><p><tt><font color='#202020'>string</font> <b><font color='#000066'>server_info</font>(</b><b>)</b></tt></p></dd>

<dt><font face='Helvetica'>Description</font><dt>
<dd><font face='Helvetica'><p>This function returns a string describing the server we are
 talking to. It has the form <font face='courier'><code>"servername/serverversion"</code></font>
 (like the HTTP protocol description) and is most useful in
 conjunction with the generic SQL-server module.</p>
</font></dd></dl>


<hr clear='all' size='1' noshadow='noshadow' />
<dl>
<dt><font face='Helvetica'><font face='Helvetica'>Method</font>
<font size='+1'><b>list_dbs</b></font>
</font><dt>
<dd><p><tt><font color='#202020'>array</font>(<font color='#202020'>string</font>) <b><font color='#000066'>list_dbs</font>(</b><font color='#202020'>void</font>|<font color='#202020'>string</font> <font color='#005080'>glob</font><b>)</b></tt></p></dd>

<dt><font face='Helvetica'>Description</font><dt>
<dd><font face='Helvetica'><p>Lists all the databases available on the server.
 If glob is specified, lists only those databases matching it.</p>
</font></dd></dl>


<hr clear='all' size='1' noshadow='noshadow' />
<dl>
<dt><font face='Helvetica'><font face='Helvetica'>Method</font>
<font size='+1'><b>list_tables</b></font>
</font><dt>
<dd><p><tt><font color='#202020'>array</font>(<font color='#202020'>string</font>) <b><font color='#000066'>list_tables</font>(</b><font color='#202020'>void</font>|<font color='#202020'>string</font> <font color='#005080'>glob</font><b>)</b></tt></p></dd>

<dt><font face='Helvetica'>Description</font><dt>
<dd><font face='Helvetica'><p>Returns an array containing the names of all the tables in the currently
 selected database.
 If a glob is specified, it will return only those tables
 whose name matches it.</p>
</font></dd></dl>


<hr clear='all' size='1' noshadow='noshadow' />
<dl>
<dt><font face='Helvetica'><font face='Helvetica'>Method</font>
<font size='+1'><b>list_fields</b></font>
</font><dt>
<dd><p><tt><font color='#202020'>array</font>(<font color='#202020'>mapping</font>(<font color='#202020'>string</font>:<font color='#202020'>mixed</font>)) <b><font color='#000066'>list_fields</font>(</b><font color='#202020'>string</font> <font color='#005080'>table</font>, <font color='#202020'>void</font>|<font color='#202020'>string</font> <font color='#005080'>wild</font><b>)</b></tt></p></dd>

<dt><font face='Helvetica'>Description</font><dt>
<dd><font face='Helvetica'><p>Returns a mapping, indexed on the column name, of mappings describing
 the attributes of a table of the current database.
 If a glob is specified, will return descriptions only of the columns
 matching it.</p>
<p> The currently defined fields are:</p>
<table bgcolor='black' border='0' cellspacing='0' cellpadding='0'><tr><td>
<table cellspacing='1' cellpadding='3' border='0' bgcolor='black'>
<tr valign='top'><td bgcolor='white'><tt><font color='green'>"has_rules"</font> : <font color='#202020'>int</font></tt></td><td bgcolor='white'>&nbsp;</td></tr>
<tr valign='top'><td bgcolor='white'><tt><font color='green'>"is_shared"</font> : <font color='#202020'>int</font></tt></td><td bgcolor='white'>&nbsp;</td></tr>
<tr valign='top'><td bgcolor='white'><tt><font color='green'>"owner"</font> : <font color='#202020'>string</font></tt></td><td bgcolor='white'><p>The textual representation of a Postgres uid.</p>
</td></tr>
<tr valign='top'><td bgcolor='white'><tt><font color='green'>"length"</font> : <font color='#202020'>string</font></tt></td><td bgcolor='white'>&nbsp;</td></tr>
<tr valign='top'><td bgcolor='white'><tt><font color='green'>"text"</font> : <font color='#202020'>string</font></tt></td><td bgcolor='white'><p>A textual description of the internal (to the server) type-name</p>
</td></tr>
<tr valign='top'><td bgcolor='white'><tt><font color='green'>"default"</font> : <font color='#202020'>mixed</font></tt></td><td bgcolor='white'>&nbsp;</td></tr>
<tr valign='top'><td bgcolor='white'><tt><font color='green'>"expires"</font> : <font color='#202020'>string</font></tt></td><td bgcolor='white'><p>The "relexpires" attribute for the table. Obsolescent; modern
     versions of Postgres don't seem to use this feature, so don't
     count on this field to contain any useful value.</p>
</td></tr>
</table></td></tr></table><br />

</font></dd></dl>


<hr clear='all' size='1' noshadow='noshadow' />
<dl>
<dt><font face='Helvetica'><font face='Helvetica'>Method</font>
<font size='+1'><b>big_query</b></font>
</font><dt>
<dd><p><tt><font color='#202020'>int</font>|<font color='#202020'>object</font> <b><font color='#000066'>big_query</font>(</b><font color='#202020'>object</font>|<font color='#202020'>string</font> <font color='#005080'>q</font>, <font color='#202020'>mapping</font>(<font color='#202020'>string</font>|<font color='#202020'>int</font>:<font color='#202020'>mixed</font>)|<font color='#202020'>void</font> <font color='#005080'>bindings</font><b>)</b></tt></p></dd>

<dt><font face='Helvetica'>Description</font><dt>
<dd><font face='Helvetica'><p>This is the only provided interface which allows you to query the
 database. If you wish to use the simpler "query" function, you need to
 use the <font face='courier'>Sql.Sql</font>  generic SQL-object.</p>
<p> It returns a postgres_result object (which conforms to the
 <font face='courier'>Sql.sql_result</font>  standard interface for accessing data). I
 recommend using <font face='courier'>query()</font>  for simpler queries (because it is
 easier to handle, but stores all the result in memory), and
 <font face='courier'>big_query()</font>  for queries you expect to return huge amounts of
 data (it's harder to handle, but fetches results on demand).</p>
</font></dd>
<dt><font face='Helvetica'>Note</font><dt>
<dd><font face='Helvetica'><p>This function <b>can</b> raise exceptions.</p>
</font></dd>
<dt><font face='Helvetica'>See also</font><dt>
<dd><font face='Helvetica'><p><font face='courier'>Sql.Sql</font> , <font face='courier'>Sql.sql_result</font> </p>
</font></dd></dl>


<hr clear='all' size='1' noshadow='noshadow' />
<dl>
<dt><font face='Helvetica'><font face='Helvetica'>Method</font>
<font size='+1'><b>streaming_query</b></font>
</font><dt>
<dd><p><tt><font color='#202020'>int</font>|<font color='#202020'>object</font> <b><font color='#000066'>streaming_query</font>(</b><font color='#202020'>object</font>|<font color='#202020'>string</font> <font color='#005080'>q</font>, <font color='#202020'>mapping</font>(<font color='#202020'>string</font>|<font color='#202020'>int</font>:<font color='#202020'>mixed</font>)|<font color='#202020'>void</font> <font color='#005080'>bindings</font><b>)</b></tt></p></dd>

<dt><font face='Helvetica'>Description</font><dt>
<dd><font face='Helvetica'><p>This is an alias for <font face='courier'>big_query()</font> , since <font face='courier'>big_query()</font>  already supports
 streaming.</p>
</font></dd>
<dt><font face='Helvetica'>See also</font><dt>
<dd><font face='Helvetica'><p><font face='courier'>big_query</font> , <font face='courier'>Sql.Sql</font> , <font face='courier'>Sql.sql_result</font> </p>
</font></dd></dl>


<hr clear='all' size='1' noshadow='noshadow' />
<dl>
<dt><font face='Helvetica'><font face='Helvetica'>Inherit</font>
<font size='+1'><b>pgsql</b></font>
</font><dt>
<dd><p><font face='courier'>inherit Sql.pgsql</font><font face='courier'> : <font color='#F000F0'>pgsql</font></font></p></dd>

<dt><font face='Helvetica'>Description</font><dt>
<dd><font face='Helvetica'><p>Maps SQL-urls for
   <tt>postgres://[user[:password]@][hostname][:port][/database]</tt>
 onto
   <tt>pgsql://[user[:password]@][hostname][:port][/database]</tt></p>
<p> The reason this happens, is because Pike was compiled without libpq
 support, therefore Pike falls back to the faster, smaller memory
 footprint, more advanced and native PostgreSQL driver called <font face='courier'>Sql.pgsql</font> .</p>
</font></dd>
<dt><font face='Helvetica'>See also</font><dt>
<dd><font face='Helvetica'><p><font face='courier'>Sql.pgsql</font> , <font face='courier'>Sql.Sql</font> </p>
</font></dd></dl>
</dd></dl><dl><dt><table width='100%' cellpadding='3' cellspacing='0' border='0'><tr><td bgcolor='#EEEEEE'><font size='+3'>&nbsp; CLASS <b><font color='#005080'>Sql.mysql</font></b></font></td></tr></table><br />
</dt><dd><dl>
<dt><font face='Helvetica'>Description</font><dt>
<dd><font face='Helvetica'><p>Implements the glue needed to access the Mysql-module from the generic
 SQL module.</p>
</font></dd></dl>

<hr clear='all' size='1' noshadow='noshadow' />
<dl>
<dt><font face='Helvetica'><font face='Helvetica'>Inherit</font>
<font size='+1'><b>mysql</b></font>
</font><dt>
<dd><p><font face='courier'>inherit Mysql.mysql</font><font face='courier'> : <font color='#F000F0'>mysql</font></font></p></dd>
</dl>


<hr clear='all' size='1' noshadow='noshadow' />
<dl>
<dt><font face='Helvetica'><font face='Helvetica'>Method</font>
<font size='+1'><b>set_unicode_encode_mode</b></font>
</font><dt>
<dd><p><tt><font color='#202020'>int</font>(0..1) <b><font color='#000066'>set_unicode_encode_mode</font>(</b><font color='#202020'>int</font> <font color='#005080'>enable</font><b>)</b></tt></p></dd>

<dt><font face='Helvetica'>Description</font><dt>
<dd><font face='Helvetica'><p>Enables or disables unicode encode mode.</p>
<p> In this mode, if the server supports UTF-8 and the connection
 charset is <font face='courier'><code>latin1</code></font> (the default) or <font face='courier'><code>unicode</code></font> then
 <font face='courier'>big_query</font>  handles wide unicode queries. Enabled by default.</p>
<p> Unicode encode mode works as follows: Eight bit strings are sent
 as <font face='courier'><code>latin1</code></font> and wide strings are sent using <font face='courier'><code>utf8</code></font>.
 <font face='courier'>big_query</font>  sends <font face='courier'><code>SET&nbsp;character_set_client</code></font> statements as
 necessary to update the charset on the server side. If the server
 doesn't support that then it fails, but the wide string query
 would fail anyway.</p>
<p> To make this transparent, string literals with introducers (e.g.
 <font face='courier'><code>_binary&nbsp;'foo'</code></font>) are excluded from the UTF-8 encoding. This
 means that <font face='courier'>big_query</font>  needs to do some superficial parsing of
 the query when it is a wide string.</p>
</font></dd>
<dt><font face='Helvetica'>Returns</font><dt>
<dd><font face='Helvetica'><table bgcolor='black' border='0' cellspacing='0' cellpadding='0'><tr><td>
<table cellspacing='1' cellpadding='3' border='0' bgcolor='black'>
<tr valign='top'><td bgcolor='white'><tt><font color='green'>1</font></tt></td><td bgcolor='white'><p>Unicode encode mode is enabled.</p>
</td></tr>
<tr valign='top'><td bgcolor='white'><tt><font color='green'>0</font></tt></td><td bgcolor='white'><p>Unicode encode mode couldn't be enabled because an
       incompatible connection charset is set. You need to do
       <font face='courier'><code><font&nbsp;face='courier'>set_charset</font>&nbsp;("latin1")</code></font> or
       <font face='courier'><code><font&nbsp;face='courier'>set_charset</font>&nbsp;("unicode")</code></font> to enable it.</p>
</td></tr>
</table></td></tr></table><br />

</font></dd>
<dt><font face='Helvetica'>Note</font><dt>
<dd><font face='Helvetica'><p>Note that this mode doesn't affect the MySQL system variable
   <font face='courier'><code>character_set_connection</code></font>, i.e. it will still be set to
   <font face='courier'><code>latin1</code></font> by default which means server functions like
   <font face='courier'><code>UPPER()</code></font> won't handle non-<font face='courier'><code>latin1</code></font> characters
   correctly in all cases.</p>
<p>   To fix that, do <font face='courier'><code><font&nbsp;face='courier'>set_charset</font>&nbsp;("unicode")</code></font>. That will
   allow unicode encode mode to work while <font face='courier'><code>utf8</code></font> is fully
   enabled at the server side.</p>
<p>   Tip: If you enable <font face='courier'><code>utf8</code></font> on the server side, you need to
   send raw binary strings as <font face='courier'><code>_binary'...'</code></font>. Otherwise they
   will get UTF-8 encoded by the server.</p>
</font></dd>
<dt><font face='Helvetica'>Note</font><dt>
<dd><font face='Helvetica'><p>When unicode encode mode is enabled and the connection charset
   is <font face='courier'><code>latin1</code></font>, the charset accepted by <font face='courier'>big_query</font>  is not
   quite Unicode since <font face='courier'><code>latin1</code></font> is based on <font face='courier'><code>cp1252</code></font>.
   The differences are in the range <font face='courier'><code>0x80..0x9f</code></font> where
   Unicode has control chars.</p>
<p>   This small discrepancy is not present when the connection
   charset is <font face='courier'><code>unicode</code></font>.</p>
</font></dd>
<dt><font face='Helvetica'>See also</font><dt>
<dd><font face='Helvetica'><p><font face='courier'>set_unicode_decode_mode</font> , <font face='courier'>set_charset</font> </p>
</font></dd></dl>


<hr clear='all' size='1' noshadow='noshadow' />
<dl>
<dt><font face='Helvetica'><font face='Helvetica'>Method</font>
<font size='+1'><b>get_unicode_encode_mode</b></font>
</font><dt>
<dd><p><tt><font color='#202020'>int</font> <b><font color='#000066'>get_unicode_encode_mode</font>(</b><b>)</b></tt></p></dd>

<dt><font face='Helvetica'>Description</font><dt>
<dd><font face='Helvetica'><p>Returns nonzero if unicode encode mode is enabled, zero otherwise.</p>
</font></dd>
<dt><font face='Helvetica'>See also</font><dt>
<dd><font face='Helvetica'><p><font face='courier'>set_unicode_encode_mode</font> </p>
</font></dd></dl>


<hr clear='all' size='1' noshadow='noshadow' />
<dl>
<dt><font face='Helvetica'><font face='Helvetica'>Method</font>
<font size='+1'><b>set_unicode_decode_mode</b></font>
</font><dt>
<dd><p><tt><font color='#202020'>void</font> <b><font color='#000066'>set_unicode_decode_mode</font>(</b><font color='#202020'>int</font> <font color='#005080'>enable</font><b>)</b></tt></p></dd>

<dt><font face='Helvetica'>Description</font><dt>
<dd><font face='Helvetica'><p>Enable or disable unicode decode mode.</p>
<p> In this mode, if the server supports UTF-8 then non-binary text
 strings in results are automatically decoded to (possibly wide)
 unicode strings. Not enabled by default.</p>
<p> The statement "<font face='courier'><code>SET&nbsp;character_set_results&nbsp;=&nbsp;utf8</code></font>" is sent
 to the server to enable the mode. When the mode is disabled,
 "<font face='courier'><code>SET&nbsp;character_set_results&nbsp;=&nbsp;xxx</code></font>" is sent, where
 <font face='courier'><code>xxx</code></font> is the connection charset that <font face='courier'>get_charset</font>  returns.</p>
</font></dd>
<dt><font face='Helvetica'>Parameter <tt><font color='#8000F0'>enable</font></tt></font><dt>
<dd></dd><dd><font face='Helvetica'><p>Nonzero enables this feature, zero disables it.</p>
</font></dd>
<dt><font face='Helvetica'>Throws</font><dt>
<dd><font face='Helvetica'><p>Throws an exception if the server doesn't support this, i.e. if
   the statement above fails. The MySQL system variable
   <font face='courier'><code>character_set_results</code></font> was added in MySQL 4.1.1.</p>
<p>   An error is also thrown if Pike has been compiled with a MySQL
   client library older than 4.1.0, which lack the necessary
   support for this.</p>
</font></dd>
<dt><font face='Helvetica'>See also</font><dt>
<dd><font face='Helvetica'><p><font face='courier'>set_unicode_encode_mode</font> </p>
</font></dd></dl>


<hr clear='all' size='1' noshadow='noshadow' />
<dl>
<dt><font face='Helvetica'><font face='Helvetica'>Method</font>
<font size='+1'><b>get_unicode_decode_mode</b></font>
</font><dt>
<dd><p><tt><font color='#202020'>int</font> <b><font color='#000066'>get_unicode_decode_mode</font>(</b><b>)</b></tt></p></dd>

<dt><font face='Helvetica'>Description</font><dt>
<dd><font face='Helvetica'><p>Returns nonzero if unicode decode mode is enabled, zero otherwise.</p>
</font></dd>
<dt><font face='Helvetica'>See also</font><dt>
<dd><font face='Helvetica'><p><font face='courier'>set_unicode_decode_mode</font> </p>
</font></dd></dl>


<hr clear='all' size='1' noshadow='noshadow' />
<dl>
<dt><font face='Helvetica'><font face='Helvetica'>Method</font>
<font size='+1'><b>set_charset</b></font>
</font><dt>
<dd><p><tt><font color='#202020'>void</font> <b><font color='#000066'>set_charset</font>(</b><font color='#202020'>string</font> <font color='#005080'>charset</font><b>)</b></tt></p></dd>

<dt><font face='Helvetica'>Description</font><dt>
<dd><font face='Helvetica'><p>Changes the connection charset. Works similar to sending the query
 <font face='courier'><code>SET&nbsp;NAMES&nbsp;<font&nbsp;face='courier'>charset</font>&nbsp;</code></font> but also records the charset on the
 client side so that various client functions work correctly.</p>
<p><font face='courier'>charset</font>  is a MySQL charset name or the special value
 <font face='courier'><code>"unicode"</code></font> (see below). You can use <font face='courier'><code>SHOW&nbsp;CHARACTER
&nbsp;SET</code></font> to get a list of valid charsets.</p>
<p> Specifying <font face='courier'><code>"unicode"</code></font> as charset is the same as
 <font face='courier'><code>"utf8"</code></font> except that unicode encode and decode modes are
 enabled too. Briefly, this means that you can send queries as
 unencoded unicode strings and will get back non-binary text
 results as unencoded unicode strings. See
 <font face='courier'>set_unicode_encode_mode</font>  and <font face='courier'>set_unicode_decode_mode</font>  for
 further details.</p>
</font></dd>
<dt><font face='Helvetica'>Throws</font><dt>
<dd><font face='Helvetica'><p>Throws an exception if the server doesn't support this, i.e. if
   the statement <font face='courier'><code>SET&nbsp;NAMES</code></font> fails. Support for it was added
   in MySQL 4.1.0.</p>
</font></dd>
<dt><font face='Helvetica'>Note</font><dt>
<dd><font face='Helvetica'><p>If <font face='courier'>charset</font>  is <font face='courier'><code>"latin1"</code></font> and unicode encode mode is
   enabled (the default) then <font face='courier'>big_query</font>  can send wide unicode
   queries transparently if the server supports UTF-8. See
   <font face='courier'>set_unicode_encode_mode</font> .</p>
</font></dd>
<dt><font face='Helvetica'>Note</font><dt>
<dd><font face='Helvetica'><p>If unicode decode mode is already enabled (see
   <font face='courier'>set_unicode_decode_mode</font> ) then this function won't affect the
   result charset (i.e. the MySQL system variable
   <font face='courier'><code>character_set_results</code></font>).</p>
<p>   Actually, a query <font face='courier'><code>SET&nbsp;character_set_results&nbsp;=&nbsp;utf8</code></font> will
   be sent immediately after setting the charset as above if
   unicode decode mode is enabled and <font face='courier'>charset</font>  isn't
   <font face='courier'><code>"utf8"</code></font>.</p>
</font></dd>
<dt><font face='Helvetica'>Note</font><dt>
<dd><font face='Helvetica'><p>You should always use either this function or the
   <font face='courier'><code>"mysql_charset_name"</code></font> option to <font face='courier'>create</font>  to set the
   connection charset, or more specifically the charset that the
   server expects queries to have (i.e. the MySQL system variable
   <font face='courier'><code>character_set_client</code></font>). Otherwise <font face='courier'>big_query</font>  might not
   work correctly.</p>
<p>   Afterwards you may change the system variable
   <font face='courier'><code>character_set_connection</code></font>, and also
   <font face='courier'><code>character_set_results</code></font> if unicode decode mode isn't
   enabled.</p>
</font></dd>
<dt><font face='Helvetica'>Note</font><dt>
<dd><font face='Helvetica'><p>The MySQL <font face='courier'><code>latin1</code></font> charset is close to Windows
   <font face='courier'><code>cp1252</code></font>. The difference from ISO-8859-1 is a bunch of
   printable chars in the range <font face='courier'><code>0x80..0x9f</code></font> (which contains
   control chars in ISO-8859-1). For instance, the euro currency
   sign is <font face='courier'><code>0x80</code></font>.</p>
<p>   You can use the <font face='courier'><code>mysql-latin1</code></font> encoding in the
   <font face='courier'>Locale.Charset</font>  module to do conversions, or just use the
   special <font face='courier'><code>"unicode"</code></font> charset instead.</p>
</font></dd>
<dt><font face='Helvetica'>See also</font><dt>
<dd><font face='Helvetica'><p><font face='courier'>get_charset</font> , <font face='courier'>set_unicode_encode_mode</font> , <font face='courier'>set_unicode_decode_mode</font> </p>
</font></dd></dl>


<hr clear='all' size='1' noshadow='noshadow' />
<dl>
<dt><font face='Helvetica'><font face='Helvetica'>Method</font>
<font size='+1'><b>get_charset</b></font>
</font><dt>
<dd><p><tt><font color='#202020'>string</font> <b><font color='#000066'>get_charset</font>(</b><b>)</b></tt></p></dd>

<dt><font face='Helvetica'>Description</font><dt>
<dd><font face='Helvetica'><p>Returns the MySQL name for the current connection charset.</p>
<p> Returns <font face='courier'><code>"unicode"</code></font> if unicode encode mode is enabled and
 UTF-8 is used on the server side (i.e. in
 <font face='courier'><code>character_set_connection</code></font>).</p>
</font></dd>
<dt><font face='Helvetica'>Note</font><dt>
<dd><font face='Helvetica'><p>In servers with full charset support (i.e. MySQL 4.1.0 or
   later), this corresponds to the MySQL system variable
   <font face='courier'><code>character_set_client</code></font> (with one exception - see next
   note) and thus controls the charset in which queries are sent.
   The charset used for text strings in results might be something
   else (and typically is if unicode decode mode is enabled; see
   <font face='courier'>set_unicode_decode_mode</font> ).</p>
</font></dd>
<dt><font face='Helvetica'>Note</font><dt>
<dd><font face='Helvetica'><p>If the returned charset is <font face='courier'><code>latin1</code></font> or <font face='courier'><code>unicode</code></font> and
   unicode encode mode is enabled (the default) then
   <font face='courier'><code>character_set_client</code></font> in the server might be either
   <font face='courier'><code>latin1</code></font> or <font face='courier'><code>utf8</code></font>, depending on the last sent
   query. See <font face='courier'>set_unicode_encode_mode</font>  for more info.</p>
</font></dd>
<dt><font face='Helvetica'>See also</font><dt>
<dd><font face='Helvetica'><p><font face='courier'>set_charset</font> </p>
</font></dd></dl>


<hr clear='all' size='1' noshadow='noshadow' />
<dl>
<dt><font face='Helvetica'><font face='Helvetica'>Method</font>
<font size='+1'><b>quote</b></font>
</font><dt>
<dd><p><tt><font color='#202020'>string</font> <b><font color='#000066'>quote</font>(</b><font color='#202020'>string</font> <font color='#005080'>s</font><b>)</b></tt></p></dd>

<dt><font face='Helvetica'>Description</font><dt>
<dd><font face='Helvetica'><p>Quote a string so that it can safely be put in a query.</p>
</font></dd>
<dt><font face='Helvetica'>Parameter <tt><font color='#8000F0'>s</font></tt></font><dt>
<dd></dd><dd><font face='Helvetica'><p>String to quote.</p>
</font></dd></dl>


<hr clear='all' size='1' noshadow='noshadow' />
<dl>
<dt><font face='Helvetica'><font face='Helvetica'>Method</font>
<font size='+1'><b>latin1_to_utf8</b></font>
</font><dt>
<dd><p><tt><font color='#202020'>string</font> <b><font color='#000066'>latin1_to_utf8</font>(</b><font color='#202020'>string</font> <font color='#005080'>s</font><b>)</b></tt></p></dd>

<dt><font face='Helvetica'>Description</font><dt>
<dd><font face='Helvetica'><p>Converts a string in MySQL <font face='courier'><code>latin1</code></font> format to UTF-8.</p>
</font></dd></dl>


<hr clear='all' size='1' noshadow='noshadow' />
<dl>
<dt><font face='Helvetica'><font face='Helvetica'>Method</font>
<font size='+1'><b>utf8_encode_query</b></font>
</font><dt>
<dd><p><tt><font color='#202020'>string</font> <b><font color='#000066'>utf8_encode_query</font>(</b><font color='#202020'>string</font> <font color='#005080'>q</font>, <font color='#202020'>function</font>(<font color='#202020'>string</font>:<font color='#202020'>string</font>) <font color='#005080'>encode_fn</font><b>)</b></tt></p></dd>

<dt><font face='Helvetica'>Description</font><dt>
<dd><font face='Helvetica'><p>Encodes the appropriate sections of the query with <font face='courier'>encode_fn</font> .
 Everything except strings prefixed by an introducer (i.e.
 <font face='courier'><code>_something</code></font> or <font face='courier'><code>N</code></font>) is encoded.</p>
</font></dd></dl>


<hr clear='all' size='1' noshadow='noshadow' />
<dl>
<dt><font face='Helvetica'><font face='Helvetica'>Method</font>
<font size='+1'><b>encode_time</b></font>
</font><dt>
<dd><p><tt><font color='#202020'>string</font> <b><font color='#000066'>encode_time</font>(</b><font color='#202020'>int</font> <font color='#005080'>time</font>, <font color='#202020'>void</font>|<font color='#202020'>int</font> <font color='#005080'>date</font><b>)</b></tt></p></dd>

<dt><font face='Helvetica'>Description</font><dt>
<dd><font face='Helvetica'><p>Converts a system time value to an appropriately formatted time
 spec for the database.</p>
</font></dd>
<dt><font face='Helvetica'>Parameter <tt><font color='#8000F0'>time</font></tt></font><dt>
<dd></dd><dd><font face='Helvetica'><p>Time to encode.</p>
</font></dd>
<dt><font face='Helvetica'>Parameter <tt><font color='#8000F0'>date</font></tt></font><dt>
<dd></dd><dd><font face='Helvetica'><p>If nonzero then time is taken as a "full" unix time spec
   (where the date part is ignored), otherwise it's converted as a
   seconds-since-midnight value.</p>
</font></dd></dl>


<hr clear='all' size='1' noshadow='noshadow' />
<dl>
<dt><font face='Helvetica'><font face='Helvetica'>Method</font>
<font size='+1'><b>encode_date</b></font>
</font><dt>
<dd><p><tt><font color='#202020'>string</font> <b><font color='#000066'>encode_date</font>(</b><font color='#202020'>int</font> <font color='#005080'>time</font><b>)</b></tt></p></dd>

<dt><font face='Helvetica'>Description</font><dt>
<dd><font face='Helvetica'><p>Converts a system time value to an appropriately formatted
 date-only spec for the database.</p>
</font></dd>
<dt><font face='Helvetica'>Parameter <tt><font color='#8000F0'>time</font></tt></font><dt>
<dd></dd><dd><font face='Helvetica'><p>Time to encode.</p>
</font></dd></dl>


<hr clear='all' size='1' noshadow='noshadow' />
<dl>
<dt><font face='Helvetica'><font face='Helvetica'>Method</font>
<font size='+1'><b>encode_datetime</b></font>
</font><dt>
<dd><p><tt><font color='#202020'>string</font> <b><font color='#000066'>encode_datetime</font>(</b><font color='#202020'>int</font> <font color='#005080'>time</font><b>)</b></tt></p></dd>

<dt><font face='Helvetica'>Description</font><dt>
<dd><font face='Helvetica'><p>Converts a system time value to an appropriately formatted
 date and time spec for the database.</p>
</font></dd>
<dt><font face='Helvetica'>Parameter <tt><font color='#8000F0'>time</font></tt></font><dt>
<dd></dd><dd><font face='Helvetica'><p>Time to encode.</p>
</font></dd></dl>


<hr clear='all' size='1' noshadow='noshadow' />
<dl>
<dt><font face='Helvetica'><font face='Helvetica'>Method</font>
<font size='+1'><b>decode_time</b></font>
</font><dt>
<dd><p><tt><font color='#202020'>int</font> <b><font color='#000066'>decode_time</font>(</b><font color='#202020'>string</font> <font color='#005080'>timestr</font>, <font color='#202020'>void</font>|<font color='#202020'>int</font> <font color='#005080'>date</font><b>)</b></tt></p></dd>

<dt><font face='Helvetica'>Description</font><dt>
<dd><font face='Helvetica'><p>Converts a database time spec to a system time value.</p>
</font></dd>
<dt><font face='Helvetica'>Parameter <tt><font color='#8000F0'>timestr</font></tt></font><dt>
<dd></dd><dd><font face='Helvetica'><p>Time spec to decode.</p>
</font></dd>
<dt><font face='Helvetica'>Parameter <tt><font color='#8000F0'>date</font></tt></font><dt>
<dd></dd><dd><font face='Helvetica'><p>Take the date part from this system time value. If zero, a
   seconds-since-midnight value is returned.</p>
</font></dd></dl>


<hr clear='all' size='1' noshadow='noshadow' />
<dl>
<dt><font face='Helvetica'><font face='Helvetica'>Method</font>
<font size='+1'><b>decode_date</b></font>
</font><dt>
<dd><p><tt><font color='#202020'>int</font> <b><font color='#000066'>decode_date</font>(</b><font color='#202020'>string</font> <font color='#005080'>datestr</font><b>)</b></tt></p></dd>

<dt><font face='Helvetica'>Description</font><dt>
<dd><font face='Helvetica'><p>Converts a database date-only spec to a system time value.
 Assumes 4-digit years.</p>
</font></dd>
<dt><font face='Helvetica'>Parameter <tt><font color='#8000F0'>datestr</font></tt></font><dt>
<dd></dd><dd><font face='Helvetica'><p>Date spec to decode.</p>
</font></dd></dl>


<hr clear='all' size='1' noshadow='noshadow' />
<dl>
<dt><font face='Helvetica'><font face='Helvetica'>Method</font>
<font size='+1'><b>decode_datetime</b></font>
</font><dt>
<dd><p><tt><font color='#202020'>int</font> <b><font color='#000066'>decode_datetime</font>(</b><font color='#202020'>string</font> <font color='#005080'>timestr</font><b>)</b></tt></p></dd>

<dt><font face='Helvetica'>Description</font><dt>
<dd><font face='Helvetica'><p>Converts a database date and time spec to a system time value.
 Can decode strings missing the time part.</p>
</font></dd>
<dt><font face='Helvetica'>Parameter <tt><font color='#8000F0'>datestr</font></tt></font><dt>
<dd></dd><dd><font face='Helvetica'><p>Date and time spec to decode.</p>
</font></dd></dl>


<hr clear='all' size='1' noshadow='noshadow' />
<dl>
<dt><font face='Helvetica'><font face='Helvetica'>Method</font>
<font size='+1'><b>big_query</b></font>
</font><dt>
<dd><p><tt><font color='#005080'>Mysql.mysql_result</font> <b><font color='#000066'>big_query</font>(</b><font color='#202020'>string</font> <font color='#005080'>query</font>, <font color='#202020'>mapping</font>(<font color='#202020'>string</font>|<font color='#202020'>int</font>:<font color='#202020'>mixed</font>)|<font color='#202020'>void</font> <font color='#005080'>bindings</font>, <font color='#202020'>void</font>|<font color='#202020'>string</font> <font color='#005080'>charset</font><b>)</b></tt></p></dd>

<dt><font face='Helvetica'>Description</font><dt>
<dd><font face='Helvetica'><p>Sends a query to the server.</p>
</font></dd>
<dt><font face='Helvetica'>Parameter <tt><font color='#8000F0'>query</font></tt></font><dt>
<dd></dd><dd><font face='Helvetica'><p>The SQL query.</p>
</font></dd>
<dt><font face='Helvetica'>Parameter <tt><font color='#8000F0'>bindings</font></tt></font><dt>
<dd></dd><dd><font face='Helvetica'><p>An optional bindings mapping. See <font face='courier'>Sql.query</font>  for details about
   this.</p>
</font></dd>
<dt><font face='Helvetica'>Parameter <tt><font color='#8000F0'>charset</font></tt></font><dt>
<dd></dd><dd><font face='Helvetica'><p>An optional charset that will be used temporarily while sending
   <font face='courier'>query</font>  to the server. If necessary, a query</p>
<font face='courier'><pre><code><dd><p>SET character_set_client=<font face='courier'>charset</font> </p>
</dd>
</code></pre></font><p>is sent to the server first, then <font face='courier'>query</font>  is sent as-is, and then
   the connection charset is restored again (if necessary).</p>
<p>   Primarily useful with <font face='courier'>charset</font>  set to <font face='courier'><code>"latin1"</code></font> if
   unicode encode mode (see <font face='courier'>set_unicode_encode_mode</font> ) is enabled
   (the default) and you have some large queries (typically blob
   inserts) where you want to avoid the query parsing overhead.</p>
</font></dd>
<dt><font face='Helvetica'>Returns</font><dt>
<dd><font face='Helvetica'><p>A <font face='courier'>Mysql.mysql_result</font>  object is returned if the query is of a
   kind that returns a result. Zero is returned otherwise.</p>
</font></dd>
<dt><font face='Helvetica'>See also</font><dt>
<dd><font face='Helvetica'><p><font face='courier'>Sql.big_query</font> </p>
</font></dd></dl>


<hr clear='all' size='1' noshadow='noshadow' />
<dl>
<dt><font face='Helvetica'><font face='Helvetica'>Method</font>
<font size='+1'><b>streaming_query</b></font>
</font><dt>
<dd><p><tt><font color='#005080'>Mysql.mysql_result</font> <b><font color='#000066'>streaming_query</font>(</b><font color='#202020'>string</font> <font color='#005080'>query</font>, <font color='#202020'>mapping</font>(<font color='#202020'>string</font>|<font color='#202020'>int</font>:<font color='#202020'>mixed</font>)|<font color='#202020'>void</font> <font color='#005080'>bindings</font>, <font color='#202020'>void</font>|<font color='#202020'>string</font> <font color='#005080'>charset</font><b>)</b></tt></p></dd>

<dt><font face='Helvetica'>Description</font><dt>
<dd><font face='Helvetica'><p>Makes a streaming SQL query.</p>
<p> This function sends the SQL query <font face='courier'>query</font>  to the Mysql-server.
 The result of the query is streamed through the returned
 <font face='courier'>Mysql.mysql_result</font>  object. Note that the involved database
 tables are locked until all the results has been read.</p>
<p> In all other respects, it behaves like <font face='courier'>big_query</font> .</p>
</font></dd></dl>


<hr clear='all' size='1' noshadow='noshadow' />
<dl>
<dt><font face='Helvetica'><font face='Helvetica'>Method</font>
<font size='+1'><b>is_keyword</b></font>
</font><dt>
<dd><p><tt><font color='#202020'>int</font>(0..1) <b><font color='#000066'>is_keyword</font>(</b><font color='#202020'>string</font> <font color='#005080'>name</font><b>)</b></tt></p></dd>

<dt><font face='Helvetica'>Description</font><dt>
<dd><font face='Helvetica'><p>Return 1 if the argument <font face='courier'>name</font>  is a mysql keyword that needs to
 be quoted in a query. The list is currently up-to-date with MySQL
 5.1.</p>
</font></dd></dl>
</dd></dl><dl><dt><table width='100%' cellpadding='3' cellspacing='0' border='0'><tr><td bgcolor='#EEEEEE'><font size='+3'>&nbsp; CLASS <b><font color='#005080'>Sql.sqlite</font></b></font></td></tr></table><br />
</dt><dd><dl>
<dt><font face='Helvetica'>Description</font><dt>
<dd><font face='Helvetica'><p>Low-level interface to SQLite3 databases.</p>
<p> This class should typically not be accessed directly, but instead
 via <font face='courier'>Sql.Sql()</font>  with the scheme <font face='courier'><code>"sqlite://"</code></font>.</p>
</font></dd></dl>

<hr clear='all' size='1' noshadow='noshadow' />
<dl>
<dt><font face='Helvetica'><font face='Helvetica'>Method</font>
<font size='+1'><b>insert_id</b></font>
</font><dt>
<dd><p><tt><font color='#202020'>int</font> <b><font color='#000066'>insert_id</font>(</b><b>)</b></tt></p></dd>

<dt><font face='Helvetica'>Description</font><dt>
<dd><font face='Helvetica'><p>Returns the value of the <tt>ROWID</tt> (aka <tt>OID</tt>, aka <tt>_ROWID_</tt>,
 or declared <tt>INTEGER PRIMARY KEY</tt>) column for the most recent
 successful <tt>INSERT</tt> operation, or <font face='courier'><code>0</code></font> (zero) if no <tt>INSERT</tt>
 operations have been performed on the connection yet.</p>
</font></dd></dl>
<dl><dt><table width='100%' cellpadding='3' cellspacing='0' border='0'><tr><td bgcolor='#EEEEEE'><font size='+3'>&nbsp; CLASS <b><font color='#005080'>Sql.sqlite.ResObj</font></b></font></td></tr></table><br />
</dt><dd><dl>
<dt><font face='Helvetica'>Description</font><dt>
<dd><font face='Helvetica'><p>Result object from <font face='courier'>big_query()</font> .</p>
</font></dd></dl></dd></dl></dd></dl><dl><dt><table width='100%' cellpadding='3' cellspacing='0' border='0'><tr><td bgcolor='#EEEEEE'><font size='+3'>&nbsp; Module <b>Sql.sql_util</b></font></td></tr></table><br />
</dt><dd><dl>
<dt><font face='Helvetica'>Description</font><dt>
<dd><font face='Helvetica'><p>Some SQL utility functions</p>
</font></dd></dl>

<hr clear='all' size='1' noshadow='noshadow' />
<dl>
<dt><font face='Helvetica'><font face='Helvetica'>Method</font>
<font size='+1'><b>quote</b></font>
</font><dt>
<dd><p><tt><font color='#202020'>string</font> <b><font color='#000066'>quote</font>(</b><font color='#202020'>string</font> <font color='#005080'>s</font><b>)</b></tt></p></dd>

<dt><font face='Helvetica'>Description</font><dt>
<dd><font face='Helvetica'><p>Quote a string so that it can safely be put in a query.</p>
</font></dd>
<dt><font face='Helvetica'>Parameter <tt><font color='#8000F0'>s</font></tt></font><dt>
<dd></dd><dd><font face='Helvetica'><p>String to quote.</p>
</font></dd></dl>


<hr clear='all' size='1' noshadow='noshadow' />
<dl>
<dt><font face='Helvetica'><font face='Helvetica'>Method</font>
<font size='+1'><b>fallback</b></font>
</font><dt>
<dd><p><tt><font color='#202020'>void</font> <b><font color='#000066'>fallback</font>(</b><b>)</b></tt></p></dd>

<dt><font face='Helvetica'>Description</font><dt>
<dd><font face='Helvetica'><p>Throw an error in case an unimplemented function is called.</p>
</font></dd></dl>


<hr clear='all' size='1' noshadow='noshadow' />
<dl>
<dt><font face='Helvetica'><font face='Helvetica'>Method</font>
<font size='+1'><b>emulate_bindings</b></font>
</font><dt>
<dd><p><tt><font color='#202020'>string</font> <b><font color='#000066'>emulate_bindings</font>(</b><font color='#202020'>string</font> <font color='#005080'>query</font>, <font color='#202020'>mapping</font>(<font color='#202020'>string</font>|<font color='#202020'>int</font>:<font color='#202020'>mixed</font>)|<font color='#202020'>void</font> <font color='#005080'>bindings</font>, <font color='#202020'>void</font>|<font color='#202020'>object</font> <font color='#005080'>driver</font><b>)</b></tt></p></dd>

<dt><font face='Helvetica'>Description</font><dt>
<dd><font face='Helvetica'><p>Build a raw SQL query, given the cooked query and the variable bindings
 It's meant to be used as an emulation engine for those drivers not
 providing such a behaviour directly (i.e. Oracle).
 The raw query can contain some variables (identified by prefixing
 a colon to a name or a number (i.e. ":var" or  ":2"). They will be
 replaced by the corresponding value in the mapping.</p>
</font></dd>
<dt><font face='Helvetica'>Parameter <tt><font color='#8000F0'>query</font></tt></font><dt>
<dd></dd><dd><font face='Helvetica'><p>The query.</p>
</font></dd>
<dt><font face='Helvetica'>Parameter <tt><font color='#8000F0'>bindings</font></tt></font><dt>
<dd></dd><dd><font face='Helvetica'><p>Optional mapping containing the variable bindings. Make sure that
   no confusion is possible in the query. If necessary, change the
   variables' names.</p>
</font></dd></dl>
<dl><dt><table width='100%' cellpadding='3' cellspacing='0' border='0'><tr><td bgcolor='#EEEEEE'><font size='+3'>&nbsp; CLASS <b><font color='#005080'>Sql.sql_util.UnicodeWrapper</font></b></font></td></tr></table><br />
</dt><dd><dl>
<dt><font face='Helvetica'>Description</font><dt>
<dd><font face='Helvetica'><p>Result object wrapper performing utf8 decoding of all fields.</p>
</font></dd></dl>

<hr clear='all' size='1' noshadow='noshadow' />
<dl>
<dt><font face='Helvetica'>syntax</font><dt>
<dd><p><tt>protected  <font color='#202020'>object</font> Sql.sql_util.UnicodeWrapper.<b><font color='#F000F0'>master_result</font></b></tt><tt><font color='#202020'>void</font> Sql.sql_util.UnicodeWrapper<b>(</b><font color='#202020'>object</font> <font color='#005080'>master_result</font><b>)</b></tt></p></dd>
</dl>


<hr clear='all' size='1' noshadow='noshadow' />
<dl>
<dt><font face='Helvetica'><font face='Helvetica'>Method</font>
<font size='+1'><b>num_rows</b></font>
</font><dt>
<dd><p><tt><font color='#202020'>int</font> <b><font color='#000066'>num_rows</font>(</b><b>)</b></tt></p></dd>

<dt><font face='Helvetica'>Description</font><dt>
<dd><font face='Helvetica'><p>Returns the number of rows in the result.</p>
</font></dd></dl>


<hr clear='all' size='1' noshadow='noshadow' />
<dl>
<dt><font face='Helvetica'><font face='Helvetica'>Method</font>
<font size='+1'><b>num_fields</b></font>
</font><dt>
<dd><p><tt><font color='#202020'>int</font> <b><font color='#000066'>num_fields</font>(</b><b>)</b></tt></p></dd>

<dt><font face='Helvetica'>Description</font><dt>
<dd><font face='Helvetica'><p>Returns the number of fields in the result.</p>
</font></dd></dl>


<hr clear='all' size='1' noshadow='noshadow' />
<dl>
<dt><font face='Helvetica'><font face='Helvetica'>Method</font>
<font size='+1'><b>eof</b></font>
</font><dt>
<dd><p><tt><font color='#202020'>int</font>(0..1) <b><font color='#000066'>eof</font>(</b><b>)</b></tt></p></dd>

<dt><font face='Helvetica'>Description</font><dt>
<dd><font face='Helvetica'><p>Returns <font face='courier'><code>1</code></font> if there are no more rows in the result.</p>
</font></dd></dl>


<hr clear='all' size='1' noshadow='noshadow' />
<dl>
<dt><font face='Helvetica'><font face='Helvetica'>Variable</font>
<font size='+1'><b>field_info</b></font>
</font><dt>
<dd><p><tt>protected  <font color='#202020'>array</font>(<font color='#202020'>int</font>|<font color='#202020'>mapping</font>(<font color='#202020'>string</font>:<font color='#202020'>mixed</font>)) Sql.sql_util.UnicodeWrapper.<b><font color='#F000F0'>field_info</font></b></tt></p></dd>

<dt><font face='Helvetica'>Description</font><dt>
<dd><font face='Helvetica'><p>Cached <font face='courier'>fetch_fields()</font>  result.</p>
</font></dd></dl>


<hr clear='all' size='1' noshadow='noshadow' />
<dl>
<dt><font face='Helvetica'><font face='Helvetica'>Method</font>
<font size='+1'><b>fetch_fields</b></font>
</font><dt>
<dd><p><tt><font color='#202020'>array</font>(<font color='#202020'>int</font>|<font color='#202020'>mapping</font>(<font color='#202020'>string</font>:<font color='#202020'>mixed</font>)) <b><font color='#000066'>fetch_fields</font>(</b><b>)</b></tt></p></dd>

<dt><font face='Helvetica'>Description</font><dt>
<dd><font face='Helvetica'><p>Returns Information about the fields in the result.</p>
<p> The following fields are converted from UTF8 if present:</p>
<table bgcolor='black' border='0' cellspacing='0' cellpadding='0'><tr><td>
<table cellspacing='1' cellpadding='3' border='0' bgcolor='black'>
<tr valign='top'><td bgcolor='white'><tt><font color='green'>"name"</font> : <font color='#202020'>string</font></tt></td><td bgcolor='white'><p>The name of the field. Always present.</p>
</td></tr>
<tr valign='top'><td bgcolor='white'><tt><font color='green'>"table"</font> : <font color='#202020'>string</font></tt></td><td bgcolor='white'><p>The table the field is from. Not present from all databases.</p>
</td></tr>
<tr valign='top'><td bgcolor='white'><tt><font color='green'>"default"</font> : <font color='#202020'>string</font></tt></td><td bgcolor='white'><p>The default value for the column. Not available from all databases.</p>
</td></tr>
</table></td></tr></table><br />

</font></dd></dl>


<hr clear='all' size='1' noshadow='noshadow' />
<dl>
<dt><font face='Helvetica'><font face='Helvetica'>Method</font>
<font size='+1'><b>seek</b></font>
</font><dt>
<dd><p><tt><font color='#202020'>void</font> <b><font color='#000066'>seek</font>(</b><font color='#202020'>int</font> <font color='#005080'>rows</font><b>)</b></tt></p></dd>

<dt><font face='Helvetica'>Description</font><dt>
<dd><font face='Helvetica'><p>Skip ahead the specified number of rows.</p>
</font></dd></dl>


<hr clear='all' size='1' noshadow='noshadow' />
<dl>
<dt><font face='Helvetica'><font face='Helvetica'>Method</font>
<font size='+1'><b>fetch_row</b></font>
</font><dt>
<dd><p><tt><font color='#202020'>int</font>|<font color='#202020'>array</font>(<font color='#202020'>string</font>) <b><font color='#000066'>fetch_row</font>(</b><b>)</b></tt></p></dd>

<dt><font face='Helvetica'>Description</font><dt>
<dd><font face='Helvetica'><p>Fetch the next row from the result.</p>
<p> All strings in the result are decoded from UTF8.</p>
</font></dd></dl>
</dd></dl><dl><dt><table width='100%' cellpadding='3' cellspacing='0' border='0'><tr><td bgcolor='#EEEEEE'><font size='+3'>&nbsp; CLASS <b><font color='#005080'>Sql.sql_util.MySQLUnicodeWrapper</font></b></font></td></tr></table><br />
</dt><dd><dl>
<dt><font face='Helvetica'>Description</font><dt>
<dd><font face='Helvetica'><p>Result wrapper for MySQL that performs UTF-8 decoding of all
 nonbinary fields. Useful if the result charset of the connection
 has been set to UTF-8.</p>
</font></dd>
<dt><font face='Helvetica'>Note</font><dt>
<dd><font face='Helvetica'><p>There's normally no need to use this class directly. It's used
 automatically when <font face='courier'>Mysql.set_unicode_decode_mode</font>  is activated.</p>
</font></dd></dl>

<hr clear='all' size='1' noshadow='noshadow' />
<dl>
<dt><font face='Helvetica'><font face='Helvetica'>Inherit</font>
<font size='+1'><b>UnicodeWrapper</b></font>
</font><dt>
<dd><p><font face='courier'>inherit UnicodeWrapper</font><font face='courier'> : <font color='#F000F0'>UnicodeWrapper</font></font></p></dd>
</dl>
</dd></dl></dd></dl><dl><dt><table width='100%' cellpadding='3' cellspacing='0' border='0'><tr><td bgcolor='#EEEEEE'><font size='+3'>&nbsp; Module <b>Sql.pgsql_util</b></font></td></tr></table><br />
</dt><dd><dl>
<dt><font face='Helvetica'>Description</font><dt>
<dd><font face='Helvetica'><p>Some pgsql utility functions</p>
</font></dd></dl></dd></dl></dd></dl><dl><dt><table width='100%' cellpadding='3' cellspacing='0' border='0'><tr><td bgcolor='#EEEEEE'><font size='+3'>&nbsp; Module <b>Mysql</b></font></td></tr></table><br />
</dt><dd><dl>
<dt><font face='Helvetica'>Description</font><dt>
<dd><font face='Helvetica'><p>This module enables access to the Mysql database from within Pike.
 Use <font face='courier'>Sql.Sql</font>  for general database access.</p>
<p> Mysql is available from <a href='http://www.mysql.com'>http://www.mysql.com</a>.</p>
</font></dd>
<dt><font face='Helvetica'>See also</font><dt>
<dd><font face='Helvetica'><p><font face='courier'>Mysql.mysql</font> , <font face='courier'>Mysql.mysql_result</font> , <font face='courier'>Sql.Sql</font> </p>
</font></dd></dl><dl><dt><table width='100%' cellpadding='3' cellspacing='0' border='0'><tr><td bgcolor='#EEEEEE'><font size='+3'>&nbsp; CLASS <b><font color='#005080'>Mysql.mysql_result</font></b></font></td></tr></table><br />
</dt><dd><dl>
<dt><font face='Helvetica'>Description</font><dt>
<dd><font face='Helvetica'><p>Objects of this class contain the result from Mysql queries.</p>
</font></dd>
<dt><font face='Helvetica'>See also</font><dt>
<dd><font face='Helvetica'><p><font face='courier'>Mysql.mysql</font> , <font face='courier'>Mysql.mysql-&gt;big_query()</font> </p>
</font></dd></dl>

<hr clear='all' size='1' noshadow='noshadow' />
<dl>
<dt><font face='Helvetica'><font face='Helvetica'>Method</font>
<font size='+1'><b>create</b></font>
</font><dt>
<dd><p><tt><font color='#202020'>void</font> Mysql.mysql_result<b>(</b><font color='#005080'>Mysql.mysql</font> <font color='#005080'>connection</font><b>)</b></tt></p></dd>

<dt><font face='Helvetica'>Description</font><dt>
<dd><font face='Helvetica'><p>Make a new <font face='courier'>Mysql.mysql_result</font>  object.</p>
</font></dd>
<dt><font face='Helvetica'>See also</font><dt>
<dd><font face='Helvetica'><p><font face='courier'>Mysql.mysql-&gt;big_query()</font> , <font face='courier'>Mysql.mysql-&gt;list_dbs()</font> ,
   <font face='courier'>Mysql.mysql-&gt;list_tables()</font> , <font face='courier'>Mysql.mysql-&gt;list_processes()</font> ,
   <font face='courier'>Mysql.mysql</font> </p>
</font></dd></dl>


<hr clear='all' size='1' noshadow='noshadow' />
<dl>
<dt><font face='Helvetica'><font face='Helvetica'>Method</font>
<font size='+1'><b>num_rows</b></font>
</font><dt>
<dd><p><tt><font color='#202020'>int</font> <b><font color='#000066'>num_rows</font>(</b><b>)</b></tt></p></dd>

<dt><font face='Helvetica'>Description</font><dt>
<dd><font face='Helvetica'><p>Number of rows in the result.</p>
</font></dd>
<dt><font face='Helvetica'>See also</font><dt>
<dd><font face='Helvetica'><p><font face='courier'>num_fields()</font> </p>
</font></dd></dl>


<hr clear='all' size='1' noshadow='noshadow' />
<dl>
<dt><font face='Helvetica'><font face='Helvetica'>Method</font>
<font size='+1'><b>num_fields</b></font>
</font><dt>
<dd><p><tt><font color='#202020'>int</font> <b><font color='#000066'>num_fields</font>(</b><b>)</b></tt></p></dd>

<dt><font face='Helvetica'>Description</font><dt>
<dd><font face='Helvetica'><p>Number of fields in the result.</p>
</font></dd>
<dt><font face='Helvetica'>See also</font><dt>
<dd><font face='Helvetica'><p><font face='courier'>num_rows()</font> </p>
</font></dd></dl>


<hr clear='all' size='1' noshadow='noshadow' />
<dl>
<dt><font face='Helvetica'><font face='Helvetica'>Method</font>
<font size='+1'><b>field_seek</b></font>
</font><dt>
<dd><p><tt><font color='#202020'>void</font> <b><font color='#000066'>field_seek</font>(</b><font color='#202020'>int</font> <font color='#005080'>field_no</font><b>)</b></tt></p></dd>

<dt><font face='Helvetica'>Description</font><dt>
<dd><font face='Helvetica'><p>Skip to specified field.</p>
<p> Places the field cursor at the specified position. This affects
 which field mysql_result-&gt;fetch_field() will return next.</p>
<p> Fields are numbered starting with 0.</p>
</font></dd>
<dt><font face='Helvetica'>Note</font><dt>
<dd><font face='Helvetica'><p>This function is usually not enabled. To enable it
   <tt>SUPPORT_FIELD_SEEK</tt> must be defined when compiling
   the mysql-module.</p>
</font></dd>
<dt><font face='Helvetica'>See also</font><dt>
<dd><font face='Helvetica'><p><font face='courier'>fetch_field()</font> , <font face='courier'>fetch_fields()</font> </p>
</font></dd></dl>


<hr clear='all' size='1' noshadow='noshadow' />
<dl>
<dt><font face='Helvetica'><font face='Helvetica'>Method</font>
<font size='+1'><b>eof</b></font>
</font><dt>
<dd><p><tt><font color='#202020'>int</font>(0..1) <b><font color='#000066'>eof</font>(</b><b>)</b></tt></p></dd>

<dt><font face='Helvetica'>Description</font><dt>
<dd><font face='Helvetica'><p>Sense end of result table.</p>
<p> Returns <font face='courier'><code>1</code></font> when all rows have been read, and <font face='courier'><code>0</code></font> (zero)
 otherwise.</p>
</font></dd>
<dt><font face='Helvetica'>See also</font><dt>
<dd><font face='Helvetica'><p><font face='courier'>fetch_row()</font> </p>
</font></dd></dl>


<hr clear='all' size='1' noshadow='noshadow' />
<dl>
<dt><font face='Helvetica'><font face='Helvetica'>Method</font>
<font size='+1'><b>fetch_field</b></font>
</font><dt>
<dd><p><tt><font color='#202020'>int</font>|<font color='#202020'>mapping</font>(<font color='#202020'>string</font>:<font color='#202020'>mixed</font>) <b><font color='#000066'>fetch_field</font>(</b><b>)</b></tt></p></dd>

<dt><font face='Helvetica'>Description</font><dt>
<dd><font face='Helvetica'><p>Return specification of the current field.</p>
<p> Returns a mapping with information about the current field, and
 advances the field cursor one step. Returns <font face='courier'><code>0</code></font> (zero) if
 there are no more fields.</p>
<p> The mapping contains the same entries as those returned by
 <font face='courier'>Mysql.mysql-&gt;list_fields()</font> , except that the entry <font face='courier'><code>"default"</code></font>
 is missing.</p>
</font></dd>
<dt><font face='Helvetica'>Note</font><dt>
<dd><font face='Helvetica'><p>This function is usually not enabled. To enable it
   <tt>SUPPORT_FIELD_SEEK</tt> must be defined when compiling
   the mysql-module.</p>
</font></dd>
<dt><font face='Helvetica'>See also</font><dt>
<dd><font face='Helvetica'><p><font face='courier'>fetch_fields()</font> , <font face='courier'>field_seek()</font> , <font face='courier'>Mysql.mysql-&gt;list_fields()</font> </p>
</font></dd></dl>


<hr clear='all' size='1' noshadow='noshadow' />
<dl>
<dt><font face='Helvetica'><font face='Helvetica'>Method</font>
<font size='+1'><b>fetch_fields</b></font>
</font><dt>
<dd><p><tt><font color='#202020'>array</font>(<font color='#202020'>int</font>|<font color='#202020'>mapping</font>(<font color='#202020'>string</font>:<font color='#202020'>mixed</font>)) <b><font color='#000066'>fetch_fields</font>(</b><b>)</b></tt></p></dd>

<dt><font face='Helvetica'>Description</font><dt>
<dd><font face='Helvetica'><p>Get specification of all remaining fields.</p>
<p> Returns an array with one mapping for every remaining field in the
 result table.</p>
<p> The returned data is similar to the data returned by
 <font face='courier'>Mysql.mysql-&gt;list_fields()</font> , except for that the entry
 <font face='courier'><code>"default"</code></font> is missing.</p>
</font></dd>
<dt><font face='Helvetica'>Note</font><dt>
<dd><font face='Helvetica'><p>Resets the field cursor to <font face='courier'><code>0</code></font> (zero).</p>
<p>   This function always exists even when <font face='courier'>fetch_field()</font>  and
   <font face='courier'>field_seek()</font>  don't.</p>
</font></dd>
<dt><font face='Helvetica'>See also</font><dt>
<dd><font face='Helvetica'><p><font face='courier'>fetch_field()</font> , <font face='courier'>field_seek()</font> , <font face='courier'>Mysql.mysql-&gt;list_fields()</font> </p>
</font></dd></dl>


<hr clear='all' size='1' noshadow='noshadow' />
<dl>
<dt><font face='Helvetica'><font face='Helvetica'>Method</font>
<font size='+1'><b>seek</b></font>
</font><dt>
<dd><p><tt><font color='#202020'>void</font> <b><font color='#000066'>seek</font>(</b><font color='#202020'>int</font> <font color='#005080'>rows</font><b>)</b></tt></p></dd>

<dt><font face='Helvetica'>Description</font><dt>
<dd><font face='Helvetica'><p>Skip ahead <font face='courier'>rows</font>  rows.</p>
</font></dd>
<dt><font face='Helvetica'>Note</font><dt>
<dd><font face='Helvetica'><p>Can only seek forward.</p>
</font></dd>
<dt><font face='Helvetica'>See also</font><dt>
<dd><font face='Helvetica'><p><font face='courier'>fetch_row()</font> </p>
</font></dd></dl>


<hr clear='all' size='1' noshadow='noshadow' />
<dl>
<dt><font face='Helvetica'><font face='Helvetica'>Method</font>
<font size='+1'><b>fetch_row</b></font>
</font><dt>
<dd><p><tt><font color='#202020'>int</font>|<font color='#202020'>array</font>(<font color='#202020'>string</font>) <b><font color='#000066'>fetch_row</font>(</b><b>)</b></tt></p></dd>

<dt><font face='Helvetica'>Description</font><dt>
<dd><font face='Helvetica'><p>Fetch the next row from the result.</p>
<p> Returns an array with the contents of the next row in the result.
 Advances the row cursor to the next now.</p>
<p> Returns <font face='courier'><code>0</code></font> (zero) at the end of the table.</p>
</font></dd>
<dt><font face='Helvetica'>See also</font><dt>
<dd><font face='Helvetica'><p><font face='courier'>seek()</font> </p>
</font></dd></dl>
</dd></dl><dl><dt><table width='100%' cellpadding='3' cellspacing='0' border='0'><tr><td bgcolor='#EEEEEE'><font size='+3'>&nbsp; CLASS <b><font color='#005080'>Mysql.mysql</font></b></font></td></tr></table><br />
</dt><dd><dl>
<dt><font face='Helvetica'>Description</font><dt>
<dd><font face='Helvetica'><p>Interface to the Mysql database.</p>
<p> This class enables access to the Mysql database from within Pike.</p>
<p> Mysql is available from <a href='http://www.mysql.com'>http://www.mysql.com</a>.</p>
</font></dd>
<dt><font face='Helvetica'>See also</font><dt>
<dd><font face='Helvetica'><p><font face='courier'>Mysql.mysql_result</font> , <font face='courier'>Sql.Sql</font> </p>
</font></dd></dl>

<hr clear='all' size='1' noshadow='noshadow' />
<dl>
<dt><font face='Helvetica'><font face='Helvetica'>Method</font>
<font size='+1'><b>create</b></font>
</font><dt>
<dd><p><tt><font color='#202020'>void</font> Mysql.mysql<b>(</b><b>)</b></tt><br />
<tt><font color='#202020'>void</font> Mysql.mysql<b>(</b><font color='#202020'>string</font> <font color='#005080'>host</font><b>)</b></tt><br />
<tt><font color='#202020'>void</font> Mysql.mysql<b>(</b><font color='#202020'>string</font> <font color='#005080'>host</font>, <font color='#202020'>string</font> <font color='#005080'>database</font><b>)</b></tt><br />
<tt><font color='#202020'>void</font> Mysql.mysql<b>(</b><font color='#202020'>string</font> <font color='#005080'>host</font>, <font color='#202020'>string</font> <font color='#005080'>database</font>, <font color='#202020'>string</font> <font color='#005080'>user</font><b>)</b></tt><br />
<tt><font color='#202020'>void</font> Mysql.mysql<b>(</b><font color='#202020'>string</font> <font color='#005080'>host</font>, <font color='#202020'>string</font> <font color='#005080'>database</font>, <font color='#202020'>string</font> <font color='#005080'>user</font>, <font color='#202020'>string</font> <font color='#005080'>password</font><b>)</b></tt><br />
<tt><font color='#202020'>void</font> Mysql.mysql<b>(</b><font color='#202020'>string</font> <font color='#005080'>host</font>, <font color='#202020'>string</font> <font color='#005080'>database</font>, <font color='#202020'>string</font> <font color='#005080'>user</font>, <font color='#202020'>string</font> <font color='#005080'>password</font>, <font color='#202020'>mapping</font>(<font color='#202020'>string</font>:<font color='#202020'>string</font>|<font color='#202020'>int</font>) <font color='#005080'>options</font><b>)</b></tt></p></dd>

<dt><font face='Helvetica'>Description</font><dt>
<dd><font face='Helvetica'><p>Connect to a Mysql database.</p>
<p> To access the Mysql database, you must first connect to it. This is
 done with this function.</p>
</font></dd>
<dt><font face='Helvetica'>Parameter <tt><font color='#8000F0'>host</font></tt></font><dt>
<dd></dd><dd><font face='Helvetica'><p>If you give no argument, or give <font face='courier'><code>""</code></font> as <font face='courier'>host</font>  it will connect
   with a UNIX-domain socket, which can be a big performance gain.</p>
</font></dd>
<dt><font face='Helvetica'>Parameter <tt><font color='#8000F0'>options</font></tt></font><dt>
<dd></dd><dd><font face='Helvetica'><p>This optional mapping can contain zero or more of the following
   parameters:</p>
<table bgcolor='black' border='0' cellspacing='0' cellpadding='0'><tr><td>
<table cellspacing='1' cellpadding='3' border='0' bgcolor='black'>
<tr valign='top'><td bgcolor='white'><tt><font color='green'>"init_command"</font> : <font color='#202020'>string</font></tt></td><td bgcolor='white'><p>Command to execute on connect.</p>
</td></tr>
<tr valign='top'><td bgcolor='white'><tt><font color='green'>"timeout"</font> : <font color='#202020'>int</font></tt></td><td bgcolor='white'><p>Timeout in seconds.</p>
</td></tr>
<tr valign='top'><td bgcolor='white'><tt><font color='green'>"compress"</font> : <font color='#202020'>int</font>(0..1)</tt></td><td bgcolor='white'><p>Enable compressed protocol.</p>
</td></tr>
<tr valign='top'><td bgcolor='white'><tt><font color='green'>"mysql_config_file"</font> : <font color='#202020'>string</font></tt></td><td bgcolor='white'><p>Change config file from <font face='courier'><code>"my.cnf"</code></font>.</p>
</td></tr>
<tr valign='top'><td bgcolor='white'><tt><font color='green'>"mysql_group"</font> : <font color='#202020'>string</font></tt></td><td bgcolor='white'><p>Specify additional group to read from config file.</p>
</td></tr>
<tr valign='top'><td bgcolor='white'><tt><font color='green'>"mysql_named_pipe"</font> : <font color='#202020'>int</font>(0..1)</tt></td><td bgcolor='white'><p>Use named pipe to connect to server.</p>
</td></tr>
<tr valign='top'><td bgcolor='white'><tt><font color='green'>"mysql_local_infile"</font> : <font color='#202020'>int</font>(0..1)</tt></td><td bgcolor='white'><p>Enable use of LOCAL INFILE (security).</p>
</td></tr>
<tr valign='top'><td bgcolor='white'><tt><font color='green'>"mysql_charset_dir"</font> : <font color='#202020'>string</font></tt></td><td bgcolor='white'><p>Change charset directory.</p>
</td></tr>
<tr valign='top'><td bgcolor='white'><tt><font color='green'>"mysql_charset_name"</font> : <font color='#202020'>string</font></tt></td><td bgcolor='white'><p>Set connection charset - see <font face='courier'>set_charset</font>  for details. The
       default is <font face='courier'><code>"latin1"</code></font>. As opposed to <font face='courier'>set_charset</font> ,
       this way of specifying the connection charset doesn't
       require MySQL 4.1.0.</p>
</td></tr>
<tr valign='top'><td bgcolor='white'><tt><font color='green'>"unicode_decode_mode"</font> : <font color='#202020'>int</font></tt></td><td bgcolor='white'><p>Enable unicode decode mode for the connection if nonzero. In
       this mode non-binary string results are automatically
       converted to (possibly wide) unicode strings. An error is
       thrown if the server doesn't support this. See
       <font face='courier'>set_unicode_decode_mode</font> .</p>
</td></tr>
<tr valign='top'><td bgcolor='white'><tt><font color='green'>"ssl_key"</font> : <font color='#202020'>string</font></tt></td><td bgcolor='white'><p>Path to SSL-key for use in SSL-communication.</p>
</td></tr>
<tr valign='top'><td bgcolor='white'><tt><font color='green'>"ssl_cert"</font> : <font color='#202020'>string</font></tt></td><td bgcolor='white'><p>Path to SSL-cert for use in SSL-communication.</p>
</td></tr>
<tr valign='top'><td bgcolor='white'><tt><font color='green'>"ssl_ca"</font> : <font color='#202020'>string</font></tt></td><td bgcolor='white'><p>Path to SSL-CA for use in SSL-communication.</p>
</td></tr>
<tr valign='top'><td bgcolor='white'><tt><font color='green'>"ssl_capath"</font> : <font color='#202020'>string</font></tt></td><td bgcolor='white'><p>Path to SSL-CAPATH for use in SSL-communication.</p>
</td></tr>
<tr valign='top'><td bgcolor='white'><tt><font color='green'>"ssl_cipher"</font> : <font color='#202020'>string</font></tt></td><td bgcolor='white'><p>FIXME</p>
</td></tr>
<tr valign='top'><td bgcolor='white'><tt><font color='green'>"connect_options"</font> : <font color='#202020'>int</font></tt></td><td bgcolor='white'><p>Options used when connecting to the server. See mysql documentation
       for more information.</p>
</td></tr>
</table></td></tr></table><br />

</font></dd>
<dt><font face='Helvetica'>Note</font><dt>
<dd><font face='Helvetica'><p>Some options may not be implemented. Unimplemented options are
   silently ignored.</p>
</font></dd>
<dt><font face='Helvetica'>Note</font><dt>
<dd><font face='Helvetica'><p>To use SSL-connections, set the SSL-parameters correctly. They correspond
   to the parameters given to the mysql-client with the same name so make
   sure that the mysql-client works with SSL and set these parameters to
   the same values and everything should work. If SSL-options are loaded
   from a config-file, one may set the connect_options to include
   CLIENT_SSL.</p>
</font></dd>
<dt><font face='Helvetica'>Note</font><dt>
<dd><font face='Helvetica'><p>If Pike has been built with an old MySQL client lib then it
   might not be possible to specify some charsets that the server
   supports with the <font face='courier'><code>"mysql_charset_name"</code></font> option. In such
   cases it's possible that <font face='courier'>set_charset</font>  works better (provided
   the server is 4.1 or newer).</p>
</font></dd></dl>


<hr clear='all' size='1' noshadow='noshadow' />
<dl>
<dt><font face='Helvetica'><font face='Helvetica'>Method</font>
<font size='+1'><b>_sprintf</b></font>
</font><dt>
<dd><p><tt><font color='#202020'>string</font> <b><font color='#000066'>_sprintf</font>(</b><font color='#202020'>int</font> <font color='#005080'>type</font>, <font color='#202020'>void</font>|<font color='#202020'>mapping</font> <font color='#005080'>flags</font><b>)</b></tt></p></dd>
</dl>


<hr clear='all' size='1' noshadow='noshadow' />
<dl>
<dt><font face='Helvetica'><font face='Helvetica'>Method</font>
<font size='+1'><b>affected_rows</b></font>
</font><dt>
<dd><p><tt><font color='#202020'>int</font> <b><font color='#000066'>affected_rows</font>(</b><b>)</b></tt></p></dd>

<dt><font face='Helvetica'>Description</font><dt>
<dd><font face='Helvetica'><p>Returns the number of rows affected by the last query.</p>
</font></dd></dl>


<hr clear='all' size='1' noshadow='noshadow' />
<dl>
<dt><font face='Helvetica'><font face='Helvetica'>Method</font>
<font size='+1'><b>insert_id</b></font>
</font><dt>
<dd><p><tt><font color='#202020'>int</font> <b><font color='#000066'>insert_id</font>(</b><b>)</b></tt></p></dd>

<dt><font face='Helvetica'>Description</font><dt>
<dd><font face='Helvetica'><p>Returns the id of the last INSERT query into a table with
 an AUTO INCREMENT field.</p>
</font></dd></dl>


<hr clear='all' size='1' noshadow='noshadow' />
<dl>
<dt><font face='Helvetica'><font face='Helvetica'>Method</font>
<font size='+1'><b>error</b></font>
</font><dt>
<dd><p><tt><font color='#202020'>string</font> <b><font color='#000066'>error</font>(</b><b>)</b></tt></p></dd>

<dt><font face='Helvetica'>Description</font><dt>
<dd><font face='Helvetica'><p>Returns a string describing the last error from the Mysql-server.</p>
<p> Returns <font face='courier'><code>0</code></font> (zero) if there was no error.</p>
</font></dd></dl>


<hr clear='all' size='1' noshadow='noshadow' />
<dl>
<dt><font face='Helvetica'><font face='Helvetica'>Method</font>
<font size='+1'><b>select_db</b></font>
</font><dt>
<dd><p><tt><font color='#202020'>void</font> <b><font color='#000066'>select_db</font>(</b><font color='#202020'>string</font> <font color='#005080'>database</font><b>)</b></tt></p></dd>

<dt><font face='Helvetica'>Description</font><dt>
<dd><font face='Helvetica'><p>Select database.</p>
<p> The Mysql-server can hold several databases. You select which one
 you want to access with this function.</p>
</font></dd>
<dt><font face='Helvetica'>See also</font><dt>
<dd><font face='Helvetica'><p><font face='courier'>create()</font> , <font face='courier'>create_db()</font> , <font face='courier'>drop_db()</font> </p>
</font></dd></dl>


<hr clear='all' size='1' noshadow='noshadow' />
<dl>
<dt><font face='Helvetica'><font face='Helvetica'>Method</font>
<font size='+1'><b>create_db</b></font>
</font><dt>
<dd><p><tt><font color='#202020'>void</font> <b><font color='#000066'>create_db</font>(</b><font color='#202020'>string</font> <font color='#005080'>database</font><b>)</b></tt></p></dd>

<dt><font face='Helvetica'>Description</font><dt>
<dd><font face='Helvetica'><p>Create a new database</p>
<p> This function creates a new database named <font face='courier'>database</font> 
 in the Mysql-server.</p>
</font></dd>
<dt><font face='Helvetica'>See also</font><dt>
<dd><font face='Helvetica'><p><font face='courier'>select_db()</font> , <font face='courier'>drop_db()</font> </p>
</font></dd></dl>


<hr clear='all' size='1' noshadow='noshadow' />
<dl>
<dt><font face='Helvetica'><font face='Helvetica'>Method</font>
<font size='+1'><b>drop_db</b></font>
</font><dt>
<dd><p><tt><font color='#202020'>void</font> <b><font color='#000066'>drop_db</font>(</b><font color='#202020'>string</font> <font color='#005080'>database</font><b>)</b></tt></p></dd>

<dt><font face='Helvetica'>Description</font><dt>
<dd><font face='Helvetica'><p>Drop a database</p>
<p> This function drops the database named <font face='courier'>database</font>  from the Mysql-server.</p>
</font></dd>
<dt><font face='Helvetica'>See also</font><dt>
<dd><font face='Helvetica'><p><font face='courier'>create_db()</font> , <font face='courier'>select_db()</font> </p>
</font></dd></dl>


<hr clear='all' size='1' noshadow='noshadow' />
<dl>
<dt><font face='Helvetica'><font face='Helvetica'>Method</font>
<font size='+1'><b>shutdown</b></font>
</font><dt>
<dd><p><tt><font color='#202020'>void</font> <b><font color='#000066'>shutdown</font>(</b><b>)</b></tt></p></dd>

<dt><font face='Helvetica'>Description</font><dt>
<dd><font face='Helvetica'><p>Shutdown the Mysql-server</p>
<p> This function shuts down a running Mysql-server.</p>
</font></dd>
<dt><font face='Helvetica'>See also</font><dt>
<dd><font face='Helvetica'><p><font face='courier'>reload()</font> </p>
</font></dd></dl>


<hr clear='all' size='1' noshadow='noshadow' />
<dl>
<dt><font face='Helvetica'><font face='Helvetica'>Method</font>
<font size='+1'><b>reload</b></font>
</font><dt>
<dd><p><tt><font color='#202020'>void</font> <b><font color='#000066'>reload</font>(</b><b>)</b></tt></p></dd>

<dt><font face='Helvetica'>Description</font><dt>
<dd><font face='Helvetica'><p>Reload security tables</p>
<p> This function causes the Mysql-server to reload its access tables.</p>
</font></dd>
<dt><font face='Helvetica'>See also</font><dt>
<dd><font face='Helvetica'><p><font face='courier'>shutdown()</font> </p>
</font></dd></dl>


<hr clear='all' size='1' noshadow='noshadow' />
<dl>
<dt><font face='Helvetica'><font face='Helvetica'>Method</font>
<font size='+1'><b>statistics</b></font>
</font><dt>
<dd><p><tt><font color='#202020'>string</font> <b><font color='#000066'>statistics</font>(</b><b>)</b></tt></p></dd>

<dt><font face='Helvetica'>Description</font><dt>
<dd><font face='Helvetica'><p>Some Mysql-server statistics</p>
<p> This function returns some server statistics.</p>
</font></dd>
<dt><font face='Helvetica'>See also</font><dt>
<dd><font face='Helvetica'><p><font face='courier'>server_info()</font> , <font face='courier'>host_info()</font> , <font face='courier'>protocol_info()</font> </p>
</font></dd></dl>


<hr clear='all' size='1' noshadow='noshadow' />
<dl>
<dt><font face='Helvetica'><font face='Helvetica'>Method</font>
<font size='+1'><b>server_info</b></font>
</font><dt>
<dd><p><tt><font color='#202020'>string</font> <b><font color='#000066'>server_info</font>(</b><b>)</b></tt></p></dd>

<dt><font face='Helvetica'>Description</font><dt>
<dd><font face='Helvetica'><p>Get the version number of the Mysql-server.</p>
</font></dd>
<dt><font face='Helvetica'>See also</font><dt>
<dd><font face='Helvetica'><p><font face='courier'>statistics()</font> , <font face='courier'>host_info()</font> , <font face='courier'>protocol_info()</font> </p>
</font></dd></dl>


<hr clear='all' size='1' noshadow='noshadow' />
<dl>
<dt><font face='Helvetica'><font face='Helvetica'>Method</font>
<font size='+1'><b>host_info</b></font>
</font><dt>
<dd><p><tt><font color='#202020'>string</font> <b><font color='#000066'>host_info</font>(</b><b>)</b></tt></p></dd>

<dt><font face='Helvetica'>Description</font><dt>
<dd><font face='Helvetica'><p>Get information about the Mysql-server connection</p>
</font></dd>
<dt><font face='Helvetica'>See also</font><dt>
<dd><font face='Helvetica'><p><font face='courier'>statistics()</font> , <font face='courier'>server_info()</font> , <font face='courier'>protocol_info()</font> </p>
</font></dd></dl>


<hr clear='all' size='1' noshadow='noshadow' />
<dl>
<dt><font face='Helvetica'><font face='Helvetica'>Method</font>
<font size='+1'><b>protocol_info</b></font>
</font><dt>
<dd><p><tt><font color='#202020'>int</font> <b><font color='#000066'>protocol_info</font>(</b><b>)</b></tt></p></dd>

<dt><font face='Helvetica'>Description</font><dt>
<dd><font face='Helvetica'><p>Give the Mysql protocol version</p>
<p> This function returns the version number of the protocol the
 Mysql-server uses.</p>
</font></dd>
<dt><font face='Helvetica'>See also</font><dt>
<dd><font face='Helvetica'><p><font face='courier'>statistics()</font> , <font face='courier'>server_info()</font> , <font face='courier'>host_info()</font> </p>
</font></dd></dl>


<hr clear='all' size='1' noshadow='noshadow' />
<dl>
<dt><font face='Helvetica'><font face='Helvetica'>Method</font>
<font size='+1'><b>list_dbs</b></font>
</font><dt>
<dd><p><tt><font color='#005080'>Mysql.mysql_result</font> <b><font color='#000066'>list_dbs</font>(</b><b>)</b></tt><br />
<tt><font color='#005080'>Mysql.mysql_result</font> <b><font color='#000066'>list_dbs</font>(</b><font color='#202020'>string</font> <font color='#005080'>wild</font><b>)</b></tt></p></dd>

<dt><font face='Helvetica'>Description</font><dt>
<dd><font face='Helvetica'><p>List databases</p>
<p> Returns a table containing the names of all databases in the
 Mysql-server. If the argument <font face='courier'>wild</font>  is specified, only those matching
 it will be returned.</p>
</font></dd>
<dt><font face='Helvetica'>See also</font><dt>
<dd><font face='Helvetica'><p><font face='courier'>list_tables()</font> , <font face='courier'>list_fields()</font> , <font face='courier'>list_processes()</font> ,
   <font face='courier'>Mysql.mysql_result</font> </p>
</font></dd></dl>


<hr clear='all' size='1' noshadow='noshadow' />
<dl>
<dt><font face='Helvetica'><font face='Helvetica'>Method</font>
<font size='+1'><b>list_tables</b></font>
</font><dt>
<dd><p><tt><font color='#005080'>Mysql.mysql_result</font> <b><font color='#000066'>list_tables</font>(</b><b>)</b></tt><br />
<tt><font color='#005080'>Mysql.mysql_result</font> <b><font color='#000066'>list_tables</font>(</b><font color='#202020'>string</font> <font color='#005080'>wild</font><b>)</b></tt></p></dd>

<dt><font face='Helvetica'>Description</font><dt>
<dd><font face='Helvetica'><p>List tables in the current database</p>
<p> Returns a table containing the names of all tables in the current
 database. If the argument <font face='courier'>wild</font>  is given, only those matching it
 will be returned.</p>
</font></dd>
<dt><font face='Helvetica'>See also</font><dt>
<dd><font face='Helvetica'><p><font face='courier'>list_dbs()</font> , <font face='courier'>list_fields()</font> , <font face='courier'>list_processes()</font> ,
   <font face='courier'>Mysql.mysql_result</font> </p>
</font></dd></dl>


<hr clear='all' size='1' noshadow='noshadow' />
<dl>
<dt><font face='Helvetica'><font face='Helvetica'>Method</font>
<font size='+1'><b>list_fields</b></font>
</font><dt>
<dd><p><tt><font color='#202020'>array</font>(<font color='#202020'>int</font>|<font color='#202020'>mapping</font>(<font color='#202020'>string</font>:<font color='#202020'>mixed</font>)) <b><font color='#000066'>list_fields</font>(</b><font color='#202020'>string</font> <font color='#005080'>table</font><b>)</b></tt><br />
<tt><font color='#202020'>array</font>(<font color='#202020'>int</font>|<font color='#202020'>mapping</font>(<font color='#202020'>string</font>:<font color='#202020'>mixed</font>)) <b><font color='#000066'>list_fields</font>(</b><font color='#202020'>string</font> <font color='#005080'>table</font>, <font color='#202020'>string</font> <font color='#005080'>wild</font><b>)</b></tt></p></dd>

<dt><font face='Helvetica'>Description</font><dt>
<dd><font face='Helvetica'><p>List all fields.</p>
<p> Returns an array of mappings with information about the fields in the
 table named <font face='courier'>table</font> . If the argument <font face='courier'>wild</font>  is given, only those
 fields matching it will be returned</p>
<p> The mappings contain the following entries:</p>
<table bgcolor='black' border='0' cellspacing='0' cellpadding='0'><tr><td>
<table cellspacing='1' cellpadding='3' border='0' bgcolor='black'>
<tr valign='top'><td bgcolor='white'><tt><font color='green'>"name"</font> : <font color='#202020'>string</font></tt></td><td bgcolor='white'><p>The name of the field.</p>
</td></tr>
<tr valign='top'><td bgcolor='white'><tt><font color='green'>"table"</font> : <font color='#202020'>string</font></tt></td><td bgcolor='white'><p>The name of the table.</p>
</td></tr>
<tr valign='top'><td bgcolor='white'><tt><font color='green'>"default"</font> : <font color='#202020'>string</font></tt></td><td bgcolor='white'><p>The default value for the field.</p>
</td></tr>
<tr valign='top'><td bgcolor='white'><tt><font color='green'>"type"</font> : <font color='#202020'>string</font></tt></td><td bgcolor='white'><p>The SQL type of the field.</p>
</td></tr>
<tr valign='top'><td bgcolor='white'><tt><font color='green'>"length"</font> : <font color='#202020'>int</font></tt></td><td bgcolor='white'><p>The length of the field.</p>
</td></tr>
<tr valign='top'><td bgcolor='white'><tt><font color='green'>"max_length"</font> : <font color='#202020'>int</font></tt></td><td bgcolor='white'><p>The length of the longest element in this field.</p>
</td></tr>
<tr valign='top'><td bgcolor='white'><tt><font color='green'>"flags"</font> : <font color='#202020'>multiset</font>(<font color='#202020'>string</font>)</tt></td><td bgcolor='white'><p>Some flags.</p>
</td></tr>
<tr valign='top'><td bgcolor='white'><tt><font color='green'>decimals</font> : <font color='#202020'>int</font></tt></td><td bgcolor='white'><p>The number of decimalplaces.</p>
</td></tr>
</table></td></tr></table><br />
<p>The type of the field can be any of:
   <font face='courier'><code>"decimal"</code></font>, <font face='courier'><code>"char"</code></font>, <font face='courier'><code>"short"</code></font>, <font face='courier'><code>"long"</code></font>,
   <font face='courier'><code>"float"</code></font>, <font face='courier'><code>"double"</code></font>, <font face='courier'><code>"null"</code></font>, <font face='courier'><code>"time"</code></font>,
   <font face='courier'><code>"longlong"</code></font>, <font face='courier'><code>"int24"</code></font>, <font face='courier'><code>"tiny&nbsp;blob"</code></font>,
   <font face='courier'><code>"medium&nbsp;blob"</code></font>,
   <font face='courier'><code>"long&nbsp;blob"</code></font>, <font face='courier'><code>"var&nbsp;string"</code></font>, <font face='courier'><code>"string"</code></font> or
   <font face='courier'><code>"unknown"</code></font>.</p>
<p> The flags multiset can contain any of:</p>
<table bgcolor='black' border='0' cellspacing='0' cellpadding='0'><tr><td>
<table cellspacing='1' cellpadding='3' border='0' bgcolor='black'>
<tr valign='top'><td bgcolor='white'><tt><font color='green'>"primary_key"</font></tt></td><td bgcolor='white'><p>This field is part of the primary key for this table.</p>
</td></tr>
<tr valign='top'><td bgcolor='white'><tt><font color='green'>"not_null"</font></tt></td><td bgcolor='white'><p>This field may not be NULL.</p>
</td></tr>
<tr valign='top'><td bgcolor='white'><tt><font color='green'>"blob"</font></tt></td><td bgcolor='white'><p>This field is a blob field.</p>
</td></tr>
</table></td></tr></table><br />

</font></dd>
<dt><font face='Helvetica'>Note</font><dt>
<dd><font face='Helvetica'><p>Michael Widenius recomends use of the following query instead:
   <tt>show fields in 'table' like "wild"</tt>.</p>
</font></dd>
<dt><font face='Helvetica'>See also</font><dt>
<dd><font face='Helvetica'><p><font face='courier'>list_dbs()</font> , <font face='courier'>list_tables()</font> , <font face='courier'>list_processes()</font> ,
   <font face='courier'>Mysql.mysql_result.fetch_field()</font> </p>
</font></dd></dl>


<hr clear='all' size='1' noshadow='noshadow' />
<dl>
<dt><font face='Helvetica'><font face='Helvetica'>Method</font>
<font size='+1'><b>list_processes</b></font>
</font><dt>
<dd><p><tt><font color='#005080'>Mysql.mysql_result</font> <b><font color='#000066'>list_processes</font>(</b><b>)</b></tt></p></dd>

<dt><font face='Helvetica'>Description</font><dt>
<dd><font face='Helvetica'><p>List all processes in the Mysql-server</p>
<p> Returns a table containing the names of all processes in the
 Mysql-server.</p>
</font></dd>
<dt><font face='Helvetica'>See also</font><dt>
<dd><font face='Helvetica'><p><font face='courier'>list_dbs()</font> , <font face='courier'>list_tables()</font> , <font face='courier'>list_fields()</font> , <font face='courier'>Mysql.mysql_result</font> </p>
</font></dd></dl>


<hr clear='all' size='1' noshadow='noshadow' />
<dl>
<dt><font face='Helvetica'><font face='Helvetica'>Method</font>
<font size='+1'><b>binary_data</b></font>
</font><dt>
<dd><p><tt><font color='#202020'>int</font> <b><font color='#000066'>binary_data</font>(</b><b>)</b></tt></p></dd>

<dt><font face='Helvetica'>Description</font><dt>
<dd><font face='Helvetica'><p>Inform if this version of <font face='courier'>Mysql.mysql</font>  supports binary data</p>
<p> This function returns non-zero if binary data can be reliably stored
 and retreived with this version of the mysql-module.</p>
<p> Usually, there is no problem storing binary data in mysql-tables,
 but data containing <font face='courier'><code>'\0'</code></font> (NUL) couldn't be fetched with old
 versions (prior to 3.20.5) of the mysql-library.</p>
</font></dd></dl>
</dd></dl></dd></dl><dl><dt><table width='100%' cellpadding='3' cellspacing='0' border='0'><tr><td bgcolor='#EEEEEE'><font size='+3'>&nbsp; Module <b>Postgres</b></font></td></tr></table><br />
</dt><dd><dl><dt><table width='100%' cellpadding='3' cellspacing='0' border='0'><tr><td bgcolor='#EEEEEE'><font size='+3'>&nbsp; CLASS <b><font color='#005080'>Postgres.postgres</font></b></font></td></tr></table><br />
</dt><dd><dl>
<dt><font face='Helvetica'>Description</font><dt>
<dd><font face='Helvetica'><p>This is an interface to the Postgres (Postgres95, pgsql) database server.
 This module may or may not be availible on your Pike, depending
 whether the appropriate include and library files 
 could be found at compile-time. Note that you <b>do not</b>
 need to have a Postgres server running on your host to use this module:
 you can connect to the database over a TCP/IP socket.</p>
<p> Please notice that unless you wish to specifically connect to a Postgres
 server, you'd better use the <font face='courier'>Sql.Sql</font> , which is a server-independent
 sql-server-class. The interfaces to all existing sql-classes
 are consistent. Using <font face='courier'>Sql.Sql</font>  ensures that your Pike
 applications will run with any supported SQL server without changing
 a single line of code, at least for most common (and simple) operations.</p>
<p> The program <font face='courier'>Postgres.postgres</font>  provides the <b>raw</b> interface
 to the database. Many functions are <b>not</b> availible
 for this program. Therefore, its use is DEPRECATED.
 It is included in this documentation only for completeness' sake.
 Use <font face='courier'>Sql.postgres</font>  instead, or even better <font face='courier'>Sql.Sql</font> </p>
</font></dd>
<dt><font face='Helvetica'>Note</font><dt>
<dd><font face='Helvetica'><p>There is no testsuite for this module, since to test anything would
 require a working Postgres server. You can try to use the included scripts
 in the "pike/src/modules/Postgres/extras" directory but you'll probably
 have to patch them to reflect your site's settings.</p>
<p> Also note that <b>this module uses blocking I/O</b> I/O to connect to the server.
 Postgres is quite slow, and so you might want to consider this
 particular aspect. It is (at least should be) thread-safe, and so it can be used
 in a multithread environment.</p>
<p> The behavior of the Postgres C API also depends on certain environment variables
 defined in the environment of the pike interpreter.</p>
<table bgcolor='black' border='0' cellspacing='0' cellpadding='0'><tr><td>
<table cellspacing='1' cellpadding='3' border='0' bgcolor='black'>
<tr valign='top'><td bgcolor='white'><tt><font color='green'>"PGHOST"</font></tt></td><td bgcolor='white'><p>Sets the name of the default host to connect to. It defaults
 	to "localhost"</p>
</td></tr>
<tr valign='top'><td bgcolor='white'><tt><font color='green'>"PGOPTIONS"</font></tt></td><td bgcolor='white'><p>Sets some extra flags for the frontend-backend connection.
     DO NOT SET unless you're sure of what you're doing.</p>
</td></tr>
<tr valign='top'><td bgcolor='white'><tt><font color='green'>"PGPORT"</font></tt></td><td bgcolor='white'><p>Sets the default port to connect to, otherwise it will use
     compile-time defaults (that is: the time you compiled the postgres
 	library, not the Pike driver).</p>
</td></tr>
<tr valign='top'><td bgcolor='white'><tt><font color='green'>"PGTTY"</font></tt></td><td bgcolor='white'><p>Sets the file to be used for Postgres frontend debugging.
     Do not use, unless you're sure of what you're doing.</p>
</td></tr>
<tr valign='top'><td bgcolor='white'><tt><font color='green'>"PGDATABASE"</font></tt></td><td bgcolor='white'><p>Sets the default database to connect to.</p>
</td></tr>
<tr valign='top'><td bgcolor='white'><tt><font color='green'>"PGREALM"</font></tt></td><td bgcolor='white'><p>Sets the default realm for Kerberos authentication. I never used
   	this, so I can't help you.</p>
</td></tr>
</table></td></tr></table><br />
<p>Refer to the Postgres documentation for further details.</p>
</font></dd>
<dt><font face='Helvetica'>See also</font><dt>
<dd><font face='Helvetica'><p><font face='courier'>Sql.Sql</font> , <font face='courier'>Sql.postgres</font> , <font face='courier'>Sql.postgres_result</font> </p>
</font></dd></dl>

<hr clear='all' size='1' noshadow='noshadow' />
<dl>
<dt><font face='Helvetica'><font face='Helvetica'>Variable</font>
<font size='+1'><b>version</b></font>
</font><dt>
<dd><p><tt><font color='#202020'>string</font> Postgres.postgres.<b><font color='#F000F0'>version</font></b></tt></p></dd>

<dt><font face='Helvetica'>Description</font><dt>
<dd><font face='Helvetica'><p>Should you need to report a bug to the author, please submit along with
 the report the driver version number, as returned by this call.</p>
</font></dd></dl>


<hr clear='all' size='1' noshadow='noshadow' />
<dl>
<dt><font face='Helvetica'><font face='Helvetica'>Method</font>
<font size='+1'><b>create</b></font>
</font><dt>
<dd><p><tt><font color='#202020'>void</font> Postgres.postgres<b>(</b><b>)</b></tt><br />
<tt><font color='#202020'>void</font> Postgres.postgres<b>(</b><font color='#202020'>string</font> <font color='#005080'>host</font>, <font color='#202020'>void</font>|<font color='#202020'>string</font> <font color='#005080'>database</font>, <font color='#202020'>void</font>|<font color='#202020'>int</font> <font color='#005080'>port</font><b>)</b></tt></p></dd>

<dt><font face='Helvetica'>Description</font><dt>
<dd><font face='Helvetica'><p>With no arguments, this function initializes (reinitializes if a connection
 had been previously set up) a connection to the Postgres backend.
 Since Postgres requires a database to be selected, it will try
 to connect to the default database. The connection may fail however for a 
 variety of reasons, in this case the most likely of all is because
 you don't have enough authority to connect to that database.
 So use of this particular syntax is discouraged.</p>
<p> The host argument allows you to connect to databases residing on different
 hosts. If it is 0 or "", it will try to connect to localhost.</p>
<p> The database argument specifies the database to connect to. If 0 or "", it
 will try to connect to the default database.</p>
</font></dd>
<dt><font face='Helvetica'>Note</font><dt>
<dd><font face='Helvetica'><p>You need to have a database selected before using the sql-object, 
 otherwise you'll get exceptions when you try to query it.
 Also notice that this function <b>can</b> raise exceptions if the db
 server doesn't respond, if the database doesn't exist or is not accessible
 by you.</p>
<p> You don't need bothering about syncronizing the connection to the database:
 it is automatically closed (and the database is sync-ed) when the
 object is destroyed.</p>
</font></dd>
<dt><font face='Helvetica'>See also</font><dt>
<dd><font face='Helvetica'><p><font face='courier'>Sql.postgres</font> , <font face='courier'>Sql.Sql</font> , <font face='courier'>select_db</font> </p>
</font></dd></dl>


<hr clear='all' size='1' noshadow='noshadow' />
<dl>
<dt><font face='Helvetica'><font face='Helvetica'>Method</font>
<font size='+1'><b>select_db</b></font>
</font><dt>
<dd><p><tt><font color='#202020'>void</font> <b><font color='#000066'>select_db</font>(</b><font color='#202020'>string</font> <font color='#005080'>dbname</font><b>)</b></tt></p></dd>

<dt><font face='Helvetica'>Description</font><dt>
<dd><font face='Helvetica'><p>This function allows you to connect to a database. Due to restrictions
 of the Postgres frontend-backend protocol, you always have to be connected
 to a database, so in fact this function just allows you to connect
 to a different database on the same server.</p>
</font></dd>
<dt><font face='Helvetica'>Note</font><dt>
<dd><font face='Helvetica'><p>This function <b>can</b> raise exceptions if something goes wrong (backend process
 not running, not enough permissions..)</p>
</font></dd>
<dt><font face='Helvetica'>See also</font><dt>
<dd><font face='Helvetica'><p>create</p>
</font></dd></dl>


<hr clear='all' size='1' noshadow='noshadow' />
<dl>
<dt><font face='Helvetica'><font face='Helvetica'>Method</font>
<font size='+1'><b>big_query</b></font>
</font><dt>
<dd><p><tt><font color='#005080'>Sql.postgres_result</font> <b><font color='#000066'>big_query</font>(</b><font color='#202020'>string</font> <font color='#005080'>sqlquery</font><b>)</b></tt></p></dd>

<dt><font face='Helvetica'>Description</font><dt>
<dd><font face='Helvetica'><p>This is the only provided interface which allows you to query the
 database. If you wish to use the simpler "query" function, you need to
 use the <font face='courier'>Sql.Sql</font>  generic sql-object.</p>
<p> It returns a postgres_result object (which conforms to the <font face='courier'>Sql.sql_result</font> 
 standard interface for accessing data). I recommend using query() for
 simpler queries (because it is easier to handle, but stores all the result
 in memory), and big_query for queries you expect to return huge amounts
 of data (it's harder to handle, but fectches results on demand).</p>
</font></dd>
<dt><font face='Helvetica'>Note</font><dt>
<dd><font face='Helvetica'><p>This function <b>can</b> raise exceptions.</p>
<p> The program <font face='courier'>Sql.postgres_result</font>  is a superset of
 the raw <font face='courier'>Postgres.postgres_result</font>  which does not do chunking to
 avoid excessive memory usage in case of large resultsets.</p>
</font></dd>
<dt><font face='Helvetica'>See also</font><dt>
<dd><font face='Helvetica'><p><font face='courier'>Sql.Sql</font> , <font face='courier'>Sql.sql_result</font> </p>
</font></dd></dl>


<hr clear='all' size='1' noshadow='noshadow' />
<dl>
<dt><font face='Helvetica'><font face='Helvetica'>Method</font>
<font size='+1'><b>error</b></font>
</font><dt>
<dd><p><tt><font color='#202020'>string</font> <b><font color='#000066'>error</font>(</b><b>)</b></tt></p></dd>

<dt><font face='Helvetica'>Description</font><dt>
<dd><font face='Helvetica'><p>This function returns the textual description of the last server-related
 error. Returns 0 if no error has occurred yet. It is not cleared upon
 reading (can be invoked multiple times, will return the same result
 until a new error occurs).</p>
</font></dd>
<dt><font face='Helvetica'>See also</font><dt>
<dd><font face='Helvetica'><p>big_query</p>
</font></dd></dl>


<hr clear='all' size='1' noshadow='noshadow' />
<dl>
<dt><font face='Helvetica'><font face='Helvetica'>Method</font>
<font size='+1'><b>reset</b></font>
</font><dt>
<dd><p><tt><font color='#202020'>void</font> <b><font color='#000066'>reset</font>(</b><b>)</b></tt></p></dd>

<dt><font face='Helvetica'>Description</font><dt>
<dd><font face='Helvetica'><p>This function resets the connection to the backend. Can be used for
 a variety of reasons, for example to detect the status of a connection.</p>
</font></dd>
<dt><font face='Helvetica'>Note</font><dt>
<dd><font face='Helvetica'><p>This function is Postgres-specific, and thus it is not availible
 through the generic SQL-interface.</p>
</font></dd></dl>


<hr clear='all' size='1' noshadow='noshadow' />
<dl>
<dt><font face='Helvetica'><font face='Helvetica'>Method</font>
<font size='+1'><b>_set_notify_callback</b></font>
</font><dt>
<dd><p><tt><font color='#202020'>void</font> <b><font color='#000066'>_set_notify_callback</font>(</b><b>)</b></tt><br />
<tt><font color='#202020'>void</font> <b><font color='#000066'>_set_notify_callback</font>(</b><font color='#202020'>function</font> <font color='#005080'>f</font><b>)</b></tt></p></dd>

<dt><font face='Helvetica'>Description</font><dt>
<dd><font face='Helvetica'><p>With Postgres you can associate events and notifications to tables.
 This function allows you to detect and handle such events.</p>
<p> With no arguments, resets and removes any callback you might have
 put previously, and any polling cycle.</p>
<p> With one argument, sets the notification callback (there can be only
 one for each sqlobject). </p>
<p> The callback function must return no value, and takes a string argument,
 which will be the name of the table on which the notification event
 has occured. In future versions, support for user-specified arguments
 will be added.</p>
</font></dd>
<dt><font face='Helvetica'>Note</font><dt>
<dd><font face='Helvetica'><p>The <font face='courier'>Sql.postgres</font>  program adds support for automatic delivery of
 messages (see it for explanation on the inner workings of this feature).</p>
<p> This function is Postgres-specific, and thus it is not availible
 through the generic SQL-interface</p>
</font></dd>
<dt><font face='Helvetica'>See also</font><dt>
<dd><font face='Helvetica'><p>Sql.postgres</p>
</font></dd></dl>


<hr clear='all' size='1' noshadow='noshadow' />
<dl>
<dt><font face='Helvetica'><font face='Helvetica'>Method</font>
<font size='+1'><b>host_info</b></font>
</font><dt>
<dd><p><tt><font color='#202020'>string</font> <b><font color='#000066'>host_info</font>(</b><b>)</b></tt></p></dd>

<dt><font face='Helvetica'>Description</font><dt>
<dd><font face='Helvetica'><p>This function returns a string describing what host are we talking to,
 and how (TCP/IP or UNIX sockets).</p>
</font></dd></dl>


<hr clear='all' size='1' noshadow='noshadow' />
<dl>
<dt><font face='Helvetica'><font face='Helvetica'>Method</font>
<font size='+1'><b>affected_rows</b></font>
</font><dt>
<dd><p><tt><font color='#202020'>int</font> <b><font color='#000066'>affected_rows</font>(</b><b>)</b></tt></p></dd>

<dt><font face='Helvetica'>Description</font><dt>
<dd><font face='Helvetica'><p>This function returns the number of rows affected by the last query.</p>
</font></dd></dl>


<hr clear='all' size='1' noshadow='noshadow' />
<dl>
<dt><font face='Helvetica'><font face='Helvetica'>Method</font>
<font size='+1'><b>_quote</b></font>
</font><dt>
<dd><p><tt><font color='#202020'>string</font> <b><font color='#000066'>_quote</font>(</b><font color='#202020'>string</font> <font color='#005080'>s</font><b>)</b></tt></p></dd>

<dt><font face='Helvetica'>Description</font><dt>
<dd><font face='Helvetica'><p>Escape a string to prevent SQL injection, using the current connection's
 character encoding settings.</p>
</font></dd></dl>
</dd></dl><dl><dt><table width='100%' cellpadding='3' cellspacing='0' border='0'><tr><td bgcolor='#EEEEEE'><font size='+3'>&nbsp; CLASS <b><font color='#005080'>Postgres.postgres_result</font></b></font></td></tr></table><br />
</dt><dd><dl>
<dt><font face='Helvetica'>Description</font><dt>
<dd><font face='Helvetica'><p>Contains the result of a Postgres-query.</p>
</font></dd>
<dt><font face='Helvetica'>See also</font><dt>
<dd><font face='Helvetica'><p>Sql.postgres, Postgres.postgres, Sql.Sql, Sql.sql_result</p>
</font></dd></dl>

<hr clear='all' size='1' noshadow='noshadow' />
<dl>
<dt><font face='Helvetica'><font face='Helvetica'>Method</font>
<font size='+1'><b>create</b></font>
</font><dt>
<dd><p><tt><font color='#202020'>void</font> Postgres.postgres_result<b>(</b><font color='#202020'>object</font> <font color='#005080'>o</font><b>)</b></tt></p></dd>

<dt><font face='Helvetica'>Description</font><dt>
<dd><font face='Helvetica'><p>You can't create istances of this object yourself.
 The only way to create it is via a big_query to a Postgres
 database.</p>
</font></dd></dl>


<hr clear='all' size='1' noshadow='noshadow' />
<dl>
<dt><font face='Helvetica'><font face='Helvetica'>Method</font>
<font size='+1'><b>num_rows</b></font>
</font><dt>
<dd><p><tt><font color='#202020'>int</font> <b><font color='#000066'>num_rows</font>(</b><b>)</b></tt></p></dd>

<dt><font face='Helvetica'>Description</font><dt>
<dd><font face='Helvetica'><p>Returns the number of rows in the result.</p>
</font></dd></dl>


<hr clear='all' size='1' noshadow='noshadow' />
<dl>
<dt><font face='Helvetica'><font face='Helvetica'>Method</font>
<font size='+1'><b>num_fields</b></font>
</font><dt>
<dd><p><tt><font color='#202020'>int</font> <b><font color='#000066'>num_fields</font>(</b><b>)</b></tt></p></dd>

<dt><font face='Helvetica'>Description</font><dt>
<dd><font face='Helvetica'><p>Returns the number of fields in the result.</p>
</font></dd></dl>


<hr clear='all' size='1' noshadow='noshadow' />
<dl>
<dt><font face='Helvetica'><font face='Helvetica'>Method</font>
<font size='+1'><b>fetch_fields</b></font>
</font><dt>
<dd><p><tt><font color='#202020'>array</font>(<font color='#202020'>mapping</font>(<font color='#202020'>string</font>:<font color='#202020'>mixed</font>)) <b><font color='#000066'>fetch_fields</font>(</b><b>)</b></tt></p></dd>

<dt><font face='Helvetica'>Description</font><dt>
<dd><font face='Helvetica'><p>Returns an array with an entry for each field, each entry is
 a mapping with the following fields:</p>
<table bgcolor='black' border='0' cellspacing='0' cellpadding='0'><tr><td>
<table cellspacing='1' cellpadding='3' border='0' bgcolor='black'>
<tr valign='top'><td bgcolor='white'><tt><font color='green'>"name"</font> : <font color='#202020'>string</font></tt></td><td bgcolor='white'><p>Name of the column</p>
</td></tr>
<tr valign='top'><td bgcolor='white'><tt><font color='green'>"type"</font> : <font color='#202020'>int</font></tt></td><td bgcolor='white'><p>The type ID of the field. This is the database's internal
     representation type ID.</p>
</td></tr>
<tr valign='top'><td bgcolor='white'><tt><font color='green'>"length"</font> : <font color='#202020'>int</font>|<font color='#202020'>string</font></tt></td><td bgcolor='white'><p>Can be an integer (the size of the contents in
     bytes) or the word "variable".</p>
</td></tr>
</table></td></tr></table><br />

</font></dd>
<dt><font face='Helvetica'>Note</font><dt>
<dd><font face='Helvetica'><p>For char() fields, length is to be intended as the MAXIMUM length
 of the field. This is not part of the interface specifications in fact,
 but a driver-choice. In fact char() fields are for Postgres _FIXED_
 length fields, and are space-padded. If CUT_TRAILING_SPACES is defined
 when the driver is compiled (default behavior) it will cut such spaces.</p>
</font></dd></dl>


<hr clear='all' size='1' noshadow='noshadow' />
<dl>
<dt><font face='Helvetica'><font face='Helvetica'>Method</font>
<font size='+1'><b>seek</b></font>
</font><dt>
<dd><p><tt><font color='#202020'>void</font> <b><font color='#000066'>seek</font>(</b><b>)</b></tt></p></dd>

<dt><font face='Helvetica'>Description</font><dt>
<dd><font face='Helvetica'><p>Moves the result cursor (ahead or backwards) the specified number of
 rows. Notice that when you fetch a row, the cursor is automatically
 moved forward one slot.</p>
</font></dd></dl>


<hr clear='all' size='1' noshadow='noshadow' />
<dl>
<dt><font face='Helvetica'><font face='Helvetica'>Method</font>
<font size='+1'><b>fetch_row</b></font>
</font><dt>
<dd><p><tt><font color='#202020'>array</font>(<font color='#202020'>string</font>) <b><font color='#000066'>fetch_row</font>(</b><b>)</b></tt></p></dd>

<dt><font face='Helvetica'>Description</font><dt>
<dd><font face='Helvetica'><p>Returns an array with the contents of the next row in the result.
 Advances the row cursor to the next row. Returns 0 at end of table.</p>
</font></dd>
<dt><font face='Helvetica'>Bugs</font><dt>
<dd><font face='Helvetica'><p>Since there's no generic way to know whether a type is numeric
 or not in Postgres, all results are returned as strings.
 You can typecast them in Pike to get the numeric value.</p>
</font></dd>
<dt><font face='Helvetica'>See also</font><dt>
<dd><font face='Helvetica'><p><font face='courier'>seek()</font> </p>
</font></dd></dl>
</dd></dl></dd></dl><dl><dt><table width='100%' cellpadding='3' cellspacing='0' border='0'><tr><td bgcolor='#EEEEEE'><font size='+3'>&nbsp; Module <b>Gdbm</b></font></td></tr></table><br />
</dt><dd><dl><dt><table width='100%' cellpadding='3' cellspacing='0' border='0'><tr><td bgcolor='#EEEEEE'><font size='+3'>&nbsp; CLASS <b><font color='#005080'>Gdbm.gdbm</font></b></font></td></tr></table><br />
</dt><dd>

<hr clear='all' size='1' noshadow='noshadow' />
<dl>
<dt><font face='Helvetica'><font face='Helvetica'>Method</font>
<font size='+1'><b>create</b></font>
</font><dt>
<dd><p><tt><font color='#202020'>void</font> Gdbm.gdbm<b>(</b><font color='#202020'>void</font>|<font color='#202020'>string</font> <font color='#005080'>file</font>, <font color='#202020'>void</font>|<font color='#202020'>string</font> <font color='#005080'>mode</font><b>)</b></tt></p></dd>

<dt><font face='Helvetica'>Description</font><dt>
<dd><font face='Helvetica'><p>Without arguments, this function does nothing. With one argument it
 opens the given file as a gdbm database, if this fails for some
 reason, an error will be generated. If a second argument is present,
 it specifies how to open the database using one or more of the follow
 flags in a string:</p>
<table bgcolor='black' border='0' cellspacing='0' cellpadding='0'><tr><td>
<table cellspacing='1' cellpadding='3' border='0' bgcolor='black'>
<tr valign='top'><td bgcolor='white'><tt><font color='green'>r</font></tt></td><td bgcolor='white'><p>Open database for reading</p>
</td></tr>
<tr valign='top'><td bgcolor='white'><tt><font color='green'>w</font></tt></td><td bgcolor='white'><p>Open database for writing</p>
</td></tr>
<tr valign='top'><td bgcolor='white'><tt><font color='green'>c</font></tt></td><td bgcolor='white'><p>Create database if it does not exist</p>
</td></tr>
<tr valign='top'><td bgcolor='white'><tt><font color='green'>t</font></tt></td><td bgcolor='white'><p>Overwrite existing database</p>
</td></tr>
<tr valign='top'><td bgcolor='white'><tt><font color='green'>f</font></tt></td><td bgcolor='white'><p>Fast mode</p>
</td></tr>
<tr valign='top'><td bgcolor='white'><tt><font color='green'>s</font></tt></td><td bgcolor='white'><p>Synchronous mode</p>
</td></tr>
<tr valign='top'><td bgcolor='white'><tt><font color='green'>l</font></tt></td><td bgcolor='white'><p>Locking mode</p>
</td></tr>
</table></td></tr></table><br />
<p>The fast mode prevents the database from syncronizing each change
 in the database immediately. This is dangerous because the database
 can be left in an unusable state if Pike is terminated abnormally.</p>
<p> The default mode is <font face='courier'><code>"rwc"</code></font>.</p>
</font></dd>
<dt><font face='Helvetica'>Note</font><dt>
<dd><font face='Helvetica'><p>The gdbm manual states that it is important that the database is
  closed properly. Unfortunately this will not be the case if Pike
  calls exit() or returns from main(). You should therefore make sure
  you call close or destruct your gdbm objects when exiting your
  program. This will probably be done automatically in the future.</p>
</font></dd></dl>


<hr clear='all' size='1' noshadow='noshadow' />
<dl>
<dt><font face='Helvetica'><font face='Helvetica'>Method</font>
<font size='+1'><b>fetch</b></font><br />
<font face='Helvetica'>Method</font>
<font size='+1'><b>`[]</b></font><br />
</font><dt>
<dd><p><tt><font color='#202020'>string</font> <b><font color='#000066'>fetch</font>(</b><font color='#202020'>string</font> <font color='#005080'>key</font><b>)</b></tt><br />
<tt><font color='#202020'>string</font> <b><font color='#000066'>`[]</font>(</b><font color='#202020'>string</font> <font color='#005080'>key</font><b>)</b></tt></p></dd>

<dt><font face='Helvetica'>Description</font><dt>
<dd><font face='Helvetica'><p>Return the data associated with the key 'key' in the database.
 If there was no such key in the database, zero is returned.</p>
</font></dd></dl>


<hr clear='all' size='1' noshadow='noshadow' />
<dl>
<dt><font face='Helvetica'><font face='Helvetica'>Method</font>
<font size='+1'><b>delete</b></font>
</font><dt>
<dd><p><tt><font color='#202020'>int</font>(0..1) <b><font color='#000066'>delete</font>(</b><font color='#202020'>string</font> <font color='#005080'>key</font><b>)</b></tt></p></dd>

<dt><font face='Helvetica'>Description</font><dt>
<dd><font face='Helvetica'><p>Remove a key from the database. Returns 1 if successful,
 otherwise 0, e.g. when the item is not present or the
 database is read only.</p>
</font></dd></dl>


<hr clear='all' size='1' noshadow='noshadow' />
<dl>
<dt><font face='Helvetica'><font face='Helvetica'>Method</font>
<font size='+1'><b>firstkey</b></font>
</font><dt>
<dd><p><tt><font color='#202020'>string</font> <b><font color='#000066'>firstkey</font>(</b><b>)</b></tt></p></dd>

<dt><font face='Helvetica'>Description</font><dt>
<dd><font face='Helvetica'><p>Return the first key in the database, this can be any key in the
 database.</p>
</font></dd></dl>


<hr clear='all' size='1' noshadow='noshadow' />
<dl>
<dt><font face='Helvetica'><font face='Helvetica'>Method</font>
<font size='+1'><b>nextkey</b></font>
</font><dt>
<dd><p><tt><font color='#202020'>string</font> <b><font color='#000066'>nextkey</font>(</b><font color='#202020'>string</font> <font color='#005080'>key</font><b>)</b></tt></p></dd>

<dt><font face='Helvetica'>Description</font><dt>
<dd><font face='Helvetica'><p>This returns the key in database that follows the key 'key' key.
 This is of course used to iterate over all keys in the database.</p>
</font></dd>
<dt><font face='Helvetica'>Example</font><dt>
<dd><pre><p>// Write the contents of the database
  for(key=gdbm-&gt;firstkey(); k; k=gdbm-&gt;nextkey(k))
    write(k+":"+gdbm-&gt;fetch(k)+"\n");</p>
</pre></dd></dl>


<hr clear='all' size='1' noshadow='noshadow' />
<dl>
<dt><font face='Helvetica'><font face='Helvetica'>Method</font>
<font size='+1'><b>`[]=</b></font>
</font><dt>
<dd><p><tt><font color='#202020'>string</font> <b><font color='#000066'>`[]=</font>(</b><font color='#202020'>string</font> <font color='#005080'>key</font>, <font color='#202020'>string</font> <font color='#005080'>data</font><b>)</b></tt></p></dd>

<dt><font face='Helvetica'>Description</font><dt>
<dd><font face='Helvetica'><p>Associate the contents of 'data' with the key 'key'. If the key 'key'
 already exists in the database the data for that key will be replaced.
 If it does not exist it will be added. An error will be generated if
 the database was not open for writing.</p>
</font></dd>
<dt><font face='Helvetica'>Example</font><dt>
<dd><pre><p>gdbm[key] = data;</p>
</pre></dd>
<dt><font face='Helvetica'>Returns</font><dt>
<dd><font face='Helvetica'><p>Returns <font face='courier'>data</font>  on success.</p>
</font></dd>
<dt><font face='Helvetica'>See also</font><dt>
<dd><font face='Helvetica'><p><font face='courier'>store()</font> </p>
</font></dd></dl>


<hr clear='all' size='1' noshadow='noshadow' />
<dl>
<dt><font face='Helvetica'><font face='Helvetica'>Method</font>
<font size='+1'><b>store</b></font>
</font><dt>
<dd><p><tt><font color='#202020'>int</font> <b><font color='#000066'>store</font>(</b><font color='#202020'>string</font> <font color='#005080'>key</font>, <font color='#202020'>string</font> <font color='#005080'>data</font><b>)</b></tt></p></dd>

<dt><font face='Helvetica'>Description</font><dt>
<dd><font face='Helvetica'><p>Associate the contents of 'data' with the key 'key'. If the key 'key'
 already exists in the database the data for that key will be replaced.
 If it does not exist it will be added. An error will be generated if
 the database was not open for writing.</p>
</font></dd>
<dt><font face='Helvetica'>Example</font><dt>
<dd><pre><p>gdbm-&gt;store(key, data);</p>
</pre></dd>
<dt><font face='Helvetica'>Returns</font><dt>
<dd><font face='Helvetica'><p>Returns <font face='courier'><code>1</code></font> on success.</p>
</font></dd>
<dt><font face='Helvetica'>Note</font><dt>
<dd><font face='Helvetica'><p>Note that the returned value differs from that of <font face='courier'>`[]=()</font> .</p>
</font></dd>
<dt><font face='Helvetica'>See also</font><dt>
<dd><font face='Helvetica'><p><font face='courier'>`[]=()</font> </p>
</font></dd></dl>


<hr clear='all' size='1' noshadow='noshadow' />
<dl>
<dt><font face='Helvetica'><font face='Helvetica'>Method</font>
<font size='+1'><b>reorganize</b></font>
</font><dt>
<dd><p><tt><font color='#202020'>int</font> <b><font color='#000066'>reorganize</font>(</b><b>)</b></tt></p></dd>

<dt><font face='Helvetica'>Description</font><dt>
<dd><font face='Helvetica'><p>Deletions and insertions into the database can cause fragmentation
 which will make the database bigger. This routine reorganizes the
 contents to get rid of fragmentation. Note however that this function
 can take a LOT of time to run.</p>
</font></dd></dl>


<hr clear='all' size='1' noshadow='noshadow' />
<dl>
<dt><font face='Helvetica'><font face='Helvetica'>Method</font>
<font size='+1'><b>sync</b></font>
</font><dt>
<dd><p><tt><font color='#202020'>void</font> <b><font color='#000066'>sync</font>(</b><b>)</b></tt></p></dd>

<dt><font face='Helvetica'>Description</font><dt>
<dd><font face='Helvetica'><p>When opening the database with the 'f' flag writings to the database
 can be cached in memory for a long time. Calling sync will write
 all such caches to disk and not return until everything is stored
 on the disk.</p>
</font></dd></dl>


<hr clear='all' size='1' noshadow='noshadow' />
<dl>
<dt><font face='Helvetica'><font face='Helvetica'>Method</font>
<font size='+1'><b>close</b></font>
</font><dt>
<dd><p><tt><font color='#202020'>void</font> <b><font color='#000066'>close</font>(</b><b>)</b></tt></p></dd>

<dt><font face='Helvetica'>Description</font><dt>
<dd><font face='Helvetica'><p>Closes the database.</p>
</font></dd></dl>
</dd></dl></dd></dl></dd></dl></body></html>