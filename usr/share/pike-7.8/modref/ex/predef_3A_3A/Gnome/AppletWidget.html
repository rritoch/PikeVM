<html><head><title>Pike Reference Manual - Gnome.AppletWidget</title>
<link rel='stylesheet' href='../../../style.css' /></head>
<body topmargin='0' leftmargin='0' marginheight='0' marginwidth='0'
      bgcolor='#ffffff' text='#000000' link='#000099' alink='#002040'
      vlink='#000099'>

<table width="100%">
  <tr>
    <td colspan='3'></td>
    <td colspan='2' align='right'>Extracted from Pike v7.8 release 116 at 2008-12-31.</td>
  </tr>
  <tr>
    <td width="0%"><img src="../../..//images/unit.gif" alt="" width="10" height="1"></td>
    <td width="1%">
      <a href="http://pike.ida.liu.se/"><img src="../../..//images/pike_logo.gif"
      border="0" alt="pike.ida.liu.se" width="181" height="41" hspace="5"></a></td>
    <td width="0%"><img src="../../..//images/unit.gif" alt="" width="10" height="1"></td>
    <td width="99%">
      <table align="center" border="0" width="100%" cellspacing="0" cellpadding="0" valign="middle">
        <tr>
          <td width="1%" align="right"><img src="../../..//images/pike_line_left.gif" alt="" border="0" width="5" height="11"></td>
          <td background="../../..//images/pike_line_middle.gif" width="98%"><img src="../../..//images/unit.gif" alt="" border="0" width="11" height="11"></td>
          <td width="1%" align="left"><img src="../../..//images/pike_line_right.gif" alt="" border="0" width="5" height="11"></td>
        </tr>
      </table>
    </td>
    <td width="0%"><img src="../../..//images/unit.gif" alt="" width="10" height="1"></td>
  </tr>
  <tr>
    <td colspan="5"><img src="../../..//images/unit.gif" alt="" width="1" height="10"></td>
  </tr>
</table>

<table>
  <tr>
    <td width='180' valign='top' bgcolor='#f0f0f0'><a href='../../../index.html'><b>[Top]</b></a><br />
<a href='../../../ex/predef_3A_3A/Gnome.html'><b>Gnome</b></a><br />
<b>Gnome.AppletWidget</b><br />
<table border='0' cellpadding='1' cellspacing='0' class='sidebar'><tr><td nowrap='nowrap'><br /><b>Methods</b></td></tr>
<tr><td nowrap='nowrap'>&nbsp;<a href='../../../ex/predef_3A_3A/Gnome/AppletWidget/abort_load.html'>abort_load()</a></td></tr>
<tr><td nowrap='nowrap'>&nbsp;<a href='../../../ex/predef_3A_3A/Gnome/AppletWidget/add.html'>add()</a></td></tr>
<tr><td nowrap='nowrap'>&nbsp;<a href='../../../ex/predef_3A_3A/Gnome/AppletWidget/callback_set_sensitive.html'>callback_set_sensitive()</a></td></tr>
<tr><td nowrap='nowrap'>&nbsp;<a href='../../../ex/predef_3A_3A/Gnome/AppletWidget/create.html'>create()</a></td></tr>
<tr><td nowrap='nowrap'>&nbsp;<a href='../../../ex/predef_3A_3A/Gnome/AppletWidget/get_free_space.html'>get_free_space()</a></td></tr>
<tr><td nowrap='nowrap'>&nbsp;<a href='../../../ex/predef_3A_3A/Gnome/AppletWidget/get_globcfgpath.html'>get_globcfgpath()</a></td></tr>
<tr><td nowrap='nowrap'>&nbsp;<a href='../../../ex/predef_3A_3A/Gnome/AppletWidget/get_panel_orient.html'>get_panel_orient()</a></td></tr>
<tr><td nowrap='nowrap'>&nbsp;<a href='../../../ex/predef_3A_3A/Gnome/AppletWidget/get_panel_pixel_size.html'>get_panel_pixel_size()</a></td></tr>
<tr><td nowrap='nowrap'>&nbsp;<a href='../../../ex/predef_3A_3A/Gnome/AppletWidget/get_privcfgpath.html'>get_privcfgpath()</a></td></tr>
<tr><td nowrap='nowrap'>&nbsp;<a href='../../../ex/predef_3A_3A/Gnome/AppletWidget/register_callback.html'>register_callback()</a></td></tr>
<tr><td nowrap='nowrap'>&nbsp;<a href='../../../ex/predef_3A_3A/Gnome/AppletWidget/register_callback_dir.html'>register_callback_dir()</a></td></tr>
<tr><td nowrap='nowrap'>&nbsp;<a href='../../../ex/predef_3A_3A/Gnome/AppletWidget/register_stock_callback.html'>register_stock_callback()</a></td></tr>
<tr><td nowrap='nowrap'>&nbsp;<a href='../../../ex/predef_3A_3A/Gnome/AppletWidget/register_stock_callback_dir.html'>register_stock_callback_dir()</a></td></tr>
<tr><td nowrap='nowrap'>&nbsp;<a href='../../../ex/predef_3A_3A/Gnome/AppletWidget/remove.html'>remove()</a></td></tr>
<tr><td nowrap='nowrap'>&nbsp;<a href='../../../ex/predef_3A_3A/Gnome/AppletWidget/send_position.html'>send_position()</a></td></tr>
<tr><td nowrap='nowrap'>&nbsp;<a href='../../../ex/predef_3A_3A/Gnome/AppletWidget/set_tooltip.html'>set_tooltip()</a></td></tr>
<tr><td nowrap='nowrap'>&nbsp;<a href='../../../ex/predef_3A_3A/Gnome/AppletWidget/set_widget_tooltip.html'>set_widget_tooltip()</a></td></tr>
<tr><td nowrap='nowrap'>&nbsp;<a href='../../../ex/predef_3A_3A/Gnome/AppletWidget/sync_config.html'>sync_config()</a></td></tr>
<tr><td nowrap='nowrap'>&nbsp;<a href='../../../ex/predef_3A_3A/Gnome/AppletWidget/unregister_callback.html'>unregister_callback()</a></td></tr>
<tr><td nowrap='nowrap'>&nbsp;<a href='../../../ex/predef_3A_3A/Gnome/AppletWidget/unregister_callback_dir.html'>unregister_callback_dir()</a></td></tr>
</table></td>
    <td width='520' valign='top'>

    <table border="0" width="520" bgcolor="#e0e0e0"
           cellpadding="0" cellspacing="4" class='sidebar'>
      <tr>
        <td valign="middle">
	  <a href="../../../ex/predef_3A_3A/Gnome/Appbar/set_status.html"><img src="../../../images/prev.gif" hspace="3"
	         border="0" alt="previous" >Gnome.Appbar()-&gt;set_status()</a>
          <br />
	</td>
	<td align="right" valign="middle">
	  <a href="../../../ex/predef_3A_3A/Gnome/AppletWidget/abort_load.html">Gnome.AppletWidget()-&gt;abort_load()<img src="../../../images/next.gif" hspace="3"
	          border="0" alt="next" ></a>
	  <br />
	</td>
      </tr>
    </table>

    <h1>Class Gnome.AppletWidget</h1>
    <dl>
<dt><font face='Helvetica'>Description</font><dt>
<dd><font face='Helvetica'><p>Applets are basically GNOME applications whose window sits inside
 the panel. Also the panel "takes care" of the applets by providing
 them with session saving and restarting, window management (inside
 of the panel), and a context menu.</p>
<p> The simplest applet one can write would be along the lines of:</p>
<p><font face='courier'><pre>
 int main( int argc, array argv )
 {
   Gnome.init( "hello", "1.0", argv, 0 );
   Gnome.AppletWidget("hello")-&amp;gt;add(GTK.Label("Hello World!"))-&amp;gt;show_all();
   GTK.applet_widget_gtk_main();
 }
 </pre></font>
 This creates an applet which just sits on the panel, not really
 doing anything, in real life the label would be substituted by
 something which actually does something useful. As you can see the
 applet doesn't really take care of restarting itself.</p>
<p> For the applet to be added to the menus, you need to install two
 files. Your x.gnorba file goes into $sysconfdir/CORBA/servers/ and
 the x.desktop file goes into $prefix/share/applets/&amp;lt;category&amp;gt;/.</p>
<p> Example hello.desktop:
 <font face='courier'><pre>
 [Desktop Entry]
  Name=Hello Applet
  Comment=An example Hello World type Applet
  Type=PanelApplet
  Exec=hello.pike
  Icon=gnome-hello.png
  Terminal=0
 </pre></font>
 Example hello.gnorba:
 <font face='courier'><pre>
 [hello]
  type=exe
  repo_id=IDL:GNOME/Applet:1.0
  description=Hello Applet
  location_info=hello.pike
 </pre></font>
 One thing to keep in mind is that the Exec line for the .desktop
 doesn't actually get executed when the Type is PanelApplet. The
 Exec line should be the GOAD ID specified in the .gnorba file (the
 "hello" enclosed by brackets). For a simple applet all you need to
 do is replace the hello.pike with the name of your applet
 executable.</p>
<p>  When the user right clicks on the applet, a menu appears, this is
  all handeled by the panel, so in order to add items to it you use
  a special interface to "add callbacks" to the menu. A very simple
  example would be (making our hello applet even more feature full):</p>
<p><font face='courier'><pre>
 void hello_there()
 {
   write( "Hello there, indeed!\n" );
 }

 int main( int argc, array argv )
 {
   Gnome.AppletWidget w;
   Gnome.init( "hello", "1.0", argv, 0 );
   w = Gnome.AppletWidget("hello");
   w-&amp;gt;add(GTK.Label("Hello World!"))-&amp;gt;show_all();
   w-&amp;gt;register_callback( "hello", "Hello there", hello_there, 0 );
   GTK.applet_widget_gtk_main();
 }
 </pre></font>
 Now the user will see a "Hello There" menu item on the applet menu,
 and when selected, the applet will print "Hello There". Useful huh?</p>
<p> Note that the first argument to the register_callback is just a
 string identifier of this callback, and can really be whatever you
 want. But it should NOT be translated as the label (the 2nd
 argument) should be.</p>
<p>  Signals:
 <b>back_change</b></p>
<p><b>change_orient</b></p>
<p><b>change_pixel_size</b></p>
<p><b>change_position</b></p>
<p><b>tooltip_state</b></p>
</font></dd></dl>

<hr clear='all' size='1' noshadow='noshadow' />
<dl>
<dt><font face='Helvetica'><font face='Helvetica'>Inherit</font>
<font size='+1'><b>Plug</b></font>
</font><dt>
<dd><p><font face='courier'>inherit </font><font face='courier'><a href='../../predef_3A_3A/GTK/Plug.html'>GTK.Plug</a></font><font face='courier'> : <font color='#F000F0'>Plug</font></font></p></dd>
</dl>


    <hr size='1' noshade='1' />
    </td>
  </tr>
</table>
</body>
</html>